(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dp={},pF={get exports(){return Dp},set exports(t){Dp=t}},Bg={},H={},mF={get exports(){return H},set exports(t){H=t}},cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=Symbol.for("react.element"),gF=Symbol.for("react.portal"),vF=Symbol.for("react.fragment"),yF=Symbol.for("react.strict_mode"),xF=Symbol.for("react.profiler"),wF=Symbol.for("react.provider"),SF=Symbol.for("react.context"),_F=Symbol.for("react.forward_ref"),MF=Symbol.for("react.suspense"),AF=Symbol.for("react.memo"),EF=Symbol.for("react.lazy"),GS=Symbol.iterator;function TF(t){return t===null||typeof t!="object"?null:(t=GS&&t[GS]||t["@@iterator"],typeof t=="function"?t:null)}var PC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RC=Object.assign,DC={};function Ah(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||PC}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ah.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BC(){}BC.prototype=Ah.prototype;function u9(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||PC}var c9=u9.prototype=new BC;c9.constructor=u9;RC(c9,Ah.prototype);c9.isPureReactComponent=!0;var HS=Array.isArray,IC=Object.prototype.hasOwnProperty,f9={current:null},LC={key:!0,ref:!0,__self:!0,__source:!0};function FC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)IC.call(e,r)&&!LC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:M0,type:t,key:s,ref:o,props:i,_owner:f9.current}}function CF(t,e){return{$$typeof:M0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function h9(t){return typeof t=="object"&&t!==null&&t.$$typeof===M0}function bF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var VS=/\/+/g;function P5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bF(""+t.key):e.toString(36)}function Fm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case M0:case gF:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+P5(o,0):r,HS(i)?(n="",t!=null&&(n=t.replace(VS,"$&/")+"/"),Fm(i,e,n,"",function(u){return u})):i!=null&&(h9(i)&&(i=CF(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(VS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",HS(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+P5(s,a);o+=Fm(s,e,n,l,i)}else if(l=TF(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+P5(s,a++),o+=Fm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function e2(t,e,n){if(t==null)return t;var r=[],i=0;return Fm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ni={current:null},km={transition:null},RF={ReactCurrentDispatcher:Ni,ReactCurrentBatchConfig:km,ReactCurrentOwner:f9};cn.Children={map:e2,forEach:function(t,e,n){e2(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return e2(t,function(){e++}),e},toArray:function(t){return e2(t,function(e){return e})||[]},only:function(t){if(!h9(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};cn.Component=Ah;cn.Fragment=vF;cn.Profiler=xF;cn.PureComponent=u9;cn.StrictMode=yF;cn.Suspense=MF;cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RF;cn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=f9.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)IC.call(e,l)&&!LC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:M0,type:t.type,key:i,ref:s,props:r,_owner:o}};cn.createContext=function(t){return t={$$typeof:SF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wF,_context:t},t.Consumer=t};cn.createElement=FC;cn.createFactory=function(t){var e=FC.bind(null,t);return e.type=t,e};cn.createRef=function(){return{current:null}};cn.forwardRef=function(t){return{$$typeof:_F,render:t}};cn.isValidElement=h9;cn.lazy=function(t){return{$$typeof:EF,_payload:{_status:-1,_result:t},_init:PF}};cn.memo=function(t,e){return{$$typeof:AF,type:t,compare:e===void 0?null:e}};cn.startTransition=function(t){var e=km.transition;km.transition={};try{t()}finally{km.transition=e}};cn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};cn.useCallback=function(t,e){return Ni.current.useCallback(t,e)};cn.useContext=function(t){return Ni.current.useContext(t)};cn.useDebugValue=function(){};cn.useDeferredValue=function(t){return Ni.current.useDeferredValue(t)};cn.useEffect=function(t,e){return Ni.current.useEffect(t,e)};cn.useId=function(){return Ni.current.useId()};cn.useImperativeHandle=function(t,e,n){return Ni.current.useImperativeHandle(t,e,n)};cn.useInsertionEffect=function(t,e){return Ni.current.useInsertionEffect(t,e)};cn.useLayoutEffect=function(t,e){return Ni.current.useLayoutEffect(t,e)};cn.useMemo=function(t,e){return Ni.current.useMemo(t,e)};cn.useReducer=function(t,e,n){return Ni.current.useReducer(t,e,n)};cn.useRef=function(t){return Ni.current.useRef(t)};cn.useState=function(t){return Ni.current.useState(t)};cn.useSyncExternalStore=function(t,e,n){return Ni.current.useSyncExternalStore(t,e,n)};cn.useTransition=function(){return Ni.current.useTransition()};cn.version="18.2.0";(function(t){t.exports=cn})(mF);const Rn=bC(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DF=H,BF=Symbol.for("react.element"),IF=Symbol.for("react.fragment"),LF=Object.prototype.hasOwnProperty,FF=DF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kF={key:!0,ref:!0,__self:!0,__source:!0};function kC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LF.call(e,r)&&!kF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BF,type:t,key:s,ref:o,props:i,_owner:FF.current}}Bg.Fragment=IF;Bg.jsx=kC;Bg.jsxs=kC;(function(t){t.exports=Bg})(pF);const Qf=Dp.Fragment,Ne=Dp.jsx,hn=Dp.jsxs;var A4={},E4={},UF={get exports(){return E4},set exports(t){E4=t}},Ms={},T4={},NF={get exports(){return T4},set exports(t){T4=t}},UC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,O){var V=L.length;L.push(O);e:for(;0<V;){var j=V-1>>>1,k=L[j];if(0<i(k,O))L[j]=O,L[V]=k,V=j;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var O=L[0],V=L.pop();if(V!==O){L[0]=V;e:for(var j=0,k=L.length,q=k>>>1;j<q;){var ee=2*(j+1)-1,Y=L[ee],Z=ee+1,ae=L[Z];if(0>i(Y,V))Z<k&&0>i(ae,Y)?(L[j]=ae,L[Z]=V,j=Z):(L[j]=Y,L[ee]=V,j=ee);else if(Z<k&&0>i(ae,V))L[j]=ae,L[Z]=V,j=Z;else break e}}return O}function i(L,O){var V=L.sortIndex-O.sortIndex;return V!==0?V:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=L)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function M(L){if(v=!1,x(L),!g)if(n(l)!==null)g=!0,W(E);else{var O=n(u);O!==null&&ie(M,O.startTime-L)}}function E(L,O){g=!1,v&&(v=!1,S(T),T=-1),m=!0;var V=d;try{for(x(O),f=n(l);f!==null&&(!(f.expirationTime>O)||L&&!N());){var j=f.callback;if(typeof j=="function"){f.callback=null,d=f.priorityLevel;var k=j(f.expirationTime<=O);O=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),x(O)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var ee=n(u);ee!==null&&ie(M,ee.startTime-O),q=!1}return q}finally{f=null,d=V,m=!1}}var C=!1,P=null,T=-1,R=5,B=-1;function N(){return!(t.unstable_now()-B<R)}function G(){if(P!==null){var L=t.unstable_now();B=L;var O=!0;try{O=P(!0,L)}finally{O?J():(C=!1,P=null)}}else C=!1}var J;if(typeof w=="function")J=function(){w(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=G,J=function(){U.postMessage(null)}}else J=function(){y(G,0)};function W(L){P=L,C||(C=!0,J())}function ie(L,O){T=y(function(){L(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,W(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var V=d;d=O;try{return L()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=d;d=L;try{return O()}finally{d=V}},t.unstable_scheduleCallback=function(L,O,V){var j=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?j+V:j):V=j,L){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=V+k,L={id:c++,callback:O,priorityLevel:L,startTime:V,expirationTime:k,sortIndex:-1},V>j?(L.sortIndex=V,e(u,L),n(l)===null&&L===n(u)&&(v?(S(T),T=-1):v=!0,ie(M,V-j))):(L.sortIndex=k,e(l,L),g||m||(g=!0,W(E))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var O=d;return function(){var V=d;d=O;try{return L.apply(this,arguments)}finally{d=V}}}})(UC);(function(t){t.exports=UC})(NF);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=H,Ss=T4;function rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Bp={};function wc(t,e){qf(t,e),qf(t+"Capture",e)}function qf(t,e){for(Bp[t]=e,t=0;t<e.length;t++)OC.add(e[t])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C4=Object.prototype.hasOwnProperty,OF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WS={},jS={};function zF(t){return C4.call(jS,t)?!0:C4.call(WS,t)?!1:OF.test(t)?jS[t]=!0:(WS[t]=!0,!1)}function GF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HF(t,e,n,r){if(e===null||typeof e>"u"||GF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){si[t]=new Oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];si[e]=new Oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){si[t]=new Oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){si[t]=new Oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){si[t]=new Oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){si[t]=new Oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){si[t]=new Oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){si[t]=new Oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){si[t]=new Oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var d9=/[\-:]([a-z])/g;function p9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(d9,p9);si[e]=new Oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(d9,p9);si[e]=new Oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(d9,p9);si[e]=new Oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){si[t]=new Oi(t,1,!1,t.toLowerCase(),null,!1,!1)});si.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){si[t]=new Oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function m9(t,e,n,r){var i=si.hasOwnProperty(e)?si[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HF(e,n,i,r)&&(n=null),r||i===null?zF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ka=NC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,t2=Symbol.for("react.element"),gf=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),g9=Symbol.for("react.strict_mode"),b4=Symbol.for("react.profiler"),zC=Symbol.for("react.provider"),GC=Symbol.for("react.context"),v9=Symbol.for("react.forward_ref"),P4=Symbol.for("react.suspense"),R4=Symbol.for("react.suspense_list"),y9=Symbol.for("react.memo"),xl=Symbol.for("react.lazy"),HC=Symbol.for("react.offscreen"),XS=Symbol.iterator;function dd(t){return t===null||typeof t!="object"?null:(t=XS&&t[XS]||t["@@iterator"],typeof t=="function"?t:null)}var ar=Object.assign,R5;function Xd(t){if(R5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);R5=e&&e[1]||""}return`
`+R5+t}var D5=!1;function B5(t,e){if(!t||D5)return"";D5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{D5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xd(t):""}function VF(t){switch(t.tag){case 5:return Xd(t.type);case 16:return Xd("Lazy");case 13:return Xd("Suspense");case 19:return Xd("SuspenseList");case 0:case 2:case 15:return t=B5(t.type,!1),t;case 11:return t=B5(t.type.render,!1),t;case 1:return t=B5(t.type,!0),t;default:return""}}function D4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vf:return"Fragment";case gf:return"Portal";case b4:return"Profiler";case g9:return"StrictMode";case P4:return"Suspense";case R4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GC:return(t.displayName||"Context")+".Consumer";case zC:return(t._context.displayName||"Context")+".Provider";case v9:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case y9:return e=t.displayName||null,e!==null?e:D4(t.type)||"Memo";case xl:e=t._payload,t=t._init;try{return D4(t(e))}catch{}}return null}function WF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D4(e);case 8:return e===g9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jF(t){var e=VC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function n2(t){t._valueTracker||(t._valueTracker=jF(t))}function WC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function d1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function B4(t,e){var n=e.checked;return ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jC(t,e){e=e.checked,e!=null&&m9(t,"checked",e,!1)}function I4(t,e){jC(t,e);var n=Yl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?L4(t,e.type,n):e.hasOwnProperty("defaultValue")&&L4(t,e.type,Yl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function L4(t,e,n){(e!=="number"||d1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jd=Array.isArray;function Nf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function F4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(rt(92));if(Jd(n)){if(1<n.length)throw Error(rt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yl(n)}}function XC(t,e){var n=Yl(e.value),r=Yl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ZS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var r2,YC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(r2=r2||document.createElement("div"),r2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=r2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ip(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XF=["Webkit","ms","Moz","O"];Object.keys(op).forEach(function(t){XF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),op[e]=op[t]})});function KC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||op.hasOwnProperty(t)&&op[t]?(""+e).trim():e+"px"}function ZC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JF=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U4(t,e){if(e){if(JF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function N4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O4=null;function x9(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var z4=null,Of=null,zf=null;function QS(t){if(t=T0(t)){if(typeof z4!="function")throw Error(rt(280));var e=t.stateNode;e&&(e=Ug(e),z4(t.stateNode,t.type,e))}}function QC(t){Of?zf?zf.push(t):zf=[t]:Of=t}function qC(){if(Of){var t=Of,e=zf;if(zf=Of=null,QS(t),e)for(t=0;t<e.length;t++)QS(e[t])}}function $C(t,e){return t(e)}function eb(){}var I5=!1;function tb(t,e,n){if(I5)return t(e,n);I5=!0;try{return $C(t,e,n)}finally{I5=!1,(Of!==null||zf!==null)&&(eb(),qC())}}function Lp(t,e){var n=t.stateNode;if(n===null)return null;var r=Ug(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(rt(231,e,typeof n));return n}var G4=!1;if(Oa)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){G4=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{G4=!1}function YF(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ap=!1,p1=null,m1=!1,H4=null,KF={onError:function(t){ap=!0,p1=t}};function ZF(t,e,n,r,i,s,o,a,l){ap=!1,p1=null,YF.apply(KF,arguments)}function QF(t,e,n,r,i,s,o,a,l){if(ZF.apply(this,arguments),ap){if(ap){var u=p1;ap=!1,p1=null}else throw Error(rt(198));m1||(m1=!0,H4=u)}}function Sc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qS(t){if(Sc(t)!==t)throw Error(rt(188))}function qF(t){var e=t.alternate;if(!e){if(e=Sc(t),e===null)throw Error(rt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qS(i),t;if(s===r)return qS(i),e;s=s.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?t:e}function rb(t){return t=qF(t),t!==null?ib(t):null}function ib(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ib(t);if(e!==null)return e;t=t.sibling}return null}var sb=Ss.unstable_scheduleCallback,$S=Ss.unstable_cancelCallback,$F=Ss.unstable_shouldYield,ek=Ss.unstable_requestPaint,Sr=Ss.unstable_now,tk=Ss.unstable_getCurrentPriorityLevel,w9=Ss.unstable_ImmediatePriority,ob=Ss.unstable_UserBlockingPriority,g1=Ss.unstable_NormalPriority,nk=Ss.unstable_LowPriority,ab=Ss.unstable_IdlePriority,Ig=null,Ko=null;function rk(t){if(Ko&&typeof Ko.onCommitFiberRoot=="function")try{Ko.onCommitFiberRoot(Ig,t,void 0,(t.current.flags&128)===128)}catch{}}var So=Math.clz32?Math.clz32:ok,ik=Math.log,sk=Math.LN2;function ok(t){return t>>>=0,t===0?32:31-(ik(t)/sk|0)|0}var i2=64,s2=4194304;function Yd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function v1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Yd(a):(s&=o,s!==0&&(r=Yd(s)))}else o=n&~i,o!==0?r=Yd(o):s!==0&&(r=Yd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-So(e),i=1<<n,r|=t[n],e&=~i;return r}function ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-So(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ak(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function V4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lb(){var t=i2;return i2<<=1,!(i2&4194240)&&(i2=64),t}function L5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function A0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-So(e),t[e]=n}function uk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-So(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function S9(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-So(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dn=0;function ub(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cb,_9,fb,hb,db,W4=!1,o2=[],kl=null,Ul=null,Nl=null,Fp=new Map,kp=new Map,El=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e_(t,e){switch(t){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Ul=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":Fp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(e.pointerId)}}function md(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=T0(e),e!==null&&_9(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fk(t,e,n,r,i){switch(e){case"focusin":return kl=md(kl,t,e,n,r,i),!0;case"dragenter":return Ul=md(Ul,t,e,n,r,i),!0;case"mouseover":return Nl=md(Nl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fp.set(s,md(Fp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kp.set(s,md(kp.get(s)||null,t,e,n,r,i)),!0}return!1}function pb(t){var e=Gu(t.target);if(e!==null){var n=Sc(e);if(n!==null){if(e=n.tag,e===13){if(e=nb(n),e!==null){t.blockedOn=e,db(t.priority,function(){fb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Um(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=j4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);O4=r,n.target.dispatchEvent(r),O4=null}else return e=T0(n),e!==null&&_9(e),t.blockedOn=n,!1;e.shift()}return!0}function t_(t,e,n){Um(t)&&n.delete(e)}function hk(){W4=!1,kl!==null&&Um(kl)&&(kl=null),Ul!==null&&Um(Ul)&&(Ul=null),Nl!==null&&Um(Nl)&&(Nl=null),Fp.forEach(t_),kp.forEach(t_)}function gd(t,e){t.blockedOn===e&&(t.blockedOn=null,W4||(W4=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,hk)))}function Up(t){function e(i){return gd(i,t)}if(0<o2.length){gd(o2[0],t);for(var n=1;n<o2.length;n++){var r=o2[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kl!==null&&gd(kl,t),Ul!==null&&gd(Ul,t),Nl!==null&&gd(Nl,t),Fp.forEach(e),kp.forEach(e),n=0;n<El.length;n++)r=El[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<El.length&&(n=El[0],n.blockedOn===null);)pb(n),n.blockedOn===null&&El.shift()}var Gf=Ka.ReactCurrentBatchConfig,y1=!0;function dk(t,e,n,r){var i=Dn,s=Gf.transition;Gf.transition=null;try{Dn=1,M9(t,e,n,r)}finally{Dn=i,Gf.transition=s}}function pk(t,e,n,r){var i=Dn,s=Gf.transition;Gf.transition=null;try{Dn=4,M9(t,e,n,r)}finally{Dn=i,Gf.transition=s}}function M9(t,e,n,r){if(y1){var i=j4(t,e,n,r);if(i===null)W5(t,e,r,x1,n),e_(t,r);else if(fk(i,t,e,n,r))r.stopPropagation();else if(e_(t,r),e&4&&-1<ck.indexOf(t)){for(;i!==null;){var s=T0(i);if(s!==null&&cb(s),s=j4(t,e,n,r),s===null&&W5(t,e,r,x1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else W5(t,e,r,null,n)}}var x1=null;function j4(t,e,n,r){if(x1=null,t=x9(r),t=Gu(t),t!==null)if(e=Sc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return x1=t,null}function mb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tk()){case w9:return 1;case ob:return 4;case g1:case nk:return 16;case ab:return 536870912;default:return 16}default:return 16}}var bl=null,A9=null,Nm=null;function gb(){if(Nm)return Nm;var t,e=A9,n=e.length,r,i="value"in bl?bl.value:bl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nm=i.slice(t,1<r?1-r:void 0)}function Om(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function a2(){return!0}function n_(){return!1}function As(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?a2:n_,this.isPropagationStopped=n_,this}return ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=a2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=a2)},persist:function(){},isPersistent:a2}),e}var Eh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E9=As(Eh),E0=ar({},Eh,{view:0,detail:0}),mk=As(E0),F5,k5,vd,Lg=ar({},E0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T9,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vd&&(vd&&t.type==="mousemove"?(F5=t.screenX-vd.screenX,k5=t.screenY-vd.screenY):k5=F5=0,vd=t),F5)},movementY:function(t){return"movementY"in t?t.movementY:k5}}),r_=As(Lg),gk=ar({},Lg,{dataTransfer:0}),vk=As(gk),yk=ar({},E0,{relatedTarget:0}),U5=As(yk),xk=ar({},Eh,{animationName:0,elapsedTime:0,pseudoElement:0}),wk=As(xk),Sk=ar({},Eh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_k=As(Sk),Mk=ar({},Eh,{data:0}),i_=As(Mk),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ck(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tk[t])?!!e[t]:!1}function T9(){return Ck}var bk=ar({},E0,{key:function(t){if(t.key){var e=Ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Om(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ek[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T9,charCode:function(t){return t.type==="keypress"?Om(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Om(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pk=As(bk),Rk=ar({},Lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s_=As(Rk),Dk=ar({},E0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T9}),Bk=As(Dk),Ik=ar({},Eh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lk=As(Ik),Fk=ar({},Lg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kk=As(Fk),Uk=[9,13,27,32],C9=Oa&&"CompositionEvent"in window,lp=null;Oa&&"documentMode"in document&&(lp=document.documentMode);var Nk=Oa&&"TextEvent"in window&&!lp,vb=Oa&&(!C9||lp&&8<lp&&11>=lp),o_=String.fromCharCode(32),a_=!1;function yb(t,e){switch(t){case"keyup":return Uk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yf=!1;function Ok(t,e){switch(t){case"compositionend":return xb(e);case"keypress":return e.which!==32?null:(a_=!0,o_);case"textInput":return t=e.data,t===o_&&a_?null:t;default:return null}}function zk(t,e){if(yf)return t==="compositionend"||!C9&&yb(t,e)?(t=gb(),Nm=A9=bl=null,yf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vb&&e.locale!=="ko"?null:e.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gk[t.type]:e==="textarea"}function wb(t,e,n,r){QC(r),e=w1(e,"onChange"),0<e.length&&(n=new E9("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var up=null,Np=null;function Hk(t){Db(t,0)}function Fg(t){var e=Sf(t);if(WC(e))return t}function Vk(t,e){if(t==="change")return e}var Sb=!1;if(Oa){var N5;if(Oa){var O5="oninput"in document;if(!O5){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),O5=typeof u_.oninput=="function"}N5=O5}else N5=!1;Sb=N5&&(!document.documentMode||9<document.documentMode)}function c_(){up&&(up.detachEvent("onpropertychange",_b),Np=up=null)}function _b(t){if(t.propertyName==="value"&&Fg(Np)){var e=[];wb(e,Np,t,x9(t)),tb(Hk,e)}}function Wk(t,e,n){t==="focusin"?(c_(),up=e,Np=n,up.attachEvent("onpropertychange",_b)):t==="focusout"&&c_()}function jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fg(Np)}function Xk(t,e){if(t==="click")return Fg(e)}function Jk(t,e){if(t==="input"||t==="change")return Fg(e)}function Yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Eo=typeof Object.is=="function"?Object.is:Yk;function Op(t,e){if(Eo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!C4.call(e,i)||!Eo(t[i],e[i]))return!1}return!0}function f_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h_(t,e){var n=f_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f_(n)}}function Mb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ab(){for(var t=window,e=d1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=d1(t.document)}return e}function b9(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kk(t){var e=Ab(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mb(n.ownerDocument.documentElement,n)){if(r!==null&&b9(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=h_(n,s);var o=h_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zk=Oa&&"documentMode"in document&&11>=document.documentMode,xf=null,X4=null,cp=null,J4=!1;function d_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;J4||xf==null||xf!==d1(r)||(r=xf,"selectionStart"in r&&b9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cp&&Op(cp,r)||(cp=r,r=w1(X4,"onSelect"),0<r.length&&(e=new E9("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xf)))}function l2(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wf={animationend:l2("Animation","AnimationEnd"),animationiteration:l2("Animation","AnimationIteration"),animationstart:l2("Animation","AnimationStart"),transitionend:l2("Transition","TransitionEnd")},z5={},Eb={};Oa&&(Eb=document.createElement("div").style,"AnimationEvent"in window||(delete wf.animationend.animation,delete wf.animationiteration.animation,delete wf.animationstart.animation),"TransitionEvent"in window||delete wf.transitionend.transition);function kg(t){if(z5[t])return z5[t];if(!wf[t])return t;var e=wf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Eb)return z5[t]=e[n];return t}var Tb=kg("animationend"),Cb=kg("animationiteration"),bb=kg("animationstart"),Pb=kg("transitionend"),Rb=new Map,p_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(t,e){Rb.set(t,e),wc(e,[t])}for(var G5=0;G5<p_.length;G5++){var H5=p_[G5],Qk=H5.toLowerCase(),qk=H5[0].toUpperCase()+H5.slice(1);$l(Qk,"on"+qk)}$l(Tb,"onAnimationEnd");$l(Cb,"onAnimationIteration");$l(bb,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(Pb,"onTransitionEnd");qf("onMouseEnter",["mouseout","mouseover"]);qf("onMouseLeave",["mouseout","mouseover"]);qf("onPointerEnter",["pointerout","pointerover"]);qf("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$k=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kd));function m_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QF(r,e,void 0,t),t.currentTarget=null}function Db(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;m_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;m_(i,a,u),s=l}}}if(m1)throw t=H4,m1=!1,H4=null,t}function Hn(t,e){var n=e[q4];n===void 0&&(n=e[q4]=new Set);var r=t+"__bubble";n.has(r)||(Bb(e,t,2,!1),n.add(r))}function V5(t,e,n){var r=0;e&&(r|=4),Bb(n,t,r,e)}var u2="_reactListening"+Math.random().toString(36).slice(2);function zp(t){if(!t[u2]){t[u2]=!0,OC.forEach(function(n){n!=="selectionchange"&&($k.has(n)||V5(n,!1,t),V5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[u2]||(e[u2]=!0,V5("selectionchange",!1,e))}}function Bb(t,e,n,r){switch(mb(e)){case 1:var i=dk;break;case 4:i=pk;break;default:i=M9}n=i.bind(null,e,n,t),i=void 0,!G4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function W5(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Gu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tb(function(){var u=s,c=x9(n),f=[];e:{var d=Rb.get(t);if(d!==void 0){var m=E9,g=t;switch(t){case"keypress":if(Om(n)===0)break e;case"keydown":case"keyup":m=Pk;break;case"focusin":g="focus",m=U5;break;case"focusout":g="blur",m=U5;break;case"beforeblur":case"afterblur":m=U5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Bk;break;case Tb:case Cb:case bb:m=wk;break;case Pb:m=Lk;break;case"scroll":m=mk;break;case"wheel":m=kk;break;case"copy":case"cut":case"paste":m=_k;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=s_}var v=(e&4)!==0,y=!v&&t==="scroll",S=v?d!==null?d+"Capture":null:d;v=[];for(var w=u,x;w!==null;){x=w;var M=x.stateNode;if(x.tag===5&&M!==null&&(x=M,S!==null&&(M=Lp(w,S),M!=null&&v.push(Gp(w,M,x)))),y)break;w=w.return}0<v.length&&(d=new m(d,g,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==O4&&(g=n.relatedTarget||n.fromElement)&&(Gu(g)||g[za]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Gu(g):null,g!==null&&(y=Sc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=r_,M="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=s_,M="onPointerLeave",S="onPointerEnter",w="pointer"),y=m==null?d:Sf(m),x=g==null?d:Sf(g),d=new v(M,w+"leave",m,n,c),d.target=y,d.relatedTarget=x,M=null,Gu(c)===u&&(v=new v(S,w+"enter",g,n,c),v.target=x,v.relatedTarget=y,M=v),y=M,m&&g)t:{for(v=m,S=g,w=0,x=v;x;x=Hc(x))w++;for(x=0,M=S;M;M=Hc(M))x++;for(;0<w-x;)v=Hc(v),w--;for(;0<x-w;)S=Hc(S),x--;for(;w--;){if(v===S||S!==null&&v===S.alternate)break t;v=Hc(v),S=Hc(S)}v=null}else v=null;m!==null&&g_(f,d,m,v,!1),g!==null&&y!==null&&g_(f,y,g,v,!0)}}e:{if(d=u?Sf(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var E=Vk;else if(l_(d))if(Sb)E=Jk;else{E=jk;var C=Wk}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Xk);if(E&&(E=E(t,u))){wb(f,E,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&L4(d,"number",d.value)}switch(C=u?Sf(u):window,t){case"focusin":(l_(C)||C.contentEditable==="true")&&(xf=C,X4=u,cp=null);break;case"focusout":cp=X4=xf=null;break;case"mousedown":J4=!0;break;case"contextmenu":case"mouseup":case"dragend":J4=!1,d_(f,n,c);break;case"selectionchange":if(Zk)break;case"keydown":case"keyup":d_(f,n,c)}var P;if(C9)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yf?yb(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(vb&&n.locale!=="ko"&&(yf||T!=="onCompositionStart"?T==="onCompositionEnd"&&yf&&(P=gb()):(bl=c,A9="value"in bl?bl.value:bl.textContent,yf=!0)),C=w1(u,T),0<C.length&&(T=new i_(T,t,null,n,c),f.push({event:T,listeners:C}),P?T.data=P:(P=xb(n),P!==null&&(T.data=P)))),(P=Nk?Ok(t,n):zk(t,n))&&(u=w1(u,"onBeforeInput"),0<u.length&&(c=new i_("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}Db(f,e)})}function Gp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function w1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lp(t,n),s!=null&&r.unshift(Gp(t,s,i)),s=Lp(t,e),s!=null&&r.push(Gp(t,s,i))),t=t.return}return r}function Hc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Lp(n,s),l!=null&&o.unshift(Gp(n,l,a))):i||(l=Lp(n,s),l!=null&&o.push(Gp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eU=/\r\n?/g,tU=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(eU,`
`).replace(tU,"")}function c2(t,e,n){if(e=v_(e),v_(t)!==e&&n)throw Error(rt(425))}function S1(){}var Y4=null,K4=null;function Z4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q4=typeof setTimeout=="function"?setTimeout:void 0,nU=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,rU=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(t){return y_.resolve(null).then(t).catch(iU)}:Q4;function iU(t){setTimeout(function(){throw t})}function j5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Up(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Up(e)}function Ol(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function x_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Th=Math.random().toString(36).slice(2),Wo="__reactFiber$"+Th,Hp="__reactProps$"+Th,za="__reactContainer$"+Th,q4="__reactEvents$"+Th,sU="__reactListeners$"+Th,oU="__reactHandles$"+Th;function Gu(t){var e=t[Wo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[za]||n[Wo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=x_(t);t!==null;){if(n=t[Wo])return n;t=x_(t)}return e}t=n,n=t.parentNode}return null}function T0(t){return t=t[Wo]||t[za],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(rt(33))}function Ug(t){return t[Hp]||null}var $4=[],_f=-1;function eu(t){return{current:t}}function jn(t){0>_f||(t.current=$4[_f],$4[_f]=null,_f--)}function On(t,e){_f++,$4[_f]=t.current,t.current=e}var Kl={},yi=eu(Kl),qi=eu(!1),ac=Kl;function $f(t,e){var n=t.type.contextTypes;if(!n)return Kl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $i(t){return t=t.childContextTypes,t!=null}function _1(){jn(qi),jn(yi)}function w_(t,e,n){if(yi.current!==Kl)throw Error(rt(168));On(yi,e),On(qi,n)}function Ib(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(rt(108,WF(t)||"Unknown",i));return ar({},n,r)}function M1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kl,ac=yi.current,On(yi,t),On(qi,qi.current),!0}function S_(t,e,n){var r=t.stateNode;if(!r)throw Error(rt(169));n?(t=Ib(t,e,ac),r.__reactInternalMemoizedMergedChildContext=t,jn(qi),jn(yi),On(yi,t)):jn(qi),On(qi,n)}var Ea=null,Ng=!1,X5=!1;function Lb(t){Ea===null?Ea=[t]:Ea.push(t)}function aU(t){Ng=!0,Lb(t)}function tu(){if(!X5&&Ea!==null){X5=!0;var t=0,e=Dn;try{var n=Ea;for(Dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ea=null,Ng=!1}catch(i){throw Ea!==null&&(Ea=Ea.slice(t+1)),sb(w9,tu),i}finally{Dn=e,X5=!1}}return null}var Mf=[],Af=0,A1=null,E1=0,zs=[],Gs=0,lc=null,Ra=1,Da="";function Bu(t,e){Mf[Af++]=E1,Mf[Af++]=A1,A1=t,E1=e}function Fb(t,e,n){zs[Gs++]=Ra,zs[Gs++]=Da,zs[Gs++]=lc,lc=t;var r=Ra;t=Da;var i=32-So(r)-1;r&=~(1<<i),n+=1;var s=32-So(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ra=1<<32-So(e)+i|n<<i|r,Da=s+t}else Ra=1<<s|n<<i|r,Da=t}function P9(t){t.return!==null&&(Bu(t,1),Fb(t,1,0))}function R9(t){for(;t===A1;)A1=Mf[--Af],Mf[Af]=null,E1=Mf[--Af],Mf[Af]=null;for(;t===lc;)lc=zs[--Gs],zs[Gs]=null,Da=zs[--Gs],zs[Gs]=null,Ra=zs[--Gs],zs[Gs]=null}var xs=null,vs=null,Qn=!1,fo=null;function kb(t,e){var n=js(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function __(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xs=t,vs=Ol(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xs=t,vs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lc!==null?{id:Ra,overflow:Da}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=js(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xs=t,vs=null,!0):!1;default:return!1}}function e8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t8(t){if(Qn){var e=vs;if(e){var n=e;if(!__(t,e)){if(e8(t))throw Error(rt(418));e=Ol(n.nextSibling);var r=xs;e&&__(t,e)?kb(r,n):(t.flags=t.flags&-4097|2,Qn=!1,xs=t)}}else{if(e8(t))throw Error(rt(418));t.flags=t.flags&-4097|2,Qn=!1,xs=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xs=t}function f2(t){if(t!==xs)return!1;if(!Qn)return M_(t),Qn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Z4(t.type,t.memoizedProps)),e&&(e=vs)){if(e8(t))throw Ub(),Error(rt(418));for(;e;)kb(t,e),e=Ol(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vs=Ol(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vs=null}}else vs=xs?Ol(t.stateNode.nextSibling):null;return!0}function Ub(){for(var t=vs;t;)t=Ol(t.nextSibling)}function eh(){vs=xs=null,Qn=!1}function D9(t){fo===null?fo=[t]:fo.push(t)}var lU=Ka.ReactCurrentBatchConfig;function lo(t,e){if(t&&t.defaultProps){e=ar({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var T1=eu(null),C1=null,Ef=null,B9=null;function I9(){B9=Ef=C1=null}function L9(t){var e=T1.current;jn(T1),t._currentValue=e}function n8(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hf(t,e){C1=t,B9=Ef=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ki=!0),t.firstContext=null)}function Ys(t){var e=t._currentValue;if(B9!==t)if(t={context:t,memoizedValue:e,next:null},Ef===null){if(C1===null)throw Error(rt(308));Ef=t,C1.dependencies={lanes:0,firstContext:t}}else Ef=Ef.next=t;return e}var Hu=null;function F9(t){Hu===null?Hu=[t]:Hu.push(t)}function Nb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,F9(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ga(t,r)}function Ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wl=!1;function k9(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ob(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ua(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ga(t,n)}return i=r.interleaved,i===null?(e.next=e,F9(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ga(t,n)}function zm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S9(t,n)}}function A_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function b1(t,e,n,r){var i=t.updateQueue;wl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(m,f,d):g,d==null)break e;f=ar({},f,d);break e;case 2:wl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cc|=o,t.lanes=o,t.memoizedState=f}}function E_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var zb=new NC.Component().refs;function r8(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ar({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Og={isMounted:function(t){return(t=t._reactInternals)?Sc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Li(),i=Hl(t),s=Ua(r,i);s.payload=e,n!=null&&(s.callback=n),e=zl(t,s,i),e!==null&&(_o(e,t,i,r),zm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Li(),i=Hl(t),s=Ua(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zl(t,s,i),e!==null&&(_o(e,t,i,r),zm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Li(),r=Hl(t),i=Ua(n,r);i.tag=2,e!=null&&(i.callback=e),e=zl(t,i,r),e!==null&&(_o(e,t,r,n),zm(e,t,r))}};function T_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Op(n,r)||!Op(i,s):!0}function Gb(t,e,n){var r=!1,i=Kl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ys(s):(i=$i(e)?ac:yi.current,r=e.contextTypes,s=(r=r!=null)?$f(t,i):Kl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Og,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function C_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Og.enqueueReplaceState(e,e.state,null)}function i8(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=zb,k9(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ys(s):(s=$i(e)?ac:yi.current,i.context=$f(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r8(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Og.enqueueReplaceState(i,i.state,null),b1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===zb&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,t))}return t}function h2(t,e){throw t=Object.prototype.toString.call(e),Error(rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function b_(t){var e=t._init;return e(t._payload)}function Hb(t){function e(S,w){if(t){var x=S.deletions;x===null?(S.deletions=[w],S.flags|=16):x.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=Vl(S,w),S.index=0,S.sibling=null,S}function s(S,w,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<w?(S.flags|=2,w):x):(S.flags|=2,w)):(S.flags|=1048576,w)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,w,x,M){return w===null||w.tag!==6?(w=$5(x,S.mode,M),w.return=S,w):(w=i(w,x),w.return=S,w)}function l(S,w,x,M){var E=x.type;return E===vf?c(S,w,x.props.children,M,x.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xl&&b_(E)===w.type)?(M=i(w,x.props),M.ref=yd(S,w,x),M.return=S,M):(M=Xm(x.type,x.key,x.props,null,S.mode,M),M.ref=yd(S,w,x),M.return=S,M)}function u(S,w,x,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=e6(x,S.mode,M),w.return=S,w):(w=i(w,x.children||[]),w.return=S,w)}function c(S,w,x,M,E){return w===null||w.tag!==7?(w=$u(x,S.mode,M,E),w.return=S,w):(w=i(w,x),w.return=S,w)}function f(S,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$5(""+w,S.mode,x),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case t2:return x=Xm(w.type,w.key,w.props,null,S.mode,x),x.ref=yd(S,null,w),x.return=S,x;case gf:return w=e6(w,S.mode,x),w.return=S,w;case xl:var M=w._init;return f(S,M(w._payload),x)}if(Jd(w)||dd(w))return w=$u(w,S.mode,x,null),w.return=S,w;h2(S,w)}return null}function d(S,w,x,M){var E=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(S,w,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case t2:return x.key===E?l(S,w,x,M):null;case gf:return x.key===E?u(S,w,x,M):null;case xl:return E=x._init,d(S,w,E(x._payload),M)}if(Jd(x)||dd(x))return E!==null?null:c(S,w,x,M,null);h2(S,x)}return null}function m(S,w,x,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return S=S.get(x)||null,a(w,S,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case t2:return S=S.get(M.key===null?x:M.key)||null,l(w,S,M,E);case gf:return S=S.get(M.key===null?x:M.key)||null,u(w,S,M,E);case xl:var C=M._init;return m(S,w,x,C(M._payload),E)}if(Jd(M)||dd(M))return S=S.get(x)||null,c(w,S,M,E,null);h2(w,M)}return null}function g(S,w,x,M){for(var E=null,C=null,P=w,T=w=0,R=null;P!==null&&T<x.length;T++){P.index>T?(R=P,P=null):R=P.sibling;var B=d(S,P,x[T],M);if(B===null){P===null&&(P=R);break}t&&P&&B.alternate===null&&e(S,P),w=s(B,w,T),C===null?E=B:C.sibling=B,C=B,P=R}if(T===x.length)return n(S,P),Qn&&Bu(S,T),E;if(P===null){for(;T<x.length;T++)P=f(S,x[T],M),P!==null&&(w=s(P,w,T),C===null?E=P:C.sibling=P,C=P);return Qn&&Bu(S,T),E}for(P=r(S,P);T<x.length;T++)R=m(P,S,T,x[T],M),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?T:R.key),w=s(R,w,T),C===null?E=R:C.sibling=R,C=R);return t&&P.forEach(function(N){return e(S,N)}),Qn&&Bu(S,T),E}function v(S,w,x,M){var E=dd(x);if(typeof E!="function")throw Error(rt(150));if(x=E.call(x),x==null)throw Error(rt(151));for(var C=E=null,P=w,T=w=0,R=null,B=x.next();P!==null&&!B.done;T++,B=x.next()){P.index>T?(R=P,P=null):R=P.sibling;var N=d(S,P,B.value,M);if(N===null){P===null&&(P=R);break}t&&P&&N.alternate===null&&e(S,P),w=s(N,w,T),C===null?E=N:C.sibling=N,C=N,P=R}if(B.done)return n(S,P),Qn&&Bu(S,T),E;if(P===null){for(;!B.done;T++,B=x.next())B=f(S,B.value,M),B!==null&&(w=s(B,w,T),C===null?E=B:C.sibling=B,C=B);return Qn&&Bu(S,T),E}for(P=r(S,P);!B.done;T++,B=x.next())B=m(P,S,T,B.value,M),B!==null&&(t&&B.alternate!==null&&P.delete(B.key===null?T:B.key),w=s(B,w,T),C===null?E=B:C.sibling=B,C=B);return t&&P.forEach(function(G){return e(S,G)}),Qn&&Bu(S,T),E}function y(S,w,x,M){if(typeof x=="object"&&x!==null&&x.type===vf&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case t2:e:{for(var E=x.key,C=w;C!==null;){if(C.key===E){if(E=x.type,E===vf){if(C.tag===7){n(S,C.sibling),w=i(C,x.props.children),w.return=S,S=w;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xl&&b_(E)===C.type){n(S,C.sibling),w=i(C,x.props),w.ref=yd(S,C,x),w.return=S,S=w;break e}n(S,C);break}else e(S,C);C=C.sibling}x.type===vf?(w=$u(x.props.children,S.mode,M,x.key),w.return=S,S=w):(M=Xm(x.type,x.key,x.props,null,S.mode,M),M.ref=yd(S,w,x),M.return=S,S=M)}return o(S);case gf:e:{for(C=x.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(S,w.sibling),w=i(w,x.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=e6(x,S.mode,M),w.return=S,S=w}return o(S);case xl:return C=x._init,y(S,w,C(x._payload),M)}if(Jd(x))return g(S,w,x,M);if(dd(x))return v(S,w,x,M);h2(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,x),w.return=S,S=w):(n(S,w),w=$5(x,S.mode,M),w.return=S,S=w),o(S)):n(S,w)}return y}var th=Hb(!0),Vb=Hb(!1),C0={},Zo=eu(C0),Vp=eu(C0),Wp=eu(C0);function Vu(t){if(t===C0)throw Error(rt(174));return t}function U9(t,e){switch(On(Wp,e),On(Vp,t),On(Zo,C0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=k4(e,t)}jn(Zo),On(Zo,e)}function nh(){jn(Zo),jn(Vp),jn(Wp)}function Wb(t){Vu(Wp.current);var e=Vu(Zo.current),n=k4(e,t.type);e!==n&&(On(Vp,t),On(Zo,n))}function N9(t){Vp.current===t&&(jn(Zo),jn(Vp))}var nr=eu(0);function P1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J5=[];function O9(){for(var t=0;t<J5.length;t++)J5[t]._workInProgressVersionPrimary=null;J5.length=0}var Gm=Ka.ReactCurrentDispatcher,Y5=Ka.ReactCurrentBatchConfig,uc=0,sr=null,Ir=null,jr=null,R1=!1,fp=!1,jp=0,uU=0;function ci(){throw Error(rt(321))}function z9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Eo(t[n],e[n]))return!1;return!0}function G9(t,e,n,r,i,s){if(uc=s,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gm.current=t===null||t.memoizedState===null?dU:pU,t=n(r,i),fp){s=0;do{if(fp=!1,jp=0,25<=s)throw Error(rt(301));s+=1,jr=Ir=null,e.updateQueue=null,Gm.current=mU,t=n(r,i)}while(fp)}if(Gm.current=D1,e=Ir!==null&&Ir.next!==null,uc=0,jr=Ir=sr=null,R1=!1,e)throw Error(rt(300));return t}function H9(){var t=jp!==0;return jp=0,t}function Vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?sr.memoizedState=jr=t:jr=jr.next=t,jr}function Ks(){if(Ir===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Ir.next;var e=jr===null?sr.memoizedState:jr.next;if(e!==null)jr=e,Ir=t;else{if(t===null)throw Error(rt(310));Ir=t,t={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},jr===null?sr.memoizedState=jr=t:jr=jr.next=t}return jr}function Xp(t,e){return typeof e=="function"?e(t):e}function K5(t){var e=Ks(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=Ir,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((uc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,sr.lanes|=c,cc|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Eo(r,e.memoizedState)||(Ki=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,sr.lanes|=s,cc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Z5(t){var e=Ks(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Eo(s,e.memoizedState)||(Ki=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jb(){}function Xb(t,e){var n=sr,r=Ks(),i=e(),s=!Eo(r.memoizedState,i);if(s&&(r.memoizedState=i,Ki=!0),r=r.queue,V9(Kb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||jr!==null&&jr.memoizedState.tag&1){if(n.flags|=2048,Jp(9,Yb.bind(null,n,r,i,e),void 0,null),Xr===null)throw Error(rt(349));uc&30||Jb(n,e,i)}return i}function Jb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yb(t,e,n,r){e.value=n,e.getSnapshot=r,Zb(e)&&Qb(t)}function Kb(t,e,n){return n(function(){Zb(e)&&Qb(t)})}function Zb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Eo(t,n)}catch{return!0}}function Qb(t){var e=Ga(t,1);e!==null&&_o(e,t,1,-1)}function P_(t){var e=Vo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:t},e.queue=t,t=t.dispatch=hU.bind(null,sr,t),[e.memoizedState,t]}function Jp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qb(){return Ks().memoizedState}function Hm(t,e,n,r){var i=Vo();sr.flags|=t,i.memoizedState=Jp(1|e,n,void 0,r===void 0?null:r)}function zg(t,e,n,r){var i=Ks();r=r===void 0?null:r;var s=void 0;if(Ir!==null){var o=Ir.memoizedState;if(s=o.destroy,r!==null&&z9(r,o.deps)){i.memoizedState=Jp(e,n,s,r);return}}sr.flags|=t,i.memoizedState=Jp(1|e,n,s,r)}function R_(t,e){return Hm(8390656,8,t,e)}function V9(t,e){return zg(2048,8,t,e)}function $b(t,e){return zg(4,2,t,e)}function eP(t,e){return zg(4,4,t,e)}function tP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nP(t,e,n){return n=n!=null?n.concat([t]):null,zg(4,4,tP.bind(null,e,t),n)}function W9(){}function rP(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z9(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iP(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&z9(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sP(t,e,n){return uc&21?(Eo(n,e)||(n=lb(),sr.lanes|=n,cc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ki=!0),t.memoizedState=n)}function cU(t,e){var n=Dn;Dn=n!==0&&4>n?n:4,t(!0);var r=Y5.transition;Y5.transition={};try{t(!1),e()}finally{Dn=n,Y5.transition=r}}function oP(){return Ks().memoizedState}function fU(t,e,n){var r=Hl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aP(t))lP(e,n);else if(n=Nb(t,e,n,r),n!==null){var i=Li();_o(n,t,r,i),uP(n,e,r)}}function hU(t,e,n){var r=Hl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aP(t))lP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Eo(a,o)){var l=e.interleaved;l===null?(i.next=i,F9(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nb(t,e,i,r),n!==null&&(i=Li(),_o(n,t,r,i),uP(n,e,r))}}function aP(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function lP(t,e){fp=R1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S9(t,n)}}var D1={readContext:Ys,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},dU={readContext:Ys,useCallback:function(t,e){return Vo().memoizedState=[t,e===void 0?null:e],t},useContext:Ys,useEffect:R_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hm(4194308,4,tP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hm(4,2,t,e)},useMemo:function(t,e){var n=Vo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fU.bind(null,sr,t),[r.memoizedState,t]},useRef:function(t){var e=Vo();return t={current:t},e.memoizedState=t},useState:P_,useDebugValue:W9,useDeferredValue:function(t){return Vo().memoizedState=t},useTransition:function(){var t=P_(!1),e=t[0];return t=cU.bind(null,t[1]),Vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sr,i=Vo();if(Qn){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=e(),Xr===null)throw Error(rt(349));uc&30||Jb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,R_(Kb.bind(null,r,s,t),[t]),r.flags|=2048,Jp(9,Yb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vo(),e=Xr.identifierPrefix;if(Qn){var n=Da,r=Ra;n=(r&~(1<<32-So(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pU={readContext:Ys,useCallback:rP,useContext:Ys,useEffect:V9,useImperativeHandle:nP,useInsertionEffect:$b,useLayoutEffect:eP,useMemo:iP,useReducer:K5,useRef:qb,useState:function(){return K5(Xp)},useDebugValue:W9,useDeferredValue:function(t){var e=Ks();return sP(e,Ir.memoizedState,t)},useTransition:function(){var t=K5(Xp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:jb,useSyncExternalStore:Xb,useId:oP,unstable_isNewReconciler:!1},mU={readContext:Ys,useCallback:rP,useContext:Ys,useEffect:V9,useImperativeHandle:nP,useInsertionEffect:$b,useLayoutEffect:eP,useMemo:iP,useReducer:Z5,useRef:qb,useState:function(){return Z5(Xp)},useDebugValue:W9,useDeferredValue:function(t){var e=Ks();return Ir===null?e.memoizedState=t:sP(e,Ir.memoizedState,t)},useTransition:function(){var t=Z5(Xp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:jb,useSyncExternalStore:Xb,useId:oP,unstable_isNewReconciler:!1};function rh(t,e){try{var n="",r=e;do n+=VF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Q5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s8(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gU=typeof WeakMap=="function"?WeakMap:Map;function cP(t,e,n){n=Ua(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){I1||(I1=!0,m8=r),s8(t,e)},n}function fP(t,e,n){n=Ua(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){s8(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){s8(t,e),typeof r!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RU.bind(null,t,e,n),e.then(t,t))}function B_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ua(-1,1),e.tag=2,zl(n,e,1))),n.lanes|=1),t)}var vU=Ka.ReactCurrentOwner,Ki=!1;function Ri(t,e,n,r){e.child=t===null?Vb(e,null,n,r):th(e,t.child,n,r)}function L_(t,e,n,r,i){n=n.render;var s=e.ref;return Hf(e,i),r=G9(t,e,n,r,s,i),n=H9(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(Qn&&n&&P9(e),e.flags|=1,Ri(t,e,r,i),e.child)}function F_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!q9(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hP(t,e,s,r,i)):(t=Xm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Op,n(o,r)&&t.ref===e.ref)return Ha(t,e,i)}return e.flags|=1,t=Vl(s,r),t.ref=e.ref,t.return=e,e.child=t}function hP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Op(s,r)&&t.ref===e.ref)if(Ki=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ki=!0);else return e.lanes=t.lanes,Ha(t,e,i)}return o8(t,e,n,r,i)}function dP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(Cf,ps),ps|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,On(Cf,ps),ps|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,On(Cf,ps),ps|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,On(Cf,ps),ps|=r;return Ri(t,e,i,n),e.child}function pP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function o8(t,e,n,r,i){var s=$i(n)?ac:yi.current;return s=$f(e,s),Hf(e,i),n=G9(t,e,n,r,s,i),r=H9(),t!==null&&!Ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ha(t,e,i)):(Qn&&r&&P9(e),e.flags|=1,Ri(t,e,n,i),e.child)}function k_(t,e,n,r,i){if($i(n)){var s=!0;M1(e)}else s=!1;if(Hf(e,i),e.stateNode===null)Vm(t,e),Gb(e,n,r),i8(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ys(u):(u=$i(n)?ac:yi.current,u=$f(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&C_(e,o,r,u),wl=!1;var d=e.memoizedState;o.state=d,b1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||qi.current||wl?(typeof c=="function"&&(r8(e,n,c,r),l=e.memoizedState),(a=wl||T_(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ob(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lo(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ys(l):(l=$i(n)?ac:yi.current,l=$f(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&C_(e,o,r,l),wl=!1,d=e.memoizedState,o.state=d,b1(e,r,o,i);var g=e.memoizedState;a!==f||d!==g||qi.current||wl?(typeof m=="function"&&(r8(e,n,m,r),g=e.memoizedState),(u=wl||T_(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return a8(t,e,n,r,s,i)}function a8(t,e,n,r,i,s){pP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&S_(e,n,!1),Ha(t,e,s);r=e.stateNode,vU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=th(e,t.child,null,s),e.child=th(e,null,a,s)):Ri(t,e,a,s),e.memoizedState=r.state,i&&S_(e,n,!0),e.child}function mP(t){var e=t.stateNode;e.pendingContext?w_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w_(t,e.context,!1),U9(t,e.containerInfo)}function U_(t,e,n,r,i){return eh(),D9(i),e.flags|=256,Ri(t,e,n,r),e.child}var l8={dehydrated:null,treeContext:null,retryLane:0};function u8(t){return{baseLanes:t,cachePool:null,transitions:null}}function gP(t,e,n){var r=e.pendingProps,i=nr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),On(nr,i&1),t===null)return t8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vg(o,r,0,null),t=$u(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=u8(n),e.memoizedState=l8,t):j9(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yU(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vl(a,s):(s=$u(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?u8(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=l8,r}return s=t.child,t=s.sibling,r=Vl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j9(t,e){return e=Vg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function d2(t,e,n,r){return r!==null&&D9(r),th(e,t.child,null,n),t=j9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yU(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Q5(Error(rt(422))),d2(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vg({mode:"visible",children:r.children},i,0,null),s=$u(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&th(e,t.child,null,o),e.child.memoizedState=u8(o),e.memoizedState=l8,s);if(!(e.mode&1))return d2(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(rt(419)),r=Q5(s,r,void 0),d2(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ki||a){if(r=Xr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ga(t,i),_o(r,t,i,-1))}return Q9(),r=Q5(Error(rt(421))),d2(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vs=Ol(i.nextSibling),xs=e,Qn=!0,fo=null,t!==null&&(zs[Gs++]=Ra,zs[Gs++]=Da,zs[Gs++]=lc,Ra=t.id,Da=t.overflow,lc=e),e=j9(e,r.children),e.flags|=4096,e)}function N_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n8(t.return,e,n)}function q5(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ri(t,e,r.children,n),r=nr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N_(t,n,e);else if(t.tag===19)N_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(On(nr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&P1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),q5(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&P1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}q5(e,!0,n,null,s);break;case"together":q5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(rt(153));if(e.child!==null){for(t=e.child,n=Vl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xU(t,e,n){switch(e.tag){case 3:mP(e),eh();break;case 5:Wb(e);break;case 1:$i(e.type)&&M1(e);break;case 4:U9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;On(T1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(On(nr,nr.current&1),e.flags|=128,null):n&e.child.childLanes?gP(t,e,n):(On(nr,nr.current&1),t=Ha(t,e,n),t!==null?t.sibling:null);On(nr,nr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),On(nr,nr.current),r)break;return null;case 22:case 23:return e.lanes=0,dP(t,e,n)}return Ha(t,e,n)}var yP,c8,xP,wP;yP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};c8=function(){};xP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vu(Zo.current);var s=null;switch(n){case"input":i=B4(t,i),r=B4(t,r),s=[];break;case"select":i=ar({},i,{value:void 0}),r=ar({},r,{value:void 0}),s=[];break;case"textarea":i=F4(t,i),r=F4(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=S1)}U4(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Hn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};wP=function(t,e,n,r){n!==r&&(e.flags|=4)};function xd(t,e){if(!Qn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wU(t,e,n){var r=e.pendingProps;switch(R9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(e),null;case 1:return $i(e.type)&&_1(),fi(e),null;case 3:return r=e.stateNode,nh(),jn(qi),jn(yi),O9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(f2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fo!==null&&(y8(fo),fo=null))),c8(t,e),fi(e),null;case 5:N9(e);var i=Vu(Wp.current);if(n=e.type,t!==null&&e.stateNode!=null)xP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(rt(166));return fi(e),null}if(t=Vu(Zo.current),f2(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wo]=e,r[Hp]=s,t=(e.mode&1)!==0,n){case"dialog":Hn("cancel",r),Hn("close",r);break;case"iframe":case"object":case"embed":Hn("load",r);break;case"video":case"audio":for(i=0;i<Kd.length;i++)Hn(Kd[i],r);break;case"source":Hn("error",r);break;case"img":case"image":case"link":Hn("error",r),Hn("load",r);break;case"details":Hn("toggle",r);break;case"input":JS(r,s),Hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Hn("invalid",r);break;case"textarea":KS(r,s),Hn("invalid",r)}U4(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&c2(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&c2(r.textContent,a,t),i=["children",""+a]):Bp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Hn("scroll",r)}switch(n){case"input":n2(r),YS(r,s,!0);break;case"textarea":n2(r),ZS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=S1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wo]=e,t[Hp]=r,yP(t,e,!1,!1),e.stateNode=t;e:{switch(o=N4(n,r),n){case"dialog":Hn("cancel",t),Hn("close",t),i=r;break;case"iframe":case"object":case"embed":Hn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kd.length;i++)Hn(Kd[i],t);i=r;break;case"source":Hn("error",t),i=r;break;case"img":case"image":case"link":Hn("error",t),Hn("load",t),i=r;break;case"details":Hn("toggle",t),i=r;break;case"input":JS(t,r),i=B4(t,r),Hn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ar({},r,{value:void 0}),Hn("invalid",t);break;case"textarea":KS(t,r),i=F4(t,r),Hn("invalid",t);break;default:i=r}U4(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ZC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ip(t,l):typeof l=="number"&&Ip(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Hn("scroll",t):l!=null&&m9(t,s,l,o))}switch(n){case"input":n2(t),YS(t,r,!1);break;case"textarea":n2(t),ZS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nf(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=S1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fi(e),null;case 6:if(t&&e.stateNode!=null)wP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(rt(166));if(n=Vu(Wp.current),Vu(Zo.current),f2(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wo]=e,(s=r.nodeValue!==n)&&(t=xs,t!==null))switch(t.tag){case 3:c2(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&c2(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wo]=e,e.stateNode=r}return fi(e),null;case 13:if(jn(nr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qn&&vs!==null&&e.mode&1&&!(e.flags&128))Ub(),eh(),e.flags|=98560,s=!1;else if(s=f2(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[Wo]=e}else eh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fi(e),s=!1}else fo!==null&&(y8(fo),fo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nr.current&1?Lr===0&&(Lr=3):Q9())),e.updateQueue!==null&&(e.flags|=4),fi(e),null);case 4:return nh(),c8(t,e),t===null&&zp(e.stateNode.containerInfo),fi(e),null;case 10:return L9(e.type._context),fi(e),null;case 17:return $i(e.type)&&_1(),fi(e),null;case 19:if(jn(nr),s=e.memoizedState,s===null)return fi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xd(s,!1);else{if(Lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=P1(t),o!==null){for(e.flags|=128,xd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return On(nr,nr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Sr()>ih&&(e.flags|=128,r=!0,xd(s,!1),e.lanes=4194304)}else{if(!r)if(t=P1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qn)return fi(e),null}else 2*Sr()-s.renderingStartTime>ih&&n!==1073741824&&(e.flags|=128,r=!0,xd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sr(),e.sibling=null,n=nr.current,On(nr,r?n&1|2:n&1),e):(fi(e),null);case 22:case 23:return Z9(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ps&1073741824&&(fi(e),e.subtreeFlags&6&&(e.flags|=8192)):fi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function SU(t,e){switch(R9(e),e.tag){case 1:return $i(e.type)&&_1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nh(),jn(qi),jn(yi),O9(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N9(e),null;case 13:if(jn(nr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));eh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jn(nr),null;case 4:return nh(),null;case 10:return L9(e.type._context),null;case 22:case 23:return Z9(),null;case 24:return null;default:return null}}var p2=!1,gi=!1,_U=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Tf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hr(t,e,r)}else n.current=null}function f8(t,e,n){try{n()}catch(r){hr(t,e,r)}}var O_=!1;function MU(t,e){if(Y4=y1,t=Ab(),b9(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(K4={focusedElem:t,selectionRange:n},y1=!1,yt=e;yt!==null;)if(e=yt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,yt=t;else for(;yt!==null;){e=yt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:lo(e.type,v),y);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(M){hr(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,yt=t;break}yt=e.return}return g=O_,O_=!1,g}function hp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&f8(e,n,s)}i=i.next}while(i!==r)}}function Gg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function h8(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SP(t){var e=t.alternate;e!==null&&(t.alternate=null,SP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wo],delete e[Hp],delete e[q4],delete e[sU],delete e[oU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _P(t){return t.tag===5||t.tag===3||t.tag===4}function z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_P(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=S1));else if(r!==4&&(t=t.child,t!==null))for(d8(t,e,n),t=t.sibling;t!==null;)d8(t,e,n),t=t.sibling}function p8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p8(t,e,n),t=t.sibling;t!==null;)p8(t,e,n),t=t.sibling}var ti=null,uo=!1;function ul(t,e,n){for(n=n.child;n!==null;)MP(t,e,n),n=n.sibling}function MP(t,e,n){if(Ko&&typeof Ko.onCommitFiberUnmount=="function")try{Ko.onCommitFiberUnmount(Ig,n)}catch{}switch(n.tag){case 5:gi||Tf(n,e);case 6:var r=ti,i=uo;ti=null,ul(t,e,n),ti=r,uo=i,ti!==null&&(uo?(t=ti,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ti.removeChild(n.stateNode));break;case 18:ti!==null&&(uo?(t=ti,n=n.stateNode,t.nodeType===8?j5(t.parentNode,n):t.nodeType===1&&j5(t,n),Up(t)):j5(ti,n.stateNode));break;case 4:r=ti,i=uo,ti=n.stateNode.containerInfo,uo=!0,ul(t,e,n),ti=r,uo=i;break;case 0:case 11:case 14:case 15:if(!gi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&f8(n,e,o),i=i.next}while(i!==r)}ul(t,e,n);break;case 1:if(!gi&&(Tf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){hr(n,e,a)}ul(t,e,n);break;case 21:ul(t,e,n);break;case 22:n.mode&1?(gi=(r=gi)||n.memoizedState!==null,ul(t,e,n),gi=r):ul(t,e,n);break;default:ul(t,e,n)}}function G_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _U),e.forEach(function(r){var i=BU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function no(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ti=a.stateNode,uo=!1;break e;case 3:ti=a.stateNode.containerInfo,uo=!0;break e;case 4:ti=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(ti===null)throw Error(rt(160));MP(s,o,i),ti=null,uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){hr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AP(e,t),e=e.sibling}function AP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(no(e,t),Oo(t),r&4){try{hp(3,t,t.return),Gg(3,t)}catch(v){hr(t,t.return,v)}try{hp(5,t,t.return)}catch(v){hr(t,t.return,v)}}break;case 1:no(e,t),Oo(t),r&512&&n!==null&&Tf(n,n.return);break;case 5:if(no(e,t),Oo(t),r&512&&n!==null&&Tf(n,n.return),t.flags&32){var i=t.stateNode;try{Ip(i,"")}catch(v){hr(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jC(i,s),N4(a,o);var u=N4(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?ZC(i,f):c==="dangerouslySetInnerHTML"?YC(i,f):c==="children"?Ip(i,f):m9(i,c,f,u)}switch(a){case"input":I4(i,s);break;case"textarea":XC(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Nf(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Nf(i,!!s.multiple,s.defaultValue,!0):Nf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hp]=s}catch(v){hr(t,t.return,v)}}break;case 6:if(no(e,t),Oo(t),r&4){if(t.stateNode===null)throw Error(rt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){hr(t,t.return,v)}}break;case 3:if(no(e,t),Oo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Up(e.containerInfo)}catch(v){hr(t,t.return,v)}break;case 4:no(e,t),Oo(t);break;case 13:no(e,t),Oo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Y9=Sr())),r&4&&G_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gi=(u=gi)||c,no(e,t),gi=u):no(e,t),Oo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(yt=t,c=t.child;c!==null;){for(f=yt=c;yt!==null;){switch(d=yt,m=d.child,d.tag){case 0:case 11:case 14:case 15:hp(4,d,d.return);break;case 1:Tf(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){hr(r,n,v)}}break;case 5:Tf(d,d.return);break;case 22:if(d.memoizedState!==null){V_(f);continue}}m!==null?(m.return=d,yt=m):V_(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KC("display",o))}catch(v){hr(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){hr(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:no(e,t),Oo(t),r&4&&G_(t);break;case 21:break;default:no(e,t),Oo(t)}}function Oo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_P(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ip(i,""),r.flags&=-33);var s=z_(t);p8(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=z_(t);d8(t,a,o);break;default:throw Error(rt(161))}}catch(l){hr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AU(t,e,n){yt=t,EP(t)}function EP(t,e,n){for(var r=(t.mode&1)!==0;yt!==null;){var i=yt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||p2;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gi;a=p2;var u=gi;if(p2=o,(gi=l)&&!u)for(yt=i;yt!==null;)o=yt,l=o.child,o.tag===22&&o.memoizedState!==null?W_(i):l!==null?(l.return=o,yt=l):W_(i);for(;s!==null;)yt=s,EP(s),s=s.sibling;yt=i,p2=a,gi=u}H_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,yt=s):H_(t)}}function H_(t){for(;yt!==null;){var e=yt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gi||Gg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&E_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}E_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Up(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}gi||e.flags&512&&h8(e)}catch(d){hr(e,e.return,d)}}if(e===t){yt=null;break}if(n=e.sibling,n!==null){n.return=e.return,yt=n;break}yt=e.return}}function V_(t){for(;yt!==null;){var e=yt;if(e===t){yt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,yt=n;break}yt=e.return}}function W_(t){for(;yt!==null;){var e=yt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gg(4,e)}catch(l){hr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){hr(e,i,l)}}var s=e.return;try{h8(e)}catch(l){hr(e,s,l)}break;case 5:var o=e.return;try{h8(e)}catch(l){hr(e,o,l)}}}catch(l){hr(e,e.return,l)}if(e===t){yt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,yt=a;break}yt=e.return}}var EU=Math.ceil,B1=Ka.ReactCurrentDispatcher,X9=Ka.ReactCurrentOwner,Js=Ka.ReactCurrentBatchConfig,wn=0,Xr=null,Tr=null,ii=0,ps=0,Cf=eu(0),Lr=0,Yp=null,cc=0,Hg=0,J9=0,dp=null,Ji=null,Y9=0,ih=1/0,Aa=null,I1=!1,m8=null,Gl=null,m2=!1,Pl=null,L1=0,pp=0,g8=null,Wm=-1,jm=0;function Li(){return wn&6?Sr():Wm!==-1?Wm:Wm=Sr()}function Hl(t){return t.mode&1?wn&2&&ii!==0?ii&-ii:lU.transition!==null?(jm===0&&(jm=lb()),jm):(t=Dn,t!==0||(t=window.event,t=t===void 0?16:mb(t.type)),t):1}function _o(t,e,n,r){if(50<pp)throw pp=0,g8=null,Error(rt(185));A0(t,n,r),(!(wn&2)||t!==Xr)&&(t===Xr&&(!(wn&2)&&(Hg|=n),Lr===4&&Tl(t,ii)),es(t,r),n===1&&wn===0&&!(e.mode&1)&&(ih=Sr()+500,Ng&&tu()))}function es(t,e){var n=t.callbackNode;lk(t,e);var r=v1(t,t===Xr?ii:0);if(r===0)n!==null&&$S(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$S(n),e===1)t.tag===0?aU(j_.bind(null,t)):Lb(j_.bind(null,t)),rU(function(){!(wn&6)&&tu()}),n=null;else{switch(ub(r)){case 1:n=w9;break;case 4:n=ob;break;case 16:n=g1;break;case 536870912:n=ab;break;default:n=g1}n=IP(n,TP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TP(t,e){if(Wm=-1,jm=0,wn&6)throw Error(rt(327));var n=t.callbackNode;if(Vf()&&t.callbackNode!==n)return null;var r=v1(t,t===Xr?ii:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=F1(t,r);else{e=r;var i=wn;wn|=2;var s=bP();(Xr!==t||ii!==e)&&(Aa=null,ih=Sr()+500,qu(t,e));do try{bU();break}catch(a){CP(t,a)}while(1);I9(),B1.current=s,wn=i,Tr!==null?e=0:(Xr=null,ii=0,e=Lr)}if(e!==0){if(e===2&&(i=V4(t),i!==0&&(r=i,e=v8(t,i))),e===1)throw n=Yp,qu(t,0),Tl(t,r),es(t,Sr()),n;if(e===6)Tl(t,r);else{if(i=t.current.alternate,!(r&30)&&!TU(i)&&(e=F1(t,r),e===2&&(s=V4(t),s!==0&&(r=s,e=v8(t,s))),e===1))throw n=Yp,qu(t,0),Tl(t,r),es(t,Sr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(rt(345));case 2:Iu(t,Ji,Aa);break;case 3:if(Tl(t,r),(r&130023424)===r&&(e=Y9+500-Sr(),10<e)){if(v1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Li(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Q4(Iu.bind(null,t,Ji,Aa),e);break}Iu(t,Ji,Aa);break;case 4:if(Tl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-So(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Sr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EU(r/1960))-r,10<r){t.timeoutHandle=Q4(Iu.bind(null,t,Ji,Aa),r);break}Iu(t,Ji,Aa);break;case 5:Iu(t,Ji,Aa);break;default:throw Error(rt(329))}}}return es(t,Sr()),t.callbackNode===n?TP.bind(null,t):null}function v8(t,e){var n=dp;return t.current.memoizedState.isDehydrated&&(qu(t,e).flags|=256),t=F1(t,e),t!==2&&(e=Ji,Ji=n,e!==null&&y8(e)),t}function y8(t){Ji===null?Ji=t:Ji.push.apply(Ji,t)}function TU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Eo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tl(t,e){for(e&=~J9,e&=~Hg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-So(e),r=1<<n;t[n]=-1,e&=~r}}function j_(t){if(wn&6)throw Error(rt(327));Vf();var e=v1(t,0);if(!(e&1))return es(t,Sr()),null;var n=F1(t,e);if(t.tag!==0&&n===2){var r=V4(t);r!==0&&(e=r,n=v8(t,r))}if(n===1)throw n=Yp,qu(t,0),Tl(t,e),es(t,Sr()),n;if(n===6)throw Error(rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Iu(t,Ji,Aa),es(t,Sr()),null}function K9(t,e){var n=wn;wn|=1;try{return t(e)}finally{wn=n,wn===0&&(ih=Sr()+500,Ng&&tu())}}function fc(t){Pl!==null&&Pl.tag===0&&!(wn&6)&&Vf();var e=wn;wn|=1;var n=Js.transition,r=Dn;try{if(Js.transition=null,Dn=1,t)return t()}finally{Dn=r,Js.transition=n,wn=e,!(wn&6)&&tu()}}function Z9(){ps=Cf.current,jn(Cf)}function qu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nU(n)),Tr!==null)for(n=Tr.return;n!==null;){var r=n;switch(R9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_1();break;case 3:nh(),jn(qi),jn(yi),O9();break;case 5:N9(r);break;case 4:nh();break;case 13:jn(nr);break;case 19:jn(nr);break;case 10:L9(r.type._context);break;case 22:case 23:Z9()}n=n.return}if(Xr=t,Tr=t=Vl(t.current,null),ii=ps=e,Lr=0,Yp=null,J9=Hg=cc=0,Ji=dp=null,Hu!==null){for(e=0;e<Hu.length;e++)if(n=Hu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hu=null}return t}function CP(t,e){do{var n=Tr;try{if(I9(),Gm.current=D1,R1){for(var r=sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}R1=!1}if(uc=0,jr=Ir=sr=null,fp=!1,jp=0,X9.current=null,n===null||n.return===null){Lr=1,Yp=e,Tr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ii,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=B_(o);if(m!==null){m.flags&=-257,I_(m,o,a,s,e),m.mode&1&&D_(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){D_(s,u,e),Q9();break e}l=Error(rt(426))}}else if(Qn&&a.mode&1){var y=B_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),I_(y,o,a,s,e),D9(rh(l,a));break e}}s=l=rh(l,a),Lr!==4&&(Lr=2),dp===null?dp=[s]:dp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=cP(s,l,e);A_(s,S);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gl===null||!Gl.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=fP(s,a,e);A_(s,M);break e}}s=s.return}while(s!==null)}RP(n)}catch(E){e=E,Tr===n&&n!==null&&(Tr=n=n.return);continue}break}while(1)}function bP(){var t=B1.current;return B1.current=D1,t===null?D1:t}function Q9(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Xr===null||!(cc&268435455)&&!(Hg&268435455)||Tl(Xr,ii)}function F1(t,e){var n=wn;wn|=2;var r=bP();(Xr!==t||ii!==e)&&(Aa=null,qu(t,e));do try{CU();break}catch(i){CP(t,i)}while(1);if(I9(),wn=n,B1.current=r,Tr!==null)throw Error(rt(261));return Xr=null,ii=0,Lr}function CU(){for(;Tr!==null;)PP(Tr)}function bU(){for(;Tr!==null&&!$F();)PP(Tr)}function PP(t){var e=BP(t.alternate,t,ps);t.memoizedProps=t.pendingProps,e===null?RP(t):Tr=e,X9.current=null}function RP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SU(n,e),n!==null){n.flags&=32767,Tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lr=6,Tr=null;return}}else if(n=wU(n,e,ps),n!==null){Tr=n;return}if(e=e.sibling,e!==null){Tr=e;return}Tr=e=t}while(e!==null);Lr===0&&(Lr=5)}function Iu(t,e,n){var r=Dn,i=Js.transition;try{Js.transition=null,Dn=1,PU(t,e,n,r)}finally{Js.transition=i,Dn=r}return null}function PU(t,e,n,r){do Vf();while(Pl!==null);if(wn&6)throw Error(rt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(rt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uk(t,s),t===Xr&&(Tr=Xr=null,ii=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||m2||(m2=!0,IP(g1,function(){return Vf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Js.transition,Js.transition=null;var o=Dn;Dn=1;var a=wn;wn|=4,X9.current=null,MU(t,n),AP(n,t),Kk(K4),y1=!!Y4,K4=Y4=null,t.current=n,AU(n),ek(),wn=a,Dn=o,Js.transition=s}else t.current=n;if(m2&&(m2=!1,Pl=t,L1=i),s=t.pendingLanes,s===0&&(Gl=null),rk(n.stateNode),es(t,Sr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(I1)throw I1=!1,t=m8,m8=null,t;return L1&1&&t.tag!==0&&Vf(),s=t.pendingLanes,s&1?t===g8?pp++:(pp=0,g8=t):pp=0,tu(),null}function Vf(){if(Pl!==null){var t=ub(L1),e=Js.transition,n=Dn;try{if(Js.transition=null,Dn=16>t?16:t,Pl===null)var r=!1;else{if(t=Pl,Pl=null,L1=0,wn&6)throw Error(rt(331));var i=wn;for(wn|=4,yt=t.current;yt!==null;){var s=yt,o=s.child;if(yt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(yt=u;yt!==null;){var c=yt;switch(c.tag){case 0:case 11:case 15:hp(8,c,s)}var f=c.child;if(f!==null)f.return=c,yt=f;else for(;yt!==null;){c=yt;var d=c.sibling,m=c.return;if(SP(c),c===u){yt=null;break}if(d!==null){d.return=m,yt=d;break}yt=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}yt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,yt=o;else e:for(;yt!==null;){if(s=yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hp(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,yt=S;break e}yt=s.return}}var w=t.current;for(yt=w;yt!==null;){o=yt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,yt=x;else e:for(o=w;yt!==null;){if(a=yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gg(9,a)}}catch(E){hr(a,a.return,E)}if(a===o){yt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,yt=M;break e}yt=a.return}}if(wn=i,tu(),Ko&&typeof Ko.onPostCommitFiberRoot=="function")try{Ko.onPostCommitFiberRoot(Ig,t)}catch{}r=!0}return r}finally{Dn=n,Js.transition=e}}return!1}function X_(t,e,n){e=rh(n,e),e=cP(t,e,1),t=zl(t,e,1),e=Li(),t!==null&&(A0(t,1,e),es(t,e))}function hr(t,e,n){if(t.tag===3)X_(t,t,n);else for(;e!==null;){if(e.tag===3){X_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gl===null||!Gl.has(r))){t=rh(n,t),t=fP(e,t,1),e=zl(e,t,1),t=Li(),e!==null&&(A0(e,1,t),es(e,t));break}}e=e.return}}function RU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Li(),t.pingedLanes|=t.suspendedLanes&n,Xr===t&&(ii&n)===n&&(Lr===4||Lr===3&&(ii&130023424)===ii&&500>Sr()-Y9?qu(t,0):J9|=n),es(t,e)}function DP(t,e){e===0&&(t.mode&1?(e=s2,s2<<=1,!(s2&130023424)&&(s2=4194304)):e=1);var n=Li();t=Ga(t,e),t!==null&&(A0(t,e,n),es(t,n))}function DU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DP(t,n)}function BU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(e),DP(t,n)}var BP;BP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qi.current)Ki=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ki=!1,xU(t,e,n);Ki=!!(t.flags&131072)}else Ki=!1,Qn&&e.flags&1048576&&Fb(e,E1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vm(t,e),t=e.pendingProps;var i=$f(e,yi.current);Hf(e,n),i=G9(null,e,r,t,i,n);var s=H9();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$i(r)?(s=!0,M1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k9(e),i.updater=Og,e.stateNode=i,i._reactInternals=e,i8(e,r,t,n),e=a8(null,e,r,!0,s,n)):(e.tag=0,Qn&&s&&P9(e),Ri(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LU(r),t=lo(r,t),i){case 0:e=o8(null,e,r,t,n);break e;case 1:e=k_(null,e,r,t,n);break e;case 11:e=L_(null,e,r,t,n);break e;case 14:e=F_(null,e,r,lo(r.type,t),n);break e}throw Error(rt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),o8(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),k_(t,e,r,i,n);case 3:e:{if(mP(e),t===null)throw Error(rt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ob(t,e),b1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=rh(Error(rt(423)),e),e=U_(t,e,r,n,i);break e}else if(r!==i){i=rh(Error(rt(424)),e),e=U_(t,e,r,n,i);break e}else for(vs=Ol(e.stateNode.containerInfo.firstChild),xs=e,Qn=!0,fo=null,n=Vb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eh(),r===i){e=Ha(t,e,n);break e}Ri(t,e,r,n)}e=e.child}return e;case 5:return Wb(e),t===null&&t8(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Z4(r,i)?o=null:s!==null&&Z4(r,s)&&(e.flags|=32),pP(t,e),Ri(t,e,o,n),e.child;case 6:return t===null&&t8(e),null;case 13:return gP(t,e,n);case 4:return U9(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=th(e,null,r,n):Ri(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),L_(t,e,r,i,n);case 7:return Ri(t,e,e.pendingProps,n),e.child;case 8:return Ri(t,e,e.pendingProps.children,n),e.child;case 12:return Ri(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,On(T1,r._currentValue),r._currentValue=o,s!==null)if(Eo(s.value,o)){if(s.children===i.children&&!qi.current){e=Ha(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ua(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),n8(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(rt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),n8(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ri(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hf(e,n),i=Ys(i),r=r(i),e.flags|=1,Ri(t,e,r,n),e.child;case 14:return r=e.type,i=lo(r,e.pendingProps),i=lo(r.type,i),F_(t,e,r,i,n);case 15:return hP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),Vm(t,e),e.tag=1,$i(r)?(t=!0,M1(e)):t=!1,Hf(e,n),Gb(e,r,i),i8(e,r,i,n),a8(null,e,r,!0,t,n);case 19:return vP(t,e,n);case 22:return dP(t,e,n)}throw Error(rt(156,e.tag))};function IP(t,e){return sb(t,e)}function IU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(t,e,n,r){return new IU(t,e,n,r)}function q9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LU(t){if(typeof t=="function")return q9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v9)return 11;if(t===y9)return 14}return 2}function Vl(t,e){var n=t.alternate;return n===null?(n=js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")q9(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vf:return $u(n.children,i,s,e);case g9:o=8,i|=8;break;case b4:return t=js(12,n,e,i|2),t.elementType=b4,t.lanes=s,t;case P4:return t=js(13,n,e,i),t.elementType=P4,t.lanes=s,t;case R4:return t=js(19,n,e,i),t.elementType=R4,t.lanes=s,t;case HC:return Vg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zC:o=10;break e;case GC:o=9;break e;case v9:o=11;break e;case y9:o=14;break e;case xl:o=16,r=null;break e}throw Error(rt(130,t==null?t:typeof t,""))}return e=js(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $u(t,e,n,r){return t=js(7,t,r,e),t.lanes=n,t}function Vg(t,e,n,r){return t=js(22,t,r,e),t.elementType=HC,t.lanes=n,t.stateNode={isHidden:!1},t}function $5(t,e,n){return t=js(6,t,null,e),t.lanes=n,t}function e6(t,e,n){return e=js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L5(0),this.expirationTimes=L5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $9(t,e,n,r,i,s,o,a,l){return t=new FU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=js(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k9(s),t}function kU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LP(t){if(!t)return Kl;t=t._reactInternals;e:{if(Sc(t)!==t||t.tag!==1)throw Error(rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(t.tag===1){var n=t.type;if($i(n))return Ib(t,n,e)}return e}function FP(t,e,n,r,i,s,o,a,l){return t=$9(n,r,!0,t,i,s,o,a,l),t.context=LP(null),n=t.current,r=Li(),i=Hl(n),s=Ua(r,i),s.callback=e??null,zl(n,s,i),t.current.lanes=i,A0(t,i,r),es(t,r),t}function Wg(t,e,n,r){var i=e.current,s=Li(),o=Hl(i);return n=LP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ua(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zl(i,e,o),t!==null&&(_o(t,i,o,s),zm(t,i,o)),o}function k1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ex(t,e){J_(t,e),(t=t.alternate)&&J_(t,e)}function UU(){return null}var kP=typeof reportError=="function"?reportError:function(t){console.error(t)};function tx(t){this._internalRoot=t}jg.prototype.render=tx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(rt(409));Wg(t,e,null,null)};jg.prototype.unmount=tx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fc(function(){Wg(null,t,null,null)}),e[za]=null}};function jg(t){this._internalRoot=t}jg.prototype.unstable_scheduleHydration=function(t){if(t){var e=hb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<El.length&&e!==0&&e<El[n].priority;n++);El.splice(n,0,t),n===0&&pb(t)}};function nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function NU(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=k1(o);s.call(u)}}var o=FP(e,r,t,0,null,!1,!1,"",Y_);return t._reactRootContainer=o,t[za]=o.current,zp(t.nodeType===8?t.parentNode:t),fc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=k1(l);a.call(u)}}var l=$9(t,0,!1,null,null,!1,!1,"",Y_);return t._reactRootContainer=l,t[za]=l.current,zp(t.nodeType===8?t.parentNode:t),fc(function(){Wg(e,l,n,r)}),l}function Jg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=k1(o);a.call(l)}}Wg(e,o,t,i)}else o=NU(n,e,t,i,r);return k1(o)}cb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yd(e.pendingLanes);n!==0&&(S9(e,n|1),es(e,Sr()),!(wn&6)&&(ih=Sr()+500,tu()))}break;case 13:fc(function(){var r=Ga(t,1);if(r!==null){var i=Li();_o(r,t,1,i)}}),ex(t,1)}};_9=function(t){if(t.tag===13){var e=Ga(t,134217728);if(e!==null){var n=Li();_o(e,t,134217728,n)}ex(t,134217728)}};fb=function(t){if(t.tag===13){var e=Hl(t),n=Ga(t,e);if(n!==null){var r=Li();_o(n,t,e,r)}ex(t,e)}};hb=function(){return Dn};db=function(t,e){var n=Dn;try{return Dn=t,e()}finally{Dn=n}};z4=function(t,e,n){switch(e){case"input":if(I4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ug(r);if(!i)throw Error(rt(90));WC(r),I4(r,i)}}}break;case"textarea":XC(t,n);break;case"select":e=n.value,e!=null&&Nf(t,!!n.multiple,e,!1)}};$C=K9;eb=fc;var OU={usingClientEntryPoint:!1,Events:[T0,Sf,Ug,QC,qC,K9]},wd={findFiberByHostInstance:Gu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zU={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rb(t),t===null?null:t.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||UU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g2.isDisabled&&g2.supportsFiber)try{Ig=g2.inject(zU),Ko=g2}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OU;Ms.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nx(e))throw Error(rt(200));return kU(t,e,null,n)};Ms.createRoot=function(t,e){if(!nx(t))throw Error(rt(299));var n=!1,r="",i=kP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$9(t,1,!1,null,null,n,!1,r,i),t[za]=e.current,zp(t.nodeType===8?t.parentNode:t),new tx(e)};Ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(rt(188)):(t=Object.keys(t).join(","),Error(rt(268,t)));return t=rb(e),t=t===null?null:t.stateNode,t};Ms.flushSync=function(t){return fc(t)};Ms.hydrate=function(t,e,n){if(!Xg(e))throw Error(rt(200));return Jg(null,t,e,!0,n)};Ms.hydrateRoot=function(t,e,n){if(!nx(t))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FP(e,null,t,1,n??null,i,!1,s,o),t[za]=e.current,zp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jg(e)};Ms.render=function(t,e,n){if(!Xg(e))throw Error(rt(200));return Jg(null,t,e,!1,n)};Ms.unmountComponentAtNode=function(t){if(!Xg(t))throw Error(rt(40));return t._reactRootContainer?(fc(function(){Jg(null,null,t,!1,function(){t._reactRootContainer=null,t[za]=null})}),!0):!1};Ms.unstable_batchedUpdates=K9;Ms.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xg(n))throw Error(rt(200));if(t==null||t._reactInternals===void 0)throw Error(rt(38));return Jg(t,e,n,!1,r)};Ms.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ms})(UF);var K_=E4;A4.createRoot=K_.createRoot,A4.hydrateRoot=K_.hydrateRoot;var Kp={},GU={get exports(){return Kp},set exports(t){Kp=t}},Bn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=typeof Symbol=="function"&&Symbol.for,rx=Kr?Symbol.for("react.element"):60103,ix=Kr?Symbol.for("react.portal"):60106,Yg=Kr?Symbol.for("react.fragment"):60107,Kg=Kr?Symbol.for("react.strict_mode"):60108,Zg=Kr?Symbol.for("react.profiler"):60114,Qg=Kr?Symbol.for("react.provider"):60109,qg=Kr?Symbol.for("react.context"):60110,sx=Kr?Symbol.for("react.async_mode"):60111,$g=Kr?Symbol.for("react.concurrent_mode"):60111,ev=Kr?Symbol.for("react.forward_ref"):60112,tv=Kr?Symbol.for("react.suspense"):60113,HU=Kr?Symbol.for("react.suspense_list"):60120,nv=Kr?Symbol.for("react.memo"):60115,rv=Kr?Symbol.for("react.lazy"):60116,VU=Kr?Symbol.for("react.block"):60121,WU=Kr?Symbol.for("react.fundamental"):60117,jU=Kr?Symbol.for("react.responder"):60118,XU=Kr?Symbol.for("react.scope"):60119;function Es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rx:switch(t=t.type,t){case sx:case $g:case Yg:case Zg:case Kg:case tv:return t;default:switch(t=t&&t.$$typeof,t){case qg:case ev:case rv:case nv:case Qg:return t;default:return e}}case ix:return e}}}function UP(t){return Es(t)===$g}Bn.AsyncMode=sx;Bn.ConcurrentMode=$g;Bn.ContextConsumer=qg;Bn.ContextProvider=Qg;Bn.Element=rx;Bn.ForwardRef=ev;Bn.Fragment=Yg;Bn.Lazy=rv;Bn.Memo=nv;Bn.Portal=ix;Bn.Profiler=Zg;Bn.StrictMode=Kg;Bn.Suspense=tv;Bn.isAsyncMode=function(t){return UP(t)||Es(t)===sx};Bn.isConcurrentMode=UP;Bn.isContextConsumer=function(t){return Es(t)===qg};Bn.isContextProvider=function(t){return Es(t)===Qg};Bn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rx};Bn.isForwardRef=function(t){return Es(t)===ev};Bn.isFragment=function(t){return Es(t)===Yg};Bn.isLazy=function(t){return Es(t)===rv};Bn.isMemo=function(t){return Es(t)===nv};Bn.isPortal=function(t){return Es(t)===ix};Bn.isProfiler=function(t){return Es(t)===Zg};Bn.isStrictMode=function(t){return Es(t)===Kg};Bn.isSuspense=function(t){return Es(t)===tv};Bn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yg||t===$g||t===Zg||t===Kg||t===tv||t===HU||typeof t=="object"&&t!==null&&(t.$$typeof===rv||t.$$typeof===nv||t.$$typeof===Qg||t.$$typeof===qg||t.$$typeof===ev||t.$$typeof===WU||t.$$typeof===jU||t.$$typeof===XU||t.$$typeof===VU)};Bn.typeOf=Es;(function(t){t.exports=Bn})(GU);function JU(t){function e(k,q,ee,Y,Z){for(var ae=0,re=0,me=0,Ee=0,_e,se,xe=0,Le=0,Ce,Be=Ce=_e=0,He=0,Te=0,Ye=0,We=0,De=ee.length,Q=De-1,z,ue="",we="",Ge="",Ve="",ze;He<De;){if(se=ee.charCodeAt(He),He===Q&&re+Ee+me+ae!==0&&(re!==0&&(se=re===47?10:47),Ee=me=ae=0,De++,Q++),re+Ee+me+ae===0){if(He===Q&&(0<Te&&(ue=ue.replace(d,"")),0<ue.trim().length)){switch(se){case 32:case 9:case 59:case 13:case 10:break;default:ue+=ee.charAt(He)}se=59}switch(se){case 123:for(ue=ue.trim(),_e=ue.charCodeAt(0),Ce=1,We=++He;He<De;){switch(se=ee.charCodeAt(He)){case 123:Ce++;break;case 125:Ce--;break;case 47:switch(se=ee.charCodeAt(He+1)){case 42:case 47:e:{for(Be=He+1;Be<Q;++Be)switch(ee.charCodeAt(Be)){case 47:if(se===42&&ee.charCodeAt(Be-1)===42&&He+2!==Be){He=Be+1;break e}break;case 10:if(se===47){He=Be+1;break e}}He=Be}}break;case 91:se++;case 40:se++;case 34:case 39:for(;He++<Q&&ee.charCodeAt(He)!==se;);}if(Ce===0)break;He++}switch(Ce=ee.substring(We,He),_e===0&&(_e=(ue=ue.replace(f,"").trim()).charCodeAt(0)),_e){case 64:switch(0<Te&&(ue=ue.replace(d,"")),se=ue.charCodeAt(1),se){case 100:case 109:case 115:case 45:Te=q;break;default:Te=W}if(Ce=e(q,Te,Ce,se,Z+1),We=Ce.length,0<L&&(Te=n(W,ue,Ye),ze=a(3,Ce,Te,q,J,G,We,se,Z,Y),ue=Te.join(""),ze!==void 0&&(We=(Ce=ze.trim()).length)===0&&(se=0,Ce="")),0<We)switch(se){case 115:ue=ue.replace(C,o);case 100:case 109:case 45:Ce=ue+"{"+Ce+"}";break;case 107:ue=ue.replace(w,"$1 $2"),Ce=ue+"{"+Ce+"}",Ce=U===1||U===2&&s("@"+Ce,3)?"@-webkit-"+Ce+"@"+Ce:"@"+Ce;break;default:Ce=ue+Ce,Y===112&&(Ce=(we+=Ce,""))}else Ce="";break;default:Ce=e(q,n(q,ue,Ye),Ce,Y,Z+1)}Ge+=Ce,Ce=Ye=Te=Be=_e=0,ue="",se=ee.charCodeAt(++He);break;case 125:case 59:if(ue=(0<Te?ue.replace(d,""):ue).trim(),1<(We=ue.length))switch(Be===0&&(_e=ue.charCodeAt(0),_e===45||96<_e&&123>_e)&&(We=(ue=ue.replace(" ",":")).length),0<L&&(ze=a(1,ue,q,k,J,G,we.length,Y,Z,Y))!==void 0&&(We=(ue=ze.trim()).length)===0&&(ue="\0\0"),_e=ue.charCodeAt(0),se=ue.charCodeAt(1),_e){case 0:break;case 64:if(se===105||se===99){Ve+=ue+ee.charAt(He);break}default:ue.charCodeAt(We-1)!==58&&(we+=i(ue,_e,se,ue.charCodeAt(2)))}Ye=Te=Be=_e=0,ue="",se=ee.charCodeAt(++He)}}switch(se){case 13:case 10:re===47?re=0:1+_e===0&&Y!==107&&0<ue.length&&(Te=1,ue+="\0"),0<L*V&&a(0,ue,q,k,J,G,we.length,Y,Z,Y),G=1,J++;break;case 59:case 125:if(re+Ee+me+ae===0){G++;break}default:switch(G++,z=ee.charAt(He),se){case 9:case 32:if(Ee+ae+re===0)switch(xe){case 44:case 58:case 9:case 32:z="";break;default:se!==32&&(z=" ")}break;case 0:z="\\0";break;case 12:z="\\f";break;case 11:z="\\v";break;case 38:Ee+re+ae===0&&(Te=Ye=1,z="\f"+z);break;case 108:if(Ee+re+ae+D===0&&0<Be)switch(He-Be){case 2:xe===112&&ee.charCodeAt(He-3)===58&&(D=xe);case 8:Le===111&&(D=Le)}break;case 58:Ee+re+ae===0&&(Be=He);break;case 44:re+me+Ee+ae===0&&(Te=1,z+="\r");break;case 34:case 39:re===0&&(Ee=Ee===se?0:Ee===0?se:Ee);break;case 91:Ee+re+me===0&&ae++;break;case 93:Ee+re+me===0&&ae--;break;case 41:Ee+re+ae===0&&me--;break;case 40:if(Ee+re+ae===0){if(_e===0)switch(2*xe+3*Le){case 533:break;default:_e=1}me++}break;case 64:re+me+Ee+ae+Be+Ce===0&&(Ce=1);break;case 42:case 47:if(!(0<Ee+ae+me))switch(re){case 0:switch(2*se+3*ee.charCodeAt(He+1)){case 235:re=47;break;case 220:We=He,re=42}break;case 42:se===47&&xe===42&&We+2!==He&&(ee.charCodeAt(We+2)===33&&(we+=ee.substring(We,He+1)),z="",re=0)}}re===0&&(ue+=z)}Le=xe,xe=se,He++}if(We=we.length,0<We){if(Te=q,0<L&&(ze=a(2,we,Te,k,J,G,We,Y,Z,Y),ze!==void 0&&(we=ze).length===0))return Ve+we+Ge;if(we=Te.join(",")+"{"+we+"}",U*D!==0){switch(U!==2||s(we,2)||(D=0),D){case 111:we=we.replace(M,":-moz-$1")+we;break;case 112:we=we.replace(x,"::-webkit-input-$1")+we.replace(x,"::-moz-$1")+we.replace(x,":-ms-input-$1")+we}D=0}}return Ve+we+Ge}function n(k,q,ee){var Y=q.trim().split(y);q=Y;var Z=Y.length,ae=k.length;switch(ae){case 0:case 1:var re=0;for(k=ae===0?"":k[0]+" ";re<Z;++re)q[re]=r(k,q[re],ee).trim();break;default:var me=re=0;for(q=[];re<Z;++re)for(var Ee=0;Ee<ae;++Ee)q[me++]=r(k[Ee]+" ",Y[re],ee).trim()}return q}function r(k,q,ee){var Y=q.charCodeAt(0);switch(33>Y&&(Y=(q=q.trim()).charCodeAt(0)),Y){case 38:return q.replace(S,"$1"+k.trim());case 58:return k.trim()+q.replace(S,"$1"+k.trim());default:if(0<1*ee&&0<q.indexOf("\f"))return q.replace(S,(k.charCodeAt(0)===58?"":"$1")+k.trim())}return k+q}function i(k,q,ee,Y){var Z=k+";",ae=2*q+3*ee+4*Y;if(ae===944){k=Z.indexOf(":",9)+1;var re=Z.substring(k,Z.length-1).trim();return re=Z.substring(0,k).trim()+re+";",U===1||U===2&&s(re,1)?"-webkit-"+re+re:re}if(U===0||U===2&&!s(Z,1))return Z;switch(ae){case 1015:return Z.charCodeAt(10)===97?"-webkit-"+Z+Z:Z;case 951:return Z.charCodeAt(3)===116?"-webkit-"+Z+Z:Z;case 963:return Z.charCodeAt(5)===110?"-webkit-"+Z+Z:Z;case 1009:if(Z.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Z+Z;case 978:return"-webkit-"+Z+"-moz-"+Z+Z;case 1019:case 983:return"-webkit-"+Z+"-moz-"+Z+"-ms-"+Z+Z;case 883:if(Z.charCodeAt(8)===45)return"-webkit-"+Z+Z;if(0<Z.indexOf("image-set(",11))return Z.replace(N,"$1-webkit-$2")+Z;break;case 932:if(Z.charCodeAt(4)===45)switch(Z.charCodeAt(5)){case 103:return"-webkit-box-"+Z.replace("-grow","")+"-webkit-"+Z+"-ms-"+Z.replace("grow","positive")+Z;case 115:return"-webkit-"+Z+"-ms-"+Z.replace("shrink","negative")+Z;case 98:return"-webkit-"+Z+"-ms-"+Z.replace("basis","preferred-size")+Z}return"-webkit-"+Z+"-ms-"+Z+Z;case 964:return"-webkit-"+Z+"-ms-flex-"+Z+Z;case 1023:if(Z.charCodeAt(8)!==99)break;return re=Z.substring(Z.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+re+"-webkit-"+Z+"-ms-flex-pack"+re+Z;case 1005:return g.test(Z)?Z.replace(m,":-webkit-")+Z.replace(m,":-moz-")+Z:Z;case 1e3:switch(re=Z.substring(13).trim(),q=re.indexOf("-")+1,re.charCodeAt(0)+re.charCodeAt(q)){case 226:re=Z.replace(E,"tb");break;case 232:re=Z.replace(E,"tb-rl");break;case 220:re=Z.replace(E,"lr");break;default:return Z}return"-webkit-"+Z+"-ms-"+re+Z;case 1017:if(Z.indexOf("sticky",9)===-1)break;case 975:switch(q=(Z=k).length-10,re=(Z.charCodeAt(q)===33?Z.substring(0,q):Z).substring(k.indexOf(":",7)+1).trim(),ae=re.charCodeAt(0)+(re.charCodeAt(7)|0)){case 203:if(111>re.charCodeAt(8))break;case 115:Z=Z.replace(re,"-webkit-"+re)+";"+Z;break;case 207:case 102:Z=Z.replace(re,"-webkit-"+(102<ae?"inline-":"")+"box")+";"+Z.replace(re,"-webkit-"+re)+";"+Z.replace(re,"-ms-"+re+"box")+";"+Z}return Z+";";case 938:if(Z.charCodeAt(5)===45)switch(Z.charCodeAt(6)){case 105:return re=Z.replace("-items",""),"-webkit-"+Z+"-webkit-box-"+re+"-ms-flex-"+re+Z;case 115:return"-webkit-"+Z+"-ms-flex-item-"+Z.replace(T,"")+Z;default:return"-webkit-"+Z+"-ms-flex-line-pack"+Z.replace("align-content","").replace(T,"")+Z}break;case 973:case 989:if(Z.charCodeAt(3)!==45||Z.charCodeAt(4)===122)break;case 931:case 953:if(B.test(k)===!0)return(re=k.substring(k.indexOf(":")+1)).charCodeAt(0)===115?i(k.replace("stretch","fill-available"),q,ee,Y).replace(":fill-available",":stretch"):Z.replace(re,"-webkit-"+re)+Z.replace(re,"-moz-"+re.replace("fill-",""))+Z;break;case 962:if(Z="-webkit-"+Z+(Z.charCodeAt(5)===102?"-ms-"+Z:"")+Z,ee+Y===211&&Z.charCodeAt(13)===105&&0<Z.indexOf("transform",10))return Z.substring(0,Z.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+Z}return Z}function s(k,q){var ee=k.indexOf(q===1?":":"{"),Y=k.substring(0,q!==3?ee:10);return ee=k.substring(ee+1,k.length-1),O(q!==2?Y:Y.replace(R,"$1"),ee,q)}function o(k,q){var ee=i(q,q.charCodeAt(0),q.charCodeAt(1),q.charCodeAt(2));return ee!==q+";"?ee.replace(P," or ($1)").substring(4):"("+q+")"}function a(k,q,ee,Y,Z,ae,re,me,Ee,_e){for(var se=0,xe=q,Le;se<L;++se)switch(Le=ie[se].call(c,k,xe,ee,Y,Z,ae,re,me,Ee,_e)){case void 0:case!1:case!0:case null:break;default:xe=Le}if(xe!==q)return xe}function l(k){switch(k){case void 0:case null:L=ie.length=0;break;default:if(typeof k=="function")ie[L++]=k;else if(typeof k=="object")for(var q=0,ee=k.length;q<ee;++q)l(k[q]);else V=!!k|0}return l}function u(k){return k=k.prefix,k!==void 0&&(O=null,k?typeof k!="function"?U=1:(U=2,O=k):U=0),u}function c(k,q){var ee=k;if(33>ee.charCodeAt(0)&&(ee=ee.trim()),j=ee,ee=[j],0<L){var Y=a(-1,q,ee,ee,J,G,0,0,0,0);Y!==void 0&&typeof Y=="string"&&(q=Y)}var Z=e(W,ee,q,0,0);return 0<L&&(Y=a(-2,Z,ee,ee,J,G,Z.length,0,0,0),Y!==void 0&&(Z=Y)),j="",D=0,G=J=1,Z}var f=/^\0+/g,d=/[\0\r\f]/g,m=/: */g,g=/zoo|gra/,v=/([,: ])(transform)/g,y=/,\r+?/g,S=/([\t\r\n ])*\f?&/g,w=/@(k\w+)\s*(\S*)\s*/,x=/::(place)/g,M=/:(read-only)/g,E=/[svh]\w+-[tblr]{2}/,C=/\(\s*(.*)\s*\)/g,P=/([\s\S]*?);/g,T=/-self|flex-/g,R=/[^]*?(:[rp][el]a[\w-]+)[^]*/,B=/stretch|:\s*\w+\-(?:conte|avail)/,N=/([^-])(image-set\()/,G=1,J=1,D=0,U=1,W=[],ie=[],L=0,O=null,V=0,j="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var YU={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function KU(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ZU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Z_=KU(function(t){return ZU.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),ox=Kp,QU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$U={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ax={};ax[ox.ForwardRef]=$U;ax[ox.Memo]=NP;function Q_(t){return ox.isMemo(t)?NP:ax[t.$$typeof]||QU}var eN=Object.defineProperty,tN=Object.getOwnPropertyNames,q_=Object.getOwnPropertySymbols,nN=Object.getOwnPropertyDescriptor,rN=Object.getPrototypeOf,$_=Object.prototype;function OP(t,e,n){if(typeof e!="string"){if($_){var r=rN(e);r&&r!==$_&&OP(t,r,n)}var i=tN(e);q_&&(i=i.concat(q_(e)));for(var s=Q_(t),o=Q_(e),a=0;a<i.length;++a){var l=i[a];if(!qU[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=nN(e,l);try{eN(t,l,u)}catch{}}}}return t}var iN=OP;function Ba(){return(Ba=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var eM=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},x8=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!Kp.typeOf(t)},U1=Object.freeze([]),Wl=Object.freeze({});function Zp(t){return typeof t=="function"}function tM(t){return t.displayName||t.name||"Component"}function lx(t){return t&&typeof t.styledComponentId=="string"}var sh=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",ux=typeof window<"u"&&"HTMLElement"in window,sN=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function b0(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var oN=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;n>=o;)(o<<=1)<0&&b0(16,""+n);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),s=i+r;this.groupSizes[n]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],s=this.indexOfGroup(n),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),Jm=new Map,N1=new Map,mp=1,v2=function(t){if(Jm.has(t))return Jm.get(t);for(;N1.has(mp);)mp++;var e=mp++;return Jm.set(t,e),N1.set(e,t),e},aN=function(t){return N1.get(t)},lN=function(t,e){e>=mp&&(mp=e+1),Jm.set(t,e),N1.set(e,t)},uN="style["+sh+'][data-styled-version="5.3.6"]',cN=new RegExp("^"+sh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),fN=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},hN=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var a=o.match(cN);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(lN(u,l),fN(t,u,a[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},dN=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},zP=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(sh))return c}}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(sh,"active"),r.setAttribute("data-styled-version","5.3.6");var o=dN();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},pN=function(){function t(n){var r=this.element=zP(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}b0(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),mN=function(){function t(n){var r=this.element=zP(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),gN=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),nM=ux,vN={isServer:!ux,useCSSOMInjection:!sN},GP=function(){function t(n,r,i){n===void 0&&(n=Wl),r===void 0&&(r={}),this.options=Ba({},vN,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&ux&&nM&&(nM=!1,function(s){for(var o=document.querySelectorAll(uN),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(sh)!=="active"&&(hN(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return v2(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Ba({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,n=i?new gN(o):s?new pN(o):new mN(o),new oN(n)));var n,r,i,s,o},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(v2(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(v2(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(v2(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,s="",o=0;o<i;o++){var a=aN(o);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var c=sh+".g"+o+'[id="'+a+'"]',f="";l!==void 0&&l.forEach(function(d){d.length>0&&(f+=d+",")}),s+=""+u+c+'{content:"'+f+`"}/*!sc*/
`}}}return s}(this)},t}(),yN=/(a)(d)/gi,rM=function(t){return String.fromCharCode(t+(t>25?39:97))};function w8(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=rM(e%52)+n;return(rM(e%52)+n).replace(yN,"$1-$2")}var bf=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},HP=function(t){return bf(5381,t)};function xN(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Zp(n)&&!lx(n))return!1}return!0}var wN=HP("5.3.6"),SN=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&xN(e),this.componentId=n,this.baseHash=bf(wN,n),this.baseStyle=r,GP.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=oh(this.rules,e,n,r).join(""),a=w8(bf(this.baseHash,o)>>>0);if(!n.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);n.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=bf(this.baseHash,r.hash),f="",d=0;d<u;d++){var m=this.rules[d];if(typeof m=="string")f+=m;else if(m){var g=oh(m,e,n,r),v=Array.isArray(g)?g.join(""):g;c=bf(c,v+d),f+=v}}if(f){var y=w8(c>>>0);if(!n.hasNameForId(i,y)){var S=r(f,"."+y,void 0,i);n.insertRules(i,y,S)}s.push(y)}}return s.join(" ")},t}(),_N=/^\s*\/\/.*$/gm,MN=[":","[",".","#"];function AN(t){var e,n,r,i,s=t===void 0?Wl:t,o=s.options,a=o===void 0?Wl:o,l=s.plugins,u=l===void 0?U1:l,c=new JU(a),f=[],d=function(v){function y(S){if(S)try{v(S+"}")}catch{}}return function(S,w,x,M,E,C,P,T,R,B){switch(S){case 1:if(R===0&&w.charCodeAt(0)===64)return v(w+";"),"";break;case 2:if(T===0)return w+"/*|*/";break;case 3:switch(T){case 102:case 112:return v(x[0]+w),"";default:return w+(B===0?"/*|*/":"")}case-2:w.split("/*|*/}").forEach(y)}}}(function(v){f.push(v)}),m=function(v,y,S){return y===0&&MN.indexOf(S[n.length])!==-1||S.match(i)?v:"."+e};function g(v,y,S,w){w===void 0&&(w="&");var x=v.replace(_N,""),M=y&&S?S+" "+y+" { "+x+" }":x;return e=w,n=y,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(S||!y?"":y,M)}return c.use([].concat(u,[function(v,y,S){v===2&&S.length&&S[0].lastIndexOf(n)>0&&(S[0]=S[0].replace(r,m))},d,function(v){if(v===-2){var y=f;return f=[],y}}])),g.hash=u.length?u.reduce(function(v,y){return y.name||b0(15),bf(v,y.name)},5381).toString():"",g}var VP=Rn.createContext();VP.Consumer;var WP=Rn.createContext(),EN=(WP.Consumer,new GP),S8=AN();function TN(){return H.useContext(VP)||EN}function CN(){return H.useContext(WP)||S8}var bN=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=S8);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return b0(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=S8),this.name+e.hash},t}(),PN=/([A-Z])/,RN=/([A-Z])/g,DN=/^ms-/,BN=function(t){return"-"+t.toLowerCase()};function iM(t){return PN.test(t)?t.replace(RN,BN).replace(DN,"-ms-"):t}var sM=function(t){return t==null||t===!1||t===""};function oh(t,e,n,r){if(Array.isArray(t)){for(var i,s=[],o=0,a=t.length;o<a;o+=1)(i=oh(t[o],e,n,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(sM(t))return"";if(lx(t))return"."+t.styledComponentId;if(Zp(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return oh(l,e,n,r)}var u;return t instanceof bN?n?(t.inject(n,r),t.getName(r)):t:x8(t)?function c(f,d){var m,g,v=[];for(var y in f)f.hasOwnProperty(y)&&!sM(f[y])&&(Array.isArray(f[y])&&f[y].isCss||Zp(f[y])?v.push(iM(y)+":",f[y],";"):x8(f[y])?v.push.apply(v,c(f[y],y)):v.push(iM(y)+": "+(m=y,(g=f[y])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||m in YU?String(g).trim():g+"px")+";"));return d?[d+" {"].concat(v,["}"]):v}(t):t.toString()}var oM=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function IN(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Zp(t)||x8(t)?oM(oh(eM(U1,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:oM(oh(eM(t,n)))}var LN=function(t,e,n){return n===void 0&&(n=Wl),t.theme!==n.theme&&t.theme||e||n.theme},FN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kN=/(^-|-$)/g;function t6(t){return t.replace(FN,"-").replace(kN,"")}var UN=function(t){return w8(HP(t)>>>0)};function y2(t){return typeof t=="string"&&!0}var _8=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},NN=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function ON(t,e,n){var r=t[n];_8(e)&&_8(r)?jP(r,e):t[n]=e}function jP(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(_8(o))for(var a in o)NN(a)&&ON(t,o[a],a)}return t}var XP=Rn.createContext();XP.Consumer;var n6={};function JP(t,e,n){var r=lx(t),i=!y2(t),s=e.attrs,o=s===void 0?U1:s,a=e.componentId,l=a===void 0?function(w,x){var M=typeof w!="string"?"sc":t6(w);n6[M]=(n6[M]||0)+1;var E=M+"-"+UN("5.3.6"+M+n6[M]);return x?x+"-"+E:E}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(w){return y2(w)?"styled."+w:"Styled("+tM(w)+")"}(t):u,f=e.displayName&&e.componentId?t6(e.displayName)+"-"+e.componentId:e.componentId||l,d=r&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,m=e.shouldForwardProp;r&&t.shouldForwardProp&&(m=e.shouldForwardProp?function(w,x,M){return t.shouldForwardProp(w,x,M)&&e.shouldForwardProp(w,x,M)}:t.shouldForwardProp);var g,v=new SN(n,f,r?t.componentStyle:void 0),y=v.isStatic&&o.length===0,S=function(w,x){return function(M,E,C,P){var T=M.attrs,R=M.componentStyle,B=M.defaultProps,N=M.foldedComponentIds,G=M.shouldForwardProp,J=M.styledComponentId,D=M.target,U=function(Y,Z,ae){Y===void 0&&(Y=Wl);var re=Ba({},Z,{theme:Y}),me={};return ae.forEach(function(Ee){var _e,se,xe,Le=Ee;for(_e in Zp(Le)&&(Le=Le(re)),Le)re[_e]=me[_e]=_e==="className"?(se=me[_e],xe=Le[_e],se&&xe?se+" "+xe:se||xe):Le[_e]}),[re,me]}(LN(E,H.useContext(XP),B)||Wl,E,T),W=U[0],ie=U[1],L=function(Y,Z,ae,re){var me=TN(),Ee=CN(),_e=Z?Y.generateAndInjectStyles(Wl,me,Ee):Y.generateAndInjectStyles(ae,me,Ee);return _e}(R,P,W),O=C,V=ie.$as||E.$as||ie.as||E.as||D,j=y2(V),k=ie!==E?Ba({},E,{},ie):E,q={};for(var ee in k)ee[0]!=="$"&&ee!=="as"&&(ee==="forwardedAs"?q.as=k[ee]:(G?G(ee,Z_,V):!j||Z_(ee))&&(q[ee]=k[ee]));return E.style&&ie.style!==E.style&&(q.style=Ba({},E.style,{},ie.style)),q.className=Array.prototype.concat(N,J,L!==J?L:null,E.className,ie.className).filter(Boolean).join(" "),q.ref=O,H.createElement(V,q)}(g,w,x,y)};return S.displayName=c,(g=Rn.forwardRef(S)).attrs=d,g.componentStyle=v,g.displayName=c,g.shouldForwardProp=m,g.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):U1,g.styledComponentId=f,g.target=r?t.target:t,g.withComponent=function(w){var x=e.componentId,M=function(C,P){if(C==null)return{};var T,R,B={},N=Object.keys(C);for(R=0;R<N.length;R++)T=N[R],P.indexOf(T)>=0||(B[T]=C[T]);return B}(e,["componentId"]),E=x&&x+"-"+(y2(w)?w:t6(tM(w)));return JP(w,Ba({},M,{attrs:d,componentId:E}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?jP({},t.defaultProps,w):w}}),g.toString=function(){return"."+g.styledComponentId},i&&iN(g,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var M8=function(t){return function e(n,r,i){if(i===void 0&&(i=Wl),!Kp.isValidElementType(r))return b0(1,String(r));var s=function(){return n(r,i,IN.apply(void 0,arguments))};return s.withConfig=function(o){return e(n,r,Ba({},i,{},o))},s.attrs=function(o){return e(n,r,Ba({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(JP,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){M8[t]=M8(t)});const Ft=M8,Qp={_origin:"https://api.emailjs.com"},zN=(t,e="https://api.emailjs.com")=>{Qp._userID=t,Qp._origin=e},YP=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class aM{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const KP=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new aM(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new aM(o))}),s.open("POST",Qp._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),GN=(t,e,n,r)=>{const i=r||Qp._userID;return YP(i,t,e),KP("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},HN=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},VN=(t,e,n,r)=>{const i=r||Qp._userID,s=HN(n);YP(i,t,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),KP("/api/v1.0/email/send-form",o)},WN={init:zN,send:GN,sendForm:VN};var lt={},jN={get exports(){return lt},set exports(t){lt=t}},XN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JN=XN,YN=JN;function ZP(){}function QP(){}QP.resetWarningCache=ZP;var KN=function(){function t(r,i,s,o,a,l){if(l!==YN){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QP,resetWarningCache:ZP};return n.PropTypes=n,n};jN.exports=KN();class vi{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(n[r++]=a),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}function*ZN(t){for(const e of t)yield*e}function qP(t){return Array.from(ZN(t))}function Pf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var Pt=1e-6,qp=1e-12,sn=Math.PI,dr=sn/2,O1=sn/4,Fi=sn*2,kn=180/sn,Rt=sn/180,dn=Math.abs,Ch=Math.atan,ki=Math.atan2,_t=Math.cos,x2=Math.ceil,$P=Math.exp,A8=Math.hypot,z1=Math.log,r6=Math.pow,vt=Math.sin,Xs=Math.sign||function(t){return t>0?1:t<0?-1:0},Jr=Math.sqrt,cx=Math.tan;function eR(t){return t>1?0:t<-1?sn:Math.acos(t)}function Ui(t){return t>1?dr:t<-1?-dr:Math.asin(t)}function lM(t){return(t=vt(t/2))*t}function rr(){}function G1(t,e){t&&cM.hasOwnProperty(t.type)&&cM[t.type](t,e)}var uM={Feature:function(t,e){G1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)G1(n[r].geometry,e)}},cM={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){E8(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)E8(n[r],e,0)},Polygon:function(t,e){fM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fM(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)G1(n[r],e)}};function E8(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function fM(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)E8(t[n],e,1);e.polygonEnd()}function mo(t,e){t&&uM.hasOwnProperty(t.type)?uM[t.type](t,e):G1(t,e)}var H1=new vi,V1=new vi,tR,nR,T8,C8,b8,ta={point:rr,lineStart:rr,lineEnd:rr,polygonStart:function(){H1=new vi,ta.lineStart=QN,ta.lineEnd=qN},polygonEnd:function(){var t=+H1;V1.add(t<0?Fi+t:t),this.lineStart=this.lineEnd=this.point=rr},sphere:function(){V1.add(Fi)}};function QN(){ta.point=$N}function qN(){rR(tR,nR)}function $N(t,e){ta.point=rR,tR=t,nR=e,t*=Rt,e*=Rt,T8=t,C8=_t(e=e/2+O1),b8=vt(e)}function rR(t,e){t*=Rt,e*=Rt,e=e/2+O1;var n=t-T8,r=n>=0?1:-1,i=r*n,s=_t(e),o=vt(e),a=b8*o,l=C8*s+a*_t(i),u=a*r*vt(i);H1.add(ki(u,l)),T8=t,C8=s,b8=o}function eO(t){return V1=new vi,mo(t,ta),V1*2}function W1(t){return[ki(t[1],t[0]),Ui(t[2])]}function hc(t){var e=t[0],n=t[1],r=_t(n);return[r*_t(e),r*vt(e),vt(n)]}function w2(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ah(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function i6(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function S2(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function j1(t){var e=Jr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var tr,Yi,fr,gs,Lu,iR,sR,Wf,gp,Sl,Va,Ta={point:P8,lineStart:hM,lineEnd:dM,polygonStart:function(){Ta.point=aR,Ta.lineStart=tO,Ta.lineEnd=nO,gp=new vi,ta.polygonStart()},polygonEnd:function(){ta.polygonEnd(),Ta.point=P8,Ta.lineStart=hM,Ta.lineEnd=dM,H1<0?(tr=-(fr=180),Yi=-(gs=90)):gp>Pt?gs=90:gp<-Pt&&(Yi=-90),Va[0]=tr,Va[1]=fr},sphere:function(){tr=-(fr=180),Yi=-(gs=90)}};function P8(t,e){Sl.push(Va=[tr=t,fr=t]),e<Yi&&(Yi=e),e>gs&&(gs=e)}function oR(t,e){var n=hc([t*Rt,e*Rt]);if(Wf){var r=ah(Wf,n),i=[r[1],-r[0],0],s=ah(i,r);j1(s),s=W1(s);var o=t-Lu,a=o>0?1:-1,l=s[0]*kn*a,u,c=dn(o)>180;c^(a*Lu<l&&l<a*t)?(u=s[1]*kn,u>gs&&(gs=u)):(l=(l+360)%360-180,c^(a*Lu<l&&l<a*t)?(u=-s[1]*kn,u<Yi&&(Yi=u)):(e<Yi&&(Yi=e),e>gs&&(gs=e))),c?t<Lu?ms(tr,t)>ms(tr,fr)&&(fr=t):ms(t,fr)>ms(tr,fr)&&(tr=t):fr>=tr?(t<tr&&(tr=t),t>fr&&(fr=t)):t>Lu?ms(tr,t)>ms(tr,fr)&&(fr=t):ms(t,fr)>ms(tr,fr)&&(tr=t)}else Sl.push(Va=[tr=t,fr=t]);e<Yi&&(Yi=e),e>gs&&(gs=e),Wf=n,Lu=t}function hM(){Ta.point=oR}function dM(){Va[0]=tr,Va[1]=fr,Ta.point=P8,Wf=null}function aR(t,e){if(Wf){var n=t-Lu;gp.add(dn(n)>180?n+(n>0?360:-360):n)}else iR=t,sR=e;ta.point(t,e),oR(t,e)}function tO(){ta.lineStart()}function nO(){aR(iR,sR),ta.lineEnd(),dn(gp)>Pt&&(tr=-(fr=180)),Va[0]=tr,Va[1]=fr,Wf=null}function ms(t,e){return(e-=t)<0?e+360:e}function rO(t,e){return t[0]-e[0]}function pM(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function iO(t){var e,n,r,i,s,o,a;if(gs=fr=-(tr=Yi=1/0),Sl=[],mo(t,Ta),n=Sl.length){for(Sl.sort(rO),e=1,r=Sl[0],s=[r];e<n;++e)i=Sl[e],pM(r,i[0])||pM(r,i[1])?(ms(r[0],i[1])>ms(r[0],r[1])&&(r[1]=i[1]),ms(i[0],r[1])>ms(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,e=0,r=s[n];e<=n;r=i,++e)i=s[e],(a=ms(r[1],i[0]))>o&&(o=a,tr=i[0],fr=r[1])}return Sl=Va=null,tr===1/0||Yi===1/0?[[NaN,NaN],[NaN,NaN]]:[[tr,Yi],[fr,gs]]}var Zd,X1,J1,Y1,K1,Z1,Q1,q1,R8,D8,B8,lR,uR,Di,Bi,Ii,vo={sphere:rr,point:fx,lineStart:mM,lineEnd:gM,polygonStart:function(){vo.lineStart=aO,vo.lineEnd=lO},polygonEnd:function(){vo.lineStart=mM,vo.lineEnd=gM}};function fx(t,e){t*=Rt,e*=Rt;var n=_t(e);P0(n*_t(t),n*vt(t),vt(e))}function P0(t,e,n){++Zd,J1+=(t-J1)/Zd,Y1+=(e-Y1)/Zd,K1+=(n-K1)/Zd}function mM(){vo.point=sO}function sO(t,e){t*=Rt,e*=Rt;var n=_t(e);Di=n*_t(t),Bi=n*vt(t),Ii=vt(e),vo.point=oO,P0(Di,Bi,Ii)}function oO(t,e){t*=Rt,e*=Rt;var n=_t(e),r=n*_t(t),i=n*vt(t),s=vt(e),o=ki(Jr((o=Bi*s-Ii*i)*o+(o=Ii*r-Di*s)*o+(o=Di*i-Bi*r)*o),Di*r+Bi*i+Ii*s);X1+=o,Z1+=o*(Di+(Di=r)),Q1+=o*(Bi+(Bi=i)),q1+=o*(Ii+(Ii=s)),P0(Di,Bi,Ii)}function gM(){vo.point=fx}function aO(){vo.point=uO}function lO(){cR(lR,uR),vo.point=fx}function uO(t,e){lR=t,uR=e,t*=Rt,e*=Rt,vo.point=cR;var n=_t(e);Di=n*_t(t),Bi=n*vt(t),Ii=vt(e),P0(Di,Bi,Ii)}function cR(t,e){t*=Rt,e*=Rt;var n=_t(e),r=n*_t(t),i=n*vt(t),s=vt(e),o=Bi*s-Ii*i,a=Ii*r-Di*s,l=Di*i-Bi*r,u=A8(o,a,l),c=Ui(u),f=u&&-c/u;R8.add(f*o),D8.add(f*a),B8.add(f*l),X1+=c,Z1+=c*(Di+(Di=r)),Q1+=c*(Bi+(Bi=i)),q1+=c*(Ii+(Ii=s)),P0(Di,Bi,Ii)}function cO(t){Zd=X1=J1=Y1=K1=Z1=Q1=q1=0,R8=new vi,D8=new vi,B8=new vi,mo(t,vo);var e=+R8,n=+D8,r=+B8,i=A8(e,n,r);return i<qp&&(e=Z1,n=Q1,r=q1,X1<Pt&&(e=J1,n=Y1,r=K1),i=A8(e,n,r),i<qp)?[NaN,NaN]:[ki(n,e)*kn,Ui(r/i)*kn]}function Vc(t){return function(){return t}}function I8(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function L8(t,e){return[dn(t)>sn?t+Math.round(-t/Fi)*Fi:t,e]}L8.invert=L8;function hx(t,e,n){return(t%=Fi)?e||n?I8(yM(t),xM(e,n)):yM(t):e||n?xM(e,n):L8}function vM(t){return function(e,n){return e+=t,[e>sn?e-Fi:e<-sn?e+Fi:e,n]}}function yM(t){var e=vM(t);return e.invert=vM(-t),e}function xM(t,e){var n=_t(t),r=vt(t),i=_t(e),s=vt(e);function o(a,l){var u=_t(l),c=_t(a)*u,f=vt(a)*u,d=vt(l),m=d*n+c*r;return[ki(f*i-m*s,c*n-d*r),Ui(m*i+f*s)]}return o.invert=function(a,l){var u=_t(l),c=_t(a)*u,f=vt(a)*u,d=vt(l),m=d*i-f*s;return[ki(f*i+d*s,c*n+m*r),Ui(m*n-c*r)]},o}function fR(t){t=hx(t[0]*Rt,t[1]*Rt,t.length>2?t[2]*Rt:0);function e(n){return n=t(n[0]*Rt,n[1]*Rt),n[0]*=kn,n[1]*=kn,n}return e.invert=function(n){return n=t.invert(n[0]*Rt,n[1]*Rt),n[0]*=kn,n[1]*=kn,n},e}function hR(t,e,n,r,i,s){if(n){var o=_t(e),a=vt(e),l=r*n;i==null?(i=e+r*Fi,s=e-l/2):(i=wM(o,i),s=wM(o,s),(r>0?i<s:i>s)&&(i+=r*Fi));for(var u,c=i;r>0?c>s:c<s;c-=l)u=W1([o,-a*_t(c),-a*vt(c)]),t.point(u[0],u[1])}}function wM(t,e){e=hc(e),e[0]-=t,j1(e);var n=eR(-e[1]);return((-e[2]<0?-n:n)+Fi-Pt)%Fi}function fO(){var t=Vc([0,0]),e=Vc(90),n=Vc(6),r,i,s={point:o};function o(l,u){r.push(l=i(l,u)),l[0]*=kn,l[1]*=kn}function a(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*Rt,c=n.apply(this,arguments)*Rt;return r=[],i=hx(-l[0]*Rt,-l[1]*Rt,0).invert,hR(s,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return a.center=function(l){return arguments.length?(t=typeof l=="function"?l:Vc([+l[0],+l[1]]),a):t},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Vc(+l),a):e},a.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Vc(+l),a):n},a}function dR(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:rr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ym(t,e){return dn(t[0]-e[0])<Pt&&dn(t[1]-e[1])<Pt}function _2(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function pR(t,e,n,r,i){var s=[],o=[],a,l;if(t.forEach(function(g){if(!((v=g.length-1)<=0)){var v,y=g[0],S=g[v],w;if(Ym(y,S)){if(!y[2]&&!S[2]){for(i.lineStart(),a=0;a<v;++a)i.point((y=g[a])[0],y[1]);i.lineEnd();return}S[0]+=2*Pt}s.push(w=new _2(y,g,null,!0)),o.push(w.o=new _2(y,null,w,!1)),s.push(w=new _2(S,g,null,!1)),o.push(w.o=new _2(S,null,w,!0))}}),!!s.length){for(o.sort(e),SM(s),SM(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var u=s[0],c,f;;){for(var d=u,m=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(m)for(a=0,l=c.length;a<l;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(m)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,m=!m}while(!d.v);i.lineEnd()}}}function SM(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function s6(t){return dn(t[0])<=sn?t[0]:Xs(t[0])*((dn(t[0])+sn)%Fi-sn)}function mR(t,e){var n=s6(e),r=e[1],i=vt(r),s=[vt(n),-_t(n),0],o=0,a=0,l=new vi;i===1?r=dr+Pt:i===-1&&(r=-dr-Pt);for(var u=0,c=t.length;u<c;++u)if(d=(f=t[u]).length)for(var f,d,m=f[d-1],g=s6(m),v=m[1]/2+O1,y=vt(v),S=_t(v),w=0;w<d;++w,g=M,y=C,S=P,m=x){var x=f[w],M=s6(x),E=x[1]/2+O1,C=vt(E),P=_t(E),T=M-g,R=T>=0?1:-1,B=R*T,N=B>sn,G=y*C;if(l.add(ki(G*R*vt(B),S*P+G*_t(B))),o+=N?T+R*Fi:T,N^g>=n^M>=n){var J=ah(hc(m),hc(x));j1(J);var D=ah(s,J);j1(D);var U=(N^T>=0?-1:1)*Ui(D[2]);(r>U||r===U&&(J[0]||J[1]))&&(a+=N^T>=0?1:-1)}}return(o<-Pt||o<Pt&&l<-qp)^a&1}function gR(t,e,n,r){return function(i){var s=e(i),o=dR(),a=e(o),l=!1,u,c,f,d={point:m,lineStart:v,lineEnd:y,polygonStart:function(){d.point=S,d.lineStart=w,d.lineEnd=x,c=[],u=[]},polygonEnd:function(){d.point=m,d.lineStart=v,d.lineEnd=y,c=qP(c);var M=mR(u,r);c.length?(l||(i.polygonStart(),l=!0),pR(c,dO,M,n,i)):M&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(M,E){t(M,E)&&i.point(M,E)}function g(M,E){s.point(M,E)}function v(){d.point=g,s.lineStart()}function y(){d.point=m,s.lineEnd()}function S(M,E){f.push([M,E]),a.point(M,E)}function w(){a.lineStart(),f=[]}function x(){S(f[0][0],f[0][1]),a.lineEnd();var M=a.clean(),E=o.result(),C,P=E.length,T,R,B;if(f.pop(),u.push(f),f=null,!!P){if(M&1){if(R=E[0],(T=R.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),C=0;C<T;++C)i.point((B=R[C])[0],B[1]);i.lineEnd()}return}P>1&&M&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(hO))}}return d}}function hO(t){return t.length>1}function dO(t,e){return((t=t.x)[0]<0?t[1]-dr-Pt:dr-t[1])-((e=e.x)[0]<0?e[1]-dr-Pt:dr-e[1])}const F8=gR(function(){return!0},pO,gO,[-sn,-dr]);function pO(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,o){var a=s>0?sn:-sn,l=dn(s-e);dn(l-sn)<Pt?(t.point(e,n=(n+o)/2>0?dr:-dr),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(s,n),i=0):r!==a&&l>=sn&&(dn(e-r)<Pt&&(e-=r*Pt),dn(s-a)<Pt&&(s-=a*Pt),n=mO(e,n,s,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=s,n=o),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function mO(t,e,n,r){var i,s,o=vt(t-n);return dn(o)>Pt?Ch((vt(e)*(s=_t(r))*vt(n)-vt(r)*(i=_t(e))*vt(t))/(i*s*o)):(e+r)/2}function gO(t,e,n,r){var i;if(t==null)i=n*dr,r.point(-sn,i),r.point(0,i),r.point(sn,i),r.point(sn,0),r.point(sn,-i),r.point(0,-i),r.point(-sn,-i),r.point(-sn,0),r.point(-sn,i);else if(dn(t[0]-e[0])>Pt){var s=t[0]<e[0]?sn:-sn;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function vR(t){var e=_t(t),n=6*Rt,r=e>0,i=dn(e)>Pt;function s(c,f,d,m){hR(m,t,n,d,c,f)}function o(c,f){return _t(c)*_t(f)>e}function a(c){var f,d,m,g,v;return{lineStart:function(){g=m=!1,v=1},point:function(y,S){var w=[y,S],x,M=o(y,S),E=r?M?0:u(y,S):M?u(y+(y<0?sn:-sn),S):0;if(!f&&(g=m=M)&&c.lineStart(),M!==m&&(x=l(f,w),(!x||Ym(f,x)||Ym(w,x))&&(w[2]=1)),M!==m)v=0,M?(c.lineStart(),x=l(w,f),c.point(x[0],x[1])):(x=l(f,w),c.point(x[0],x[1],2),c.lineEnd()),f=x;else if(i&&f&&r^M){var C;!(E&d)&&(C=l(w,f,!0))&&(v=0,r?(c.lineStart(),c.point(C[0][0],C[0][1]),c.point(C[1][0],C[1][1]),c.lineEnd()):(c.point(C[1][0],C[1][1]),c.lineEnd(),c.lineStart(),c.point(C[0][0],C[0][1],3)))}M&&(!f||!Ym(f,w))&&c.point(w[0],w[1]),f=w,m=M,d=E},lineEnd:function(){m&&c.lineEnd(),f=null},clean:function(){return v|(g&&m)<<1}}}function l(c,f,d){var m=hc(c),g=hc(f),v=[1,0,0],y=ah(m,g),S=w2(y,y),w=y[0],x=S-w*w;if(!x)return!d&&c;var M=e*S/x,E=-e*w/x,C=ah(v,y),P=S2(v,M),T=S2(y,E);i6(P,T);var R=C,B=w2(P,R),N=w2(R,R),G=B*B-N*(w2(P,P)-1);if(!(G<0)){var J=Jr(G),D=S2(R,(-B-J)/N);if(i6(D,P),D=W1(D),!d)return D;var U=c[0],W=f[0],ie=c[1],L=f[1],O;W<U&&(O=U,U=W,W=O);var V=W-U,j=dn(V-sn)<Pt,k=j||V<Pt;if(!j&&L<ie&&(O=ie,ie=L,L=O),k?j?ie+L>0^D[1]<(dn(D[0]-U)<Pt?ie:L):ie<=D[1]&&D[1]<=L:V>sn^(U<=D[0]&&D[0]<=W)){var q=S2(R,(-B+J)/N);return i6(q,P),[D,W1(q)]}}}function u(c,f){var d=r?t:sn-t,m=0;return c<-d?m|=1:c>d&&(m|=2),f<-d?m|=4:f>d&&(m|=8),m}return gR(o,a,s,r?[0,-t]:[-sn,t-sn])}function vO(t,e,n,r,i,s){var o=t[0],a=t[1],l=e[0],u=e[1],c=0,f=1,d=l-o,m=u-a,g;if(g=n-o,!(!d&&g>0)){if(g/=d,d<0){if(g<c)return;g<f&&(f=g)}else if(d>0){if(g>f)return;g>c&&(c=g)}if(g=i-o,!(!d&&g<0)){if(g/=d,d<0){if(g>f)return;g>c&&(c=g)}else if(d>0){if(g<c)return;g<f&&(f=g)}if(g=r-a,!(!m&&g>0)){if(g/=m,m<0){if(g<c)return;g<f&&(f=g)}else if(m>0){if(g>f)return;g>c&&(c=g)}if(g=s-a,!(!m&&g<0)){if(g/=m,m<0){if(g>f)return;g>c&&(c=g)}else if(m>0){if(g<c)return;g<f&&(f=g)}return c>0&&(t[0]=o+c*d,t[1]=a+c*m),f<1&&(e[0]=o+f*d,e[1]=a+f*m),!0}}}}}var Qd=1e9,M2=-Qd;function iv(t,e,n,r){function i(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function s(u,c,f,d){var m=0,g=0;if(u==null||(m=o(u,f))!==(g=o(c,f))||l(u,c)<0^f>0)do d.point(m===0||m===3?t:n,m>1?r:e);while((m=(m+f+4)%4)!==g);else d.point(c[0],c[1])}function o(u,c){return dn(u[0]-t)<Pt?c>0?0:3:dn(u[0]-n)<Pt?c>0?2:1:dn(u[1]-e)<Pt?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=o(u,1),d=o(c,1);return f!==d?f-d:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=dR(),d,m,g,v,y,S,w,x,M,E,C,P={point:T,lineStart:G,lineEnd:J,polygonStart:B,polygonEnd:N};function T(U,W){i(U,W)&&c.point(U,W)}function R(){for(var U=0,W=0,ie=m.length;W<ie;++W)for(var L=m[W],O=1,V=L.length,j=L[0],k,q,ee=j[0],Y=j[1];O<V;++O)k=ee,q=Y,j=L[O],ee=j[0],Y=j[1],q<=r?Y>r&&(ee-k)*(r-q)>(Y-q)*(t-k)&&++U:Y<=r&&(ee-k)*(r-q)<(Y-q)*(t-k)&&--U;return U}function B(){c=f,d=[],m=[],C=!0}function N(){var U=R(),W=C&&U,ie=(d=qP(d)).length;(W||ie)&&(u.polygonStart(),W&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),ie&&pR(d,a,U,s,u),u.polygonEnd()),c=u,d=m=g=null}function G(){P.point=D,m&&m.push(g=[]),E=!0,M=!1,w=x=NaN}function J(){d&&(D(v,y),S&&M&&f.rejoin(),d.push(f.result())),P.point=T,M&&c.lineEnd()}function D(U,W){var ie=i(U,W);if(m&&g.push([U,W]),E)v=U,y=W,S=ie,E=!1,ie&&(c.lineStart(),c.point(U,W));else if(ie&&M)c.point(U,W);else{var L=[w=Math.max(M2,Math.min(Qd,w)),x=Math.max(M2,Math.min(Qd,x))],O=[U=Math.max(M2,Math.min(Qd,U)),W=Math.max(M2,Math.min(Qd,W))];vO(L,O,t,e,n,r)?(M||(c.lineStart(),c.point(L[0],L[1])),c.point(O[0],O[1]),ie||c.lineEnd(),C=!1):ie&&(c.lineStart(),c.point(U,W),C=!1)}w=U,x=W,M=ie}return P}}function yO(){var t=0,e=0,n=960,r=500,i,s,o;return o={stream:function(a){return i&&s===a?i:i=iv(t,e,n,r)(s=a)},extent:function(a){return arguments.length?(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1],i=s=null,o):[[t,e],[n,r]]}}}var k8,U8,Km,Zm,lh={sphere:rr,point:rr,lineStart:xO,lineEnd:rr,polygonStart:rr,polygonEnd:rr};function xO(){lh.point=SO,lh.lineEnd=wO}function wO(){lh.point=lh.lineEnd=rr}function SO(t,e){t*=Rt,e*=Rt,U8=t,Km=vt(e),Zm=_t(e),lh.point=_O}function _O(t,e){t*=Rt,e*=Rt;var n=vt(e),r=_t(e),i=dn(t-U8),s=_t(i),o=vt(i),a=r*o,l=Zm*n-Km*r*s,u=Km*n+Zm*r*s;k8.add(ki(Jr(a*a+l*l),u)),U8=t,Km=n,Zm=r}function yR(t){return k8=new vi,mo(t,lh),+k8}var N8=[null,null],MO={type:"LineString",coordinates:N8};function $1(t,e){return N8[0]=t,N8[1]=e,yR(MO)}var _M={Feature:function(t,e){return eg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(eg(n[r].geometry,e))return!0;return!1}},MM={Sphere:function(){return!0},Point:function(t,e){return AM(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(AM(n[r],e))return!0;return!1},LineString:function(t,e){return EM(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(EM(n[r],e))return!0;return!1},Polygon:function(t,e){return TM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(TM(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(eg(n[r],e))return!0;return!1}};function eg(t,e){return t&&MM.hasOwnProperty(t.type)?MM[t.type](t,e):!1}function AM(t,e){return $1(t,e)===0}function EM(t,e){for(var n,r,i,s=0,o=t.length;s<o;s++){if(r=$1(t[s],e),r===0||s>0&&(i=$1(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<qp*i))return!0;n=r}return!1}function TM(t,e){return!!mR(t.map(AO),xR(e))}function AO(t){return t=t.map(xR),t.pop(),t}function xR(t){return[t[0]*Rt,t[1]*Rt]}function EO(t,e){return(t&&_M.hasOwnProperty(t.type)?_M[t.type]:eg)(t,e)}function CM(t,e,n){var r=Pf(t,e-Pt,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function bM(t,e,n){var r=Pf(t,e-Pt,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function dx(){var t,e,n,r,i,s,o,a,l=10,u=l,c=90,f=360,d,m,g,v,y=2.5;function S(){return{type:"MultiLineString",coordinates:w()}}function w(){return Pf(x2(r/c)*c,n,c).map(g).concat(Pf(x2(a/f)*f,o,f).map(v)).concat(Pf(x2(e/l)*l,t,l).filter(function(x){return dn(x%c)>Pt}).map(d)).concat(Pf(x2(s/u)*u,i,u).filter(function(x){return dn(x%f)>Pt}).map(m))}return S.lines=function(){return w().map(function(x){return{type:"LineString",coordinates:x}})},S.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(v(o).slice(1),g(n).reverse().slice(1),v(a).reverse().slice(1))]}},S.extent=function(x){return arguments.length?S.extentMajor(x).extentMinor(x):S.extentMinor()},S.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],a=+x[0][1],o=+x[1][1],r>n&&(x=r,r=n,n=x),a>o&&(x=a,a=o,o=x),S.precision(y)):[[r,a],[n,o]]},S.extentMinor=function(x){return arguments.length?(e=+x[0][0],t=+x[1][0],s=+x[0][1],i=+x[1][1],e>t&&(x=e,e=t,t=x),s>i&&(x=s,s=i,i=x),S.precision(y)):[[e,s],[t,i]]},S.step=function(x){return arguments.length?S.stepMajor(x).stepMinor(x):S.stepMinor()},S.stepMajor=function(x){return arguments.length?(c=+x[0],f=+x[1],S):[c,f]},S.stepMinor=function(x){return arguments.length?(l=+x[0],u=+x[1],S):[l,u]},S.precision=function(x){return arguments.length?(y=+x,d=CM(s,i,90),m=bM(e,t,y),g=CM(a,o,90),v=bM(r,n,y),S):y},S.extentMajor([[-180,-90+Pt],[180,90-Pt]]).extentMinor([[-180,-80-Pt],[180,80+Pt]])}function TO(){return dx()()}function CO(t,e){var n=t[0]*Rt,r=t[1]*Rt,i=e[0]*Rt,s=e[1]*Rt,o=_t(r),a=vt(r),l=_t(s),u=vt(s),c=o*_t(n),f=o*vt(n),d=l*_t(i),m=l*vt(i),g=2*Ui(Jr(lM(s-r)+o*l*lM(i-n))),v=vt(g),y=g?function(S){var w=vt(S*=g)/v,x=vt(g-S)/v,M=x*c+w*d,E=x*f+w*m,C=x*a+w*u;return[ki(E,M)*kn,ki(C,Jr(M*M+E*E))*kn]}:function(){return[n*kn,r*kn]};return y.distance=g,y}const $p=t=>t;var o6=new vi,O8=new vi,wR,SR,z8,G8,Cl={point:rr,lineStart:rr,lineEnd:rr,polygonStart:function(){Cl.lineStart=bO,Cl.lineEnd=RO},polygonEnd:function(){Cl.lineStart=Cl.lineEnd=Cl.point=rr,o6.add(dn(O8)),O8=new vi},result:function(){var t=o6/2;return o6=new vi,t}};function bO(){Cl.point=PO}function PO(t,e){Cl.point=_R,wR=z8=t,SR=G8=e}function _R(t,e){O8.add(G8*t-z8*e),z8=t,G8=e}function RO(){_R(wR,SR)}const PM=Cl;var uh=1/0,tg=uh,e0=-uh,ng=e0,DO={point:BO,lineStart:rr,lineEnd:rr,polygonStart:rr,polygonEnd:rr,result:function(){var t=[[uh,tg],[e0,ng]];return e0=ng=-(tg=uh=1/0),t}};function BO(t,e){t<uh&&(uh=t),t>e0&&(e0=t),e<tg&&(tg=e),e>ng&&(ng=e)}const rg=DO;var H8=0,V8=0,qd=0,ig=0,sg=0,Rf=0,W8=0,j8=0,$d=0,MR,AR,jo,Xo,go={point:dc,lineStart:RM,lineEnd:DM,polygonStart:function(){go.lineStart=FO,go.lineEnd=kO},polygonEnd:function(){go.point=dc,go.lineStart=RM,go.lineEnd=DM},result:function(){var t=$d?[W8/$d,j8/$d]:Rf?[ig/Rf,sg/Rf]:qd?[H8/qd,V8/qd]:[NaN,NaN];return H8=V8=qd=ig=sg=Rf=W8=j8=$d=0,t}};function dc(t,e){H8+=t,V8+=e,++qd}function RM(){go.point=IO}function IO(t,e){go.point=LO,dc(jo=t,Xo=e)}function LO(t,e){var n=t-jo,r=e-Xo,i=Jr(n*n+r*r);ig+=i*(jo+t)/2,sg+=i*(Xo+e)/2,Rf+=i,dc(jo=t,Xo=e)}function DM(){go.point=dc}function FO(){go.point=UO}function kO(){ER(MR,AR)}function UO(t,e){go.point=ER,dc(MR=jo=t,AR=Xo=e)}function ER(t,e){var n=t-jo,r=e-Xo,i=Jr(n*n+r*r);ig+=i*(jo+t)/2,sg+=i*(Xo+e)/2,Rf+=i,i=Xo*t-jo*e,W8+=i*(jo+t),j8+=i*(Xo+e),$d+=i*3,dc(jo=t,Xo=e)}const BM=go;function TR(t){this._context=t}TR.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fi);break}}},result:rr};var X8=new vi,a6,CR,bR,ep,tp,og={point:rr,lineStart:function(){og.point=NO},lineEnd:function(){a6&&PR(CR,bR),og.point=rr},polygonStart:function(){a6=!0},polygonEnd:function(){a6=null},result:function(){var t=+X8;return X8=new vi,t}};function NO(t,e){og.point=PR,CR=ep=t,bR=tp=e}function PR(t,e){ep-=t,tp-=e,X8.add(Jr(ep*ep+tp*tp)),ep=t,tp=e}const IM=og;function RR(){this._string=[]}RR.prototype={_radius:4.5,_circle:LM(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=LM(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function LM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function DR(t,e){var n=4.5,r,i;function s(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),mo(o,r(i))),i.result()}return s.area=function(o){return mo(o,r(PM)),PM.result()},s.measure=function(o){return mo(o,r(IM)),IM.result()},s.bounds=function(o){return mo(o,r(rg)),rg.result()},s.centroid=function(o){return mo(o,r(BM)),BM.result()},s.projection=function(o){return arguments.length?(r=o==null?(t=null,$p):(t=o).stream,s):t},s.context=function(o){return arguments.length?(i=o==null?(e=null,new RR):new TR(e=o),typeof n!="function"&&i.pointRadius(n),s):e},s.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),s):n},s.projection(t).context(e)}function OO(t){return{stream:R0(t)}}function R0(t){return function(e){var n=new J8;for(var r in t)n[r]=t[r];return n.stream=e,n}}function J8(){}J8.prototype={constructor:J8,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function px(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),mo(n,t.stream(rg)),e(rg.result()),r!=null&&t.clipExtent(r),t}function sv(t,e,n){return px(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(s-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,l])},n)}function mx(t,e,n){return sv(t,[[0,0],e],n)}function gx(t,e,n){return px(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];t.scale(150*s).translate([o,a])},n)}function vx(t,e,n){return px(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,a])},n)}var FM=16,zO=_t(30*Rt);function kM(t,e){return+e?HO(t,e):GO(t)}function GO(t){return R0({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function HO(t,e){function n(r,i,s,o,a,l,u,c,f,d,m,g,v,y){var S=u-r,w=c-i,x=S*S+w*w;if(x>4*e&&v--){var M=o+d,E=a+m,C=l+g,P=Jr(M*M+E*E+C*C),T=Ui(C/=P),R=dn(dn(C)-1)<Pt||dn(s-f)<Pt?(s+f)/2:ki(E,M),B=t(R,T),N=B[0],G=B[1],J=N-r,D=G-i,U=w*J-S*D;(U*U/x>e||dn((S*J+w*D)/x-.5)>.3||o*d+a*m+l*g<zO)&&(n(r,i,s,o,a,l,N,G,R,M/=P,E/=P,C,v,y),y.point(N,G),n(N,G,R,M,E,C,u,c,f,d,m,g,v,y))}}return function(r){var i,s,o,a,l,u,c,f,d,m,g,v,y={point:S,lineStart:w,lineEnd:M,polygonStart:function(){r.polygonStart(),y.lineStart=E},polygonEnd:function(){r.polygonEnd(),y.lineStart=w}};function S(T,R){T=t(T,R),r.point(T[0],T[1])}function w(){f=NaN,y.point=x,r.lineStart()}function x(T,R){var B=hc([T,R]),N=t(T,R);n(f,d,c,m,g,v,f=N[0],d=N[1],c=T,m=B[0],g=B[1],v=B[2],FM,r),r.point(f,d)}function M(){y.point=S,r.lineEnd()}function E(){w(),y.point=C,y.lineEnd=P}function C(T,R){x(i=T,R),s=f,o=d,a=m,l=g,u=v,y.point=x}function P(){n(f,d,c,m,g,v,s,o,i,a,l,u,FM,r),y.lineEnd=M,M()}return y}}var VO=R0({point:function(t,e){this.stream.point(t*Rt,e*Rt)}});function WO(t){return R0({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function jO(t,e,n,r,i){function s(o,a){return o*=r,a*=i,[e+t*o,n-t*a]}return s.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},s}function UM(t,e,n,r,i,s){if(!s)return jO(t,e,n,r,i);var o=_t(s),a=vt(s),l=o*t,u=a*t,c=o/t,f=a/t,d=(a*n-o*e)/t,m=(a*e+o*n)/t;function g(v,y){return v*=r,y*=i,[l*v-u*y+e,n-u*v-l*y]}return g.invert=function(v,y){return[r*(c*v-f*y+d),i*(m-f*v-c*y)]},g}function ra(t){return yx(function(){return t})()}function yx(t){var e,n=150,r=480,i=250,s=0,o=0,a=0,l=0,u=0,c,f=0,d=1,m=1,g=null,v=F8,y=null,S,w,x,M=$p,E=.5,C,P,T,R,B;function N(U){return T(U[0]*Rt,U[1]*Rt)}function G(U){return U=T.invert(U[0],U[1]),U&&[U[0]*kn,U[1]*kn]}N.stream=function(U){return R&&B===U?R:R=VO(WO(c)(v(C(M(B=U)))))},N.preclip=function(U){return arguments.length?(v=U,g=void 0,D()):v},N.postclip=function(U){return arguments.length?(M=U,y=S=w=x=null,D()):M},N.clipAngle=function(U){return arguments.length?(v=+U?vR(g=U*Rt):(g=null,F8),D()):g*kn},N.clipExtent=function(U){return arguments.length?(M=U==null?(y=S=w=x=null,$p):iv(y=+U[0][0],S=+U[0][1],w=+U[1][0],x=+U[1][1]),D()):y==null?null:[[y,S],[w,x]]},N.scale=function(U){return arguments.length?(n=+U,J()):n},N.translate=function(U){return arguments.length?(r=+U[0],i=+U[1],J()):[r,i]},N.center=function(U){return arguments.length?(s=U[0]%360*Rt,o=U[1]%360*Rt,J()):[s*kn,o*kn]},N.rotate=function(U){return arguments.length?(a=U[0]%360*Rt,l=U[1]%360*Rt,u=U.length>2?U[2]%360*Rt:0,J()):[a*kn,l*kn,u*kn]},N.angle=function(U){return arguments.length?(f=U%360*Rt,J()):f*kn},N.reflectX=function(U){return arguments.length?(d=U?-1:1,J()):d<0},N.reflectY=function(U){return arguments.length?(m=U?-1:1,J()):m<0},N.precision=function(U){return arguments.length?(C=kM(P,E=U*U),D()):Jr(E)},N.fitExtent=function(U,W){return sv(N,U,W)},N.fitSize=function(U,W){return mx(N,U,W)},N.fitWidth=function(U,W){return gx(N,U,W)},N.fitHeight=function(U,W){return vx(N,U,W)};function J(){var U=UM(n,0,0,d,m,f).apply(null,e(s,o)),W=UM(n,r-U[0],i-U[1],d,m,f);return c=hx(a,l,u),P=I8(e,W),T=I8(c,P),C=kM(P,E),D()}function D(){return R=B=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&G,J()}}function xx(t){var e=0,n=sn/3,r=yx(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*Rt,n=s[1]*Rt):[e*kn,n*kn]},i}function XO(t){var e=_t(t);function n(r,i){return[r*e,vt(i)/e]}return n.invert=function(r,i){return[r/e,Ui(i*e)]},n}function BR(t,e){var n=vt(t),r=(n+vt(e))/2;if(dn(r)<Pt)return XO(t);var i=1+n*(2*r-n),s=Jr(i)/r;function o(a,l){var u=Jr(i-2*r*vt(l))/r;return[u*vt(a*=r),s-u*_t(a)]}return o.invert=function(a,l){var u=s-l,c=ki(a,dn(u))*Xs(u);return u*r<0&&(c-=sn*Xs(a)*Xs(u)),[c/r,Ui((i-(a*a+u*u)*r*r)/(2*r))]},o}function ag(){return xx(BR).scale(155.424).center([0,33.6442])}function IR(){return ag().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function JO(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function YO(){var t,e,n=IR(),r,i=ag().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=ag().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(d,m){l=[d,m]}};function c(d){var m=d[0],g=d[1];return l=null,r.point(m,g),l||(s.point(m,g),l)||(a.point(m,g),l)}c.invert=function(d){var m=n.scale(),g=n.translate(),v=(d[0]-g[0])/m,y=(d[1]-g[1])/m;return(y>=.12&&y<.234&&v>=-.425&&v<-.214?i:y>=.166&&y<.234&&v>=-.214&&v<-.115?o:n).invert(d)},c.stream=function(d){return t&&e===d?t:t=JO([n.stream(e=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var m=n.scale(),g=+d[0],v=+d[1];return r=n.translate(d).clipExtent([[g-.455*m,v-.238*m],[g+.455*m,v+.238*m]]).stream(u),s=i.translate([g-.307*m,v+.201*m]).clipExtent([[g-.425*m+Pt,v+.12*m+Pt],[g-.214*m-Pt,v+.234*m-Pt]]).stream(u),a=o.translate([g-.205*m,v+.212*m]).clipExtent([[g-.214*m+Pt,v+.166*m+Pt],[g-.115*m-Pt,v+.234*m-Pt]]).stream(u),f()},c.fitExtent=function(d,m){return sv(c,d,m)},c.fitSize=function(d,m){return mx(c,d,m)},c.fitWidth=function(d,m){return gx(c,d,m)},c.fitHeight=function(d,m){return vx(c,d,m)};function f(){return t=e=null,c}return c.scale(1070)}function LR(t){return function(e,n){var r=_t(e),i=_t(n),s=t(r*i);return s===1/0?[2,0]:[s*i*vt(e),s*vt(n)]}}function D0(t){return function(e,n){var r=Jr(e*e+n*n),i=t(r),s=vt(i),o=_t(i);return[ki(e*s,r*o),Ui(r&&n*s/r)]}}var wx=LR(function(t){return Jr(2/(1+t))});wx.invert=D0(function(t){return 2*Ui(t/2)});function KO(){return ra(wx).scale(124.75).clipAngle(180-.001)}var Sx=LR(function(t){return(t=eR(t))&&t/vt(t)});Sx.invert=D0(function(t){return t});function ZO(){return ra(Sx).scale(79.4188).clipAngle(180-.001)}function B0(t,e){return[t,z1(cx((dr+e)/2))]}B0.invert=function(t,e){return[t,2*Ch($P(e))-dr]};function QO(){return FR(B0).scale(961/Fi)}function FR(t){var e=ra(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,o=null,a,l,u;e.scale=function(f){return arguments.length?(r(f),c()):r()},e.translate=function(f){return arguments.length?(i(f),c()):i()},e.center=function(f){return arguments.length?(n(f),c()):n()},e.clipExtent=function(f){return arguments.length?(f==null?o=a=l=u=null:(o=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):o==null?null:[[o,a],[l,u]]};function c(){var f=sn*r(),d=e(fR(e.rotate()).invert([0,0]));return s(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:t===B0?[[Math.max(d[0]-f,o),a],[Math.min(d[0]+f,l),u]]:[[o,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,u)]])}return c()}function A2(t){return cx((dr+t)/2)}function kR(t,e){var n=_t(t),r=t===e?vt(t):z1(n/_t(e))/z1(A2(e)/A2(t)),i=n*r6(A2(t),r)/r;if(!r)return B0;function s(o,a){i>0?a<-dr+Pt&&(a=-dr+Pt):a>dr-Pt&&(a=dr-Pt);var l=i/r6(A2(a),r);return[l*vt(r*o),i-l*_t(r*o)]}return s.invert=function(o,a){var l=i-a,u=Xs(r)*Jr(o*o+l*l),c=ki(o,dn(l))*Xs(l);return l*r<0&&(c-=sn*Xs(o)*Xs(l)),[c/r,2*Ch(r6(i/u,1/r))-dr]},s}function qO(){return xx(kR).scale(109.5).parallels([30,30])}function t0(t,e){return[t,e]}t0.invert=t0;function $O(){return ra(t0).scale(152.63)}function UR(t,e){var n=_t(t),r=t===e?vt(t):(n-_t(e))/(e-t),i=n/r+t;if(dn(r)<Pt)return t0;function s(o,a){var l=i-a,u=r*o;return[l*vt(u),i-l*_t(u)]}return s.invert=function(o,a){var l=i-a,u=ki(o,dn(l))*Xs(l);return l*r<0&&(u-=sn*Xs(o)*Xs(l)),[u/r,i-Xs(r)*Jr(o*o+l*l)]},s}function ez(){return xx(UR).scale(131.154).center([0,13.9389])}var vp=1.340264,yp=-.081106,xp=893e-6,wp=.003796,lg=Jr(3)/2,tz=12;function _x(t,e){var n=Ui(lg*vt(e)),r=n*n,i=r*r*r;return[t*_t(n)/(lg*(vp+3*yp*r+i*(7*xp+9*wp*r))),n*(vp+yp*r+i*(xp+wp*r))]}_x.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,o,a,l;s<tz&&(a=n*(vp+yp*r+i*(xp+wp*r))-e,l=vp+3*yp*r+i*(7*xp+9*wp*r),n-=o=a/l,r=n*n,i=r*r*r,!(dn(o)<qp));++s);return[lg*t*(vp+3*yp*r+i*(7*xp+9*wp*r))/_t(n),Ui(vt(n)/lg)]};function nz(){return ra(_x).scale(177.158)}function Mx(t,e){var n=_t(e),r=_t(t)*n;return[n*vt(t)/r,vt(e)/r]}Mx.invert=D0(Ch);function rz(){return ra(Mx).scale(144.049).clipAngle(60)}function iz(){var t=1,e=0,n=0,r=1,i=1,s=0,o,a,l=null,u,c,f,d=1,m=1,g=R0({point:function(M,E){var C=x([M,E]);this.stream.point(C[0],C[1])}}),v=$p,y,S;function w(){return d=t*r,m=t*i,y=S=null,x}function x(M){var E=M[0]*d,C=M[1]*m;if(s){var P=C*o-E*a;E=E*o+C*a,C=P}return[E+e,C+n]}return x.invert=function(M){var E=M[0]-e,C=M[1]-n;if(s){var P=C*o+E*a;E=E*o-C*a,C=P}return[E/d,C/m]},x.stream=function(M){return y&&S===M?y:y=g(v(S=M))},x.postclip=function(M){return arguments.length?(v=M,l=u=c=f=null,w()):v},x.clipExtent=function(M){return arguments.length?(v=M==null?(l=u=c=f=null,$p):iv(l=+M[0][0],u=+M[0][1],c=+M[1][0],f=+M[1][1]),w()):l==null?null:[[l,u],[c,f]]},x.scale=function(M){return arguments.length?(t=+M,w()):t},x.translate=function(M){return arguments.length?(e=+M[0],n=+M[1],w()):[e,n]},x.angle=function(M){return arguments.length?(s=M%360*Rt,a=vt(s),o=_t(s),w()):s*kn},x.reflectX=function(M){return arguments.length?(r=M?-1:1,w()):r<0},x.reflectY=function(M){return arguments.length?(i=M?-1:1,w()):i<0},x.fitExtent=function(M,E){return sv(x,M,E)},x.fitSize=function(M,E){return mx(x,M,E)},x.fitWidth=function(M,E){return gx(x,M,E)},x.fitHeight=function(M,E){return vx(x,M,E)},x}function Ax(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Ax.invert=function(t,e){var n=e,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-e)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(dn(i)>Pt&&--r>0);return[t/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function sz(){return ra(Ax).scale(175.295)}function Ex(t,e){return[_t(e)*vt(t),vt(e)]}Ex.invert=D0(Ui);function oz(){return ra(Ex).scale(249.5).clipAngle(90+Pt)}function Tx(t,e){var n=_t(e),r=1+_t(t)*n;return[n*vt(t)/r,vt(e)/r]}Tx.invert=D0(function(t){return 2*Ch(t)});function az(){return ra(Tx).scale(250).clipAngle(142)}function Cx(t,e){return[z1(cx((dr+e)/2)),-t]}Cx.invert=function(t,e){return[-e,2*Ch($P(t))-dr]};function lz(){var t=FR(Cx),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const uz=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:IR,geoAlbersUsa:YO,geoArea:eO,geoAzimuthalEqualArea:KO,geoAzimuthalEqualAreaRaw:wx,geoAzimuthalEquidistant:ZO,geoAzimuthalEquidistantRaw:Sx,geoBounds:iO,geoCentroid:cO,geoCircle:fO,geoClipAntimeridian:F8,geoClipCircle:vR,geoClipExtent:yO,geoClipRectangle:iv,geoConicConformal:qO,geoConicConformalRaw:kR,geoConicEqualArea:ag,geoConicEqualAreaRaw:BR,geoConicEquidistant:ez,geoConicEquidistantRaw:UR,geoContains:EO,geoDistance:$1,geoEqualEarth:nz,geoEqualEarthRaw:_x,geoEquirectangular:$O,geoEquirectangularRaw:t0,geoGnomonic:rz,geoGnomonicRaw:Mx,geoGraticule:dx,geoGraticule10:TO,geoIdentity:iz,geoInterpolate:CO,geoLength:yR,geoMercator:QO,geoMercatorRaw:B0,geoNaturalEarth1:sz,geoNaturalEarth1Raw:Ax,geoOrthographic:oz,geoOrthographicRaw:Ex,geoPath:DR,geoProjection:ra,geoProjectionMutator:yx,geoRotation:fR,geoStereographic:az,geoStereographicRaw:Tx,geoStream:mo,geoTransform:OO,geoTransverseMercator:lz,geoTransverseMercatorRaw:Cx},Symbol.toStringTag,{value:"Module"}));function cz(t){return t}function fz(t){if(t==null)return cz;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],o=t.translate[1];return function(a,l){l||(e=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(e+=a[0])*r+s,f[1]=(n+=a[1])*i+o;u<c;)f[u]=a[u],++u;return f}}function hz(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function dz(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return NM(t,n)})}:NM(t,e)}function NM(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,s=NR(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function NR(t,e){var n=fz(t.transform),r=t.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],m=0,g=d.length;m<g;++m)f.push(n(d[m],m));c<0&&hz(f,g)}function s(c){return n(c)}function o(c){for(var f=[],d=0,m=c.length;d<m;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=o(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":d=s(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(s);break;case"LineString":d=o(c.arcs);break;case"MultiLineString":d=c.arcs.map(o);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return u(e)}function pz(t,e){var n={},r={},i={},s=[],o=-1;e.forEach(function(u,c){var f=t.arcs[u<0?~u:u],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=e[++o],e[o]=u,e[c]=d)}),e.forEach(function(u){var c=a(u),f=c[0],d=c[1],m,g;if(m=i[f])if(delete i[m.end],m.push(u),m.end=d,g=r[d]){delete r[g.start];var v=g===m?m:m.concat(g);r[v.start=m.start]=i[v.end=g.end]=v}else r[m.start]=i[m.end]=m;else if(m=r[d])if(delete r[m.start],m.unshift(u),m.start=f,g=i[f]){delete i[g.end];var y=g===m?m:g.concat(m);r[y.start=g.start]=i[y.end=m.end]=y}else r[m.start]=i[m.end]=m;else m=[u],r[m.start=f]=i[m.end=d]=m});function a(u){var c=t.arcs[u<0?~u:u],f=c[0],d;return t.transform?(d=[0,0],c.forEach(function(m){d[0]+=m[0],d[1]+=m[1]})):d=c[c.length-1],u<0?[d,f]:[f,d]}function l(u,c){for(var f in u){var d=u[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(m){n[m<0?~m:m]=1}),s.push(d)}}return l(i,r),l(r,i),e.forEach(function(u){n[u<0?~u:u]||s.push([u])}),s}function OM(t){return NR(t,mz.apply(this,arguments))}function mz(t,e,n){var r,i,s;if(arguments.length>1)r=gz(t,e,n);else for(i=0,r=new Array(s=t.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:pz(t,r)}}function gz(t,e,n){var r=[],i=[],s;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:s})}function a(f){f.forEach(o)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(e),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}var vz={value:()=>{}};function bx(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qm(n)}function Qm(t){this._=t}function yz(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qm.prototype=bx.prototype={constructor:Qm,on:function(t,e){var n=this._,r=yz(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=xz(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=zM(n[i],t.name,e);else if(e==null)for(i in n)n[i]=zM(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Qm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function xz(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function zM(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=vz,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Y8="http://www.w3.org/1999/xhtml";const GM={svg:"http://www.w3.org/2000/svg",xhtml:Y8,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ov(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),GM.hasOwnProperty(e)?{space:GM[e],local:t}:t}function wz(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Y8&&e.documentElement.namespaceURI===Y8?e.createElement(t):e.createElementNS(n,t)}}function Sz(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function OR(t){var e=ov(t);return(e.local?Sz:wz)(e)}function _z(){}function Px(t){return t==null?_z:function(){return this.querySelector(t)}}function Mz(t){typeof t!="function"&&(t=Px(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new ts(r,this._parents)}function zR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Az(){return[]}function GR(t){return t==null?Az:function(){return this.querySelectorAll(t)}}function Ez(t){return function(){var e=t.apply(this,arguments);return e==null?[]:zR(e)}}function Tz(t){typeof t=="function"?t=Ez(t):t=GR(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new ts(r,i)}function HR(t){return function(){return this.matches(t)}}function VR(t){return function(e){return e.matches(t)}}var Cz=Array.prototype.find;function bz(t){return function(){return Cz.call(this.children,t)}}function Pz(){return this.firstElementChild}function Rz(t){return this.select(t==null?Pz:bz(typeof t=="function"?t:VR(t)))}var Dz=Array.prototype.filter;function Bz(){return this.children}function Iz(t){return function(){return Dz.call(this.children,t)}}function Lz(t){return this.selectAll(t==null?Bz:Iz(typeof t=="function"?t:VR(t)))}function Fz(t){typeof t!="function"&&(t=HR(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new ts(r,this._parents)}function WR(t){return new Array(t.length)}function kz(){return new ts(this._enter||this._groups.map(WR),this._parents)}function ug(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ug.prototype={constructor:ug,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Uz(t){return function(){return t}}function Nz(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new ug(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function Oz(t,e,n,r,i,s,o){var a,l,u=new Map,c=e.length,f=s.length,d=new Array(c),m;for(a=0;a<c;++a)(l=e[a])&&(d[a]=m=o.call(l,l.__data__,a,e)+"",u.has(m)?i[a]=l:u.set(m,l));for(a=0;a<f;++a)m=o.call(t,s[a],a,s)+"",(l=u.get(m))?(r[a]=l,l.__data__=s[a],u.delete(m)):n[a]=new ug(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(d[a])===l&&(i[a]=l)}function zz(t){return t.__data__}function Gz(t,e){if(!arguments.length)return Array.from(this,zz);var n=e?Oz:Nz,r=this._parents,i=this._groups;typeof t!="function"&&(t=Uz(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],f=i[u],d=f.length,m=zR(t.call(c,c&&c.__data__,u,r)),g=m.length,v=a[u]=new Array(g),y=o[u]=new Array(g),S=l[u]=new Array(d);n(c,f,v,y,S,m,e);for(var w=0,x=0,M,E;w<g;++w)if(M=v[w]){for(w>=x&&(x=w+1);!(E=y[x])&&++x<g;);M._next=E||null}}return o=new ts(o,r),o._enter=a,o._exit=l,o}function Hz(){return new ts(this._exit||this._groups.map(WR),this._parents)}function Vz(t,e,n){var r=this.enter(),i=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Wz(t){if(!(t instanceof ts))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(f[m]=d);for(;a<r;++a)o[a]=e[a];return new ts(o,this._parents)}function jz(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Xz(t){t||(t=Jz);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new ts(i,this._parents).order()}function Jz(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Yz(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Kz(){return Array.from(this)}function Zz(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Qz(){let t=0;for(const e of this)++t;return t}function qz(){return!this.node()}function $z(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function eG(t){return function(){this.removeAttribute(t)}}function tG(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nG(t,e){return function(){this.setAttribute(t,e)}}function rG(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function iG(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function sG(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function oG(t,e){var n=ov(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?tG:eG:typeof e=="function"?n.local?sG:iG:n.local?rG:nG)(n,e))}function jR(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function aG(t){return function(){this.style.removeProperty(t)}}function lG(t,e,n){return function(){this.style.setProperty(t,e,n)}}function uG(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function cG(t,e,n){return arguments.length>1?this.each((e==null?aG:typeof e=="function"?uG:lG)(t,e,n??"")):ch(this.node(),t)}function ch(t,e){return t.style.getPropertyValue(e)||jR(t).getComputedStyle(t,null).getPropertyValue(e)}function fG(t){return function(){delete this[t]}}function hG(t,e){return function(){this[t]=e}}function dG(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function pG(t,e){return arguments.length>1?this.each((e==null?fG:typeof e=="function"?dG:hG)(t,e)):this.node()[t]}function XR(t){return t.trim().split(/^|\s+/)}function Rx(t){return t.classList||new JR(t)}function JR(t){this._node=t,this._names=XR(t.getAttribute("class")||"")}JR.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function YR(t,e){for(var n=Rx(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function KR(t,e){for(var n=Rx(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mG(t){return function(){YR(this,t)}}function gG(t){return function(){KR(this,t)}}function vG(t,e){return function(){(e.apply(this,arguments)?YR:KR)(this,t)}}function yG(t,e){var n=XR(t+"");if(arguments.length<2){for(var r=Rx(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?vG:e?mG:gG)(n,e))}function xG(){this.textContent=""}function wG(t){return function(){this.textContent=t}}function SG(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _G(t){return arguments.length?this.each(t==null?xG:(typeof t=="function"?SG:wG)(t)):this.node().textContent}function MG(){this.innerHTML=""}function AG(t){return function(){this.innerHTML=t}}function EG(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function TG(t){return arguments.length?this.each(t==null?MG:(typeof t=="function"?EG:AG)(t)):this.node().innerHTML}function CG(){this.nextSibling&&this.parentNode.appendChild(this)}function bG(){return this.each(CG)}function PG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RG(){return this.each(PG)}function DG(t){var e=typeof t=="function"?t:OR(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function BG(){return null}function IG(t,e){var n=typeof t=="function"?t:OR(t),r=e==null?BG:typeof e=="function"?e:Px(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function LG(){var t=this.parentNode;t&&t.removeChild(this)}function FG(){return this.each(LG)}function kG(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function UG(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function NG(t){return this.select(t?UG:kG)}function OG(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zG(t){return function(e){t.call(this,e,this.__data__)}}function GG(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function HG(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function VG(t,e,n){return function(){var r=this.__on,i,s=zG(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function WG(t,e,n){var r=GG(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?VG:HG,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function ZR(t,e,n){var r=jR(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function jG(t,e){return function(){return ZR(this,t,e)}}function XG(t,e){return function(){return ZR(this,t,e.apply(this,arguments))}}function JG(t,e){return this.each((typeof e=="function"?XG:jG)(t,e))}function*YG(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var QR=[null];function ts(t,e){this._groups=t,this._parents=e}function I0(){return new ts([[document.documentElement]],QR)}function KG(){return this}ts.prototype=I0.prototype={constructor:ts,select:Mz,selectAll:Tz,selectChild:Rz,selectChildren:Lz,filter:Fz,data:Gz,enter:kz,exit:Hz,join:Vz,merge:Wz,selection:KG,order:jz,sort:Xz,call:Yz,nodes:Kz,node:Zz,size:Qz,empty:qz,each:$z,attr:oG,style:cG,property:pG,classed:yG,text:_G,html:TG,raise:bG,lower:RG,append:DG,insert:IG,remove:FG,clone:NG,datum:OG,on:WG,dispatch:JG,[Symbol.iterator]:YG};function ba(t){return typeof t=="string"?new ts([[document.querySelector(t)]],[document.documentElement]):new ts([[t]],QR)}function ZG(t){let e;for(;e=t.sourceEvent;)t=e;return t}function xu(t,e){if(t=ZG(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function K8(t){t.preventDefault(),t.stopImmediatePropagation()}function QG(t){var e=t.document.documentElement,n=ba(t).on("dragstart.drag",K8,!0);"onselectstart"in e?n.on("selectstart.drag",K8,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qG(t,e){var n=t.document.documentElement,r=ba(t).on("dragstart.drag",null);e&&(r.on("click.drag",K8,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Dx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function L0(){}var n0=.7,cg=1/n0,jf="\\s*([+-]?\\d+)\\s*",r0="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$G=/^#([0-9a-f]{3,8})$/,eH=new RegExp("^rgb\\("+[jf,jf,jf]+"\\)$"),tH=new RegExp("^rgb\\("+[Qo,Qo,Qo]+"\\)$"),nH=new RegExp("^rgba\\("+[jf,jf,jf,r0]+"\\)$"),rH=new RegExp("^rgba\\("+[Qo,Qo,Qo,r0]+"\\)$"),iH=new RegExp("^hsl\\("+[r0,Qo,Qo]+"\\)$"),sH=new RegExp("^hsla\\("+[r0,Qo,Qo,r0]+"\\)$"),HM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dx(L0,i0,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:VM,formatHex:VM,formatHsl:oH,formatRgb:WM,toString:WM});function VM(){return this.rgb().formatHex()}function oH(){return $R(this).formatHsl()}function WM(){return this.rgb().formatRgb()}function i0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$G.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jM(e):n===3?new ys(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?E2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?E2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eH.exec(t))?new ys(e[1],e[2],e[3],1):(e=tH.exec(t))?new ys(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nH.exec(t))?E2(e[1],e[2],e[3],e[4]):(e=rH.exec(t))?E2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=iH.exec(t))?YM(e[1],e[2]/100,e[3]/100,1):(e=sH.exec(t))?YM(e[1],e[2]/100,e[3]/100,e[4]):HM.hasOwnProperty(t)?jM(HM[t]):t==="transparent"?new ys(NaN,NaN,NaN,0):null}function jM(t){return new ys(t>>16&255,t>>8&255,t&255,1)}function E2(t,e,n,r){return r<=0&&(t=e=n=NaN),new ys(t,e,n,r)}function aH(t){return t instanceof L0||(t=i0(t)),t?(t=t.rgb(),new ys(t.r,t.g,t.b,t.opacity)):new ys}function Z8(t,e,n,r){return arguments.length===1?aH(t):new ys(t,e,n,r??1)}function ys(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Dx(ys,Z8,qR(L0,{brighter:function(t){return t=t==null?cg:Math.pow(cg,t),new ys(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?n0:Math.pow(n0,t),new ys(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XM,formatHex:XM,formatRgb:JM,toString:JM}));function XM(){return"#"+l6(this.r)+l6(this.g)+l6(this.b)}function JM(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function l6(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function YM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jo(t,e,n,r)}function $R(t){if(t instanceof Jo)return new Jo(t.h,t.s,t.l,t.opacity);if(t instanceof L0||(t=i0(t)),!t)return new Jo;if(t instanceof Jo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Jo(o,a,l,t.opacity)}function lH(t,e,n,r){return arguments.length===1?$R(t):new Jo(t,e,n,r??1)}function Jo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Dx(Jo,lH,qR(L0,{brighter:function(t){return t=t==null?cg:Math.pow(cg,t),new Jo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?n0:Math.pow(n0,t),new Jo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ys(u6(t>=240?t-240:t+120,i,r),u6(t,i,r),u6(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function u6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eD=t=>()=>t;function uH(t,e){return function(n){return t+n*e}}function cH(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fH(t){return(t=+t)==1?tD:function(e,n){return n-e?cH(e,n,t):eD(isNaN(e)?n:e)}}function tD(t,e){var n=e-t;return n?uH(t,n):eD(isNaN(t)?e:t)}const KM=function t(e){var n=fH(e);function r(i,s){var o=n((i=Z8(i)).r,(s=Z8(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=tD(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function _l(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Q8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c6=new RegExp(Q8.source,"g");function hH(t){return function(){return t}}function dH(t){return function(e){return t(e)+""}}function pH(t,e){var n=Q8.lastIndex=c6.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Q8.exec(t))&&(i=c6.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:_l(r,i)})),n=c6.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?dH(l[0].x):hH(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var ZM=180/Math.PI,q8={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nD(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*ZM,skewX:Math.atan(l)*ZM,scaleX:o,scaleY:a}}var T2;function mH(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?q8:nD(e.a,e.b,e.c,e.d,e.e,e.f)}function gH(t){return t==null||(T2||(T2=document.createElementNS("http://www.w3.org/2000/svg","g")),T2.setAttribute("transform",t),!(t=T2.transform.baseVal.consolidate()))?q8:(t=t.matrix,nD(t.a,t.b,t.c,t.d,t.e,t.f))}function rD(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,f,d,m,g){if(u!==f||c!==d){var v=m.push("translate(",null,e,null,n);g.push({i:v-4,x:_l(u,f)},{i:v-2,x:_l(c,d)})}else(f||d)&&m.push("translate("+f+e+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:_l(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:_l(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,m,g){if(u!==f||c!==d){var v=m.push(i(m)+"scale(",null,",",null,")");g.push({i:v-4,x:_l(u,f)},{i:v-2,x:_l(c,d)})}else(f!==1||d!==1)&&m.push(i(m)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(m){for(var g=-1,v=d.length,y;++g<v;)f[(y=d[g]).i]=y.x(m);return f.join("")}}}var vH=rD(mH,"px, ","px)","deg)"),yH=rD(gH,", ",")",")"),xH=1e-12;function QM(t){return((t=Math.exp(t))+1/t)/2}function wH(t){return((t=Math.exp(t))-1/t)/2}function SH(t){return((t=Math.exp(2*t))-1)/(t+1)}const _H=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],f=o[1],d=o[2],m=c-a,g=f-l,v=m*m+g*g,y,S;if(v<xH)S=Math.log(d/u)/e,y=function(P){return[a+P*m,l+P*g,u*Math.exp(e*P*S)]};else{var w=Math.sqrt(v),x=(d*d-u*u+r*v)/(2*u*n*w),M=(d*d-u*u-r*v)/(2*d*n*w),E=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(M*M+1)-M);S=(C-E)/e,y=function(P){var T=P*S,R=QM(E),B=u/(n*w)*(R*SH(e*T+E)-wH(E));return[a+B*m,l+B*g,u*R/QM(e*T+E)]}}return y.duration=S*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var fh=0,np=0,Sd=0,iD=1e3,fg,rp,hg=0,pc=0,av=0,s0=typeof performance=="object"&&performance.now?performance:Date,sD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Bx(){return pc||(sD(MH),pc=s0.now()+av)}function MH(){pc=0}function dg(){this._call=this._time=this._next=null}dg.prototype=oD.prototype={constructor:dg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Bx():+n)+(e==null?0:+e),!this._next&&rp!==this&&(rp?rp._next=this:fg=this,rp=this),this._call=t,this._time=n,$8()},stop:function(){this._call&&(this._call=null,this._time=1/0,$8())}};function oD(t,e,n){var r=new dg;return r.restart(t,e,n),r}function AH(){Bx(),++fh;for(var t=fg,e;t;)(e=pc-t._time)>=0&&t._call.call(null,e),t=t._next;--fh}function qM(){pc=(hg=s0.now())+av,fh=np=0;try{AH()}finally{fh=0,TH(),pc=0}}function EH(){var t=s0.now(),e=t-hg;e>iD&&(av-=e,hg=t)}function TH(){for(var t,e=fg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fg=n);rp=t,$8(r)}function $8(t){if(!fh){np&&(np=clearTimeout(np));var e=t-pc;e>24?(t<1/0&&(np=setTimeout(qM,t-s0.now()-av)),Sd&&(Sd=clearInterval(Sd))):(Sd||(hg=s0.now(),Sd=setInterval(EH,iD)),fh=1,sD(qM))}}function $M(t,e,n){var r=new dg;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var CH=bx("start","end","cancel","interrupt"),bH=[],aD=0,eA=1,ey=2,qm=3,tA=4,ty=5,$m=6;function lv(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;PH(t,n,{name:e,index:r,group:i,on:CH,tween:bH,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:aD})}function Ix(t,e){var n=bo(t,e);if(n.state>aD)throw new Error("too late; already scheduled");return n}function ia(t,e){var n=bo(t,e);if(n.state>qm)throw new Error("too late; already running");return n}function bo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function PH(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=oD(s,0,n.time);function s(u){n.state=eA,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,d,m;if(n.state!==eA)return l();for(c in r)if(m=r[c],m.name===n.name){if(m.state===qm)return $M(o);m.state===tA?(m.state=$m,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=$m,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if($M(function(){n.state===qm&&(n.state=tA,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=ey,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ey){for(n.state=qm,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=ty,1),f=-1,d=i.length;++f<d;)i[f].call(t,c);n.state===ty&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=$m,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function e1(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>ey&&r.state<ty,r.state=$m,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function RH(t){return this.each(function(){e1(this,t)})}function DH(t,e){var n,r;return function(){var i=ia(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function BH(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ia(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function IH(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=bo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?DH:BH)(n,t,e))}function Lx(t,e,n){var r=t._id;return t.each(function(){var i=ia(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return bo(i,r).value[e]}}function lD(t,e){var n;return(typeof e=="number"?_l:e instanceof i0?KM:(n=i0(e))?(e=n,KM):pH)(t,e)}function LH(t){return function(){this.removeAttribute(t)}}function FH(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kH(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function UH(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function NH(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function OH(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function zH(t,e){var n=ov(t),r=n==="transform"?yH:lD;return this.attrTween(t,typeof e=="function"?(n.local?OH:NH)(n,r,Lx(this,"attr."+t,e)):e==null?(n.local?FH:LH)(n):(n.local?UH:kH)(n,r,e))}function GH(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function HH(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function VH(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&HH(t,s)),n}return i._value=e,i}function WH(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&GH(t,s)),n}return i._value=e,i}function jH(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ov(t);return this.tween(n,(r.local?VH:WH)(r,e))}function XH(t,e){return function(){Ix(this,t).delay=+e.apply(this,arguments)}}function JH(t,e){return e=+e,function(){Ix(this,t).delay=e}}function YH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?XH:JH)(e,t)):bo(this.node(),e).delay}function KH(t,e){return function(){ia(this,t).duration=+e.apply(this,arguments)}}function ZH(t,e){return e=+e,function(){ia(this,t).duration=e}}function QH(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KH:ZH)(e,t)):bo(this.node(),e).duration}function qH(t,e){if(typeof e!="function")throw new Error;return function(){ia(this,t).ease=e}}function $H(t){var e=this._id;return arguments.length?this.each(qH(e,t)):bo(this.node(),e).ease}function eV(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ia(this,t).ease=n}}function tV(t){if(typeof t!="function")throw new Error;return this.each(eV(this._id,t))}function nV(t){typeof t!="function"&&(t=HR(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new Wa(r,this._parents,this._name,this._id)}function rV(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(f[m]=d);for(;a<r;++a)o[a]=e[a];return new Wa(o,this._parents,this._name,this._id)}function iV(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function sV(t,e,n){var r,i,s=iV(e)?Ix:ia;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function oV(t,e){var n=this._id;return arguments.length<2?bo(this.node(),n).on.on(t):this.each(sV(n,t,e))}function aV(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lV(){return this.on("end.remove",aV(this._id))}function uV(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Px(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=t.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,lv(u[d],e,n,d,u,bo(c,n)));return new Wa(s,this._parents,e,n)}function cV(t){var e=this._name,n=this._id;typeof t!="function"&&(t=GR(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=t.call(c,c.__data__,f,l),m,g=bo(c,n),v=0,y=d.length;v<y;++v)(m=d[v])&&lv(m,e,n,v,d,g);s.push(d),o.push(c)}return new Wa(s,o,e,n)}var fV=I0.prototype.constructor;function hV(){return new fV(this._groups,this._parents)}function dV(t,e){var n,r,i;return function(){var s=ch(this,t),o=(this.style.removeProperty(t),ch(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function uD(t){return function(){this.style.removeProperty(t)}}function pV(t,e,n){var r,i=n+"",s;return function(){var o=ch(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function mV(t,e,n){var r,i,s;return function(){var o=ch(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),ch(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function gV(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=ia(this,t),u=l.on,c=l.value[s]==null?a||(a=uD(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function vV(t,e,n){var r=(t+="")=="transform"?vH:lD;return e==null?this.styleTween(t,dV(t,r)).on("end.style."+t,uD(t)):typeof e=="function"?this.styleTween(t,mV(t,r,Lx(this,"style."+t,e))).each(gV(this._id,t)):this.styleTween(t,pV(t,r,e),n).on("end.style."+t,null)}function yV(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function xV(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&yV(t,o,n)),r}return s._value=e,s}function wV(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,xV(t,e,n??""))}function SV(t){return function(){this.textContent=t}}function _V(t){return function(){var e=t(this);this.textContent=e??""}}function MV(t){return this.tween("text",typeof t=="function"?_V(Lx(this,"text",t)):SV(t==null?"":t+""))}function AV(t){return function(e){this.textContent=t.call(this,e)}}function EV(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&AV(i)),e}return r._value=t,r}function TV(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,EV(t))}function CV(){for(var t=this._name,e=this._id,n=cD(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=bo(l,e);lv(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wa(r,this._parents,t,n)}function bV(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=ia(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var PV=0;function Wa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function cD(){return++PV}var wu=I0.prototype;Wa.prototype={constructor:Wa,select:uV,selectAll:cV,filter:nV,merge:rV,selection:hV,transition:CV,call:wu.call,nodes:wu.nodes,node:wu.node,size:wu.size,empty:wu.empty,each:wu.each,on:oV,attr:zH,attrTween:jH,style:vV,styleTween:wV,text:MV,textTween:TV,remove:lV,tween:IH,delay:YH,duration:QH,ease:$H,easeVarying:tV,end:bV,[Symbol.iterator]:wu[Symbol.iterator]};function RV(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var DV={time:null,delay:0,duration:250,ease:RV};function BV(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function IV(t){var e,n;t instanceof Wa?(e=t._id,t=t._name):(e=cD(),(n=DV).time=Bx(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&lv(l,t,e,u,o,n||BV(l,e));return new Wa(r,this._parents,t,e)}I0.prototype.interrupt=RH;I0.prototype.transition=IV;const C2=t=>()=>t;function LV(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ia(t,e,n){this.k=t,this.x=e,this.y=n}Ia.prototype={constructor:Ia,scale:function(t){return t===1?this:new Ia(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ia(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fx=new Ia(1,0,0);Ia.prototype;function f6(t){t.stopImmediatePropagation()}function _d(t){t.preventDefault(),t.stopImmediatePropagation()}function FV(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function kV(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function nA(){return this.__zoom||Fx}function UV(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function NV(){return navigator.maxTouchPoints||"ontouchstart"in this}function OV(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function zV(){var t=FV,e=kV,n=OV,r=UV,i=NV,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=_H,u=bx("start","zoom","end"),c,f,d,m=500,g=150,v=0,y=10;function S(D){D.property("__zoom",nA).on("wheel.zoom",T).on("mousedown.zoom",R).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(D,U,W,ie){var L=D.selection?D.selection():D;L.property("__zoom",nA),D!==L?E(D,U,W,ie):L.interrupt().each(function(){C(this,arguments).event(ie).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},S.scaleBy=function(D,U,W,ie){S.scaleTo(D,function(){var L=this.__zoom.k,O=typeof U=="function"?U.apply(this,arguments):U;return L*O},W,ie)},S.scaleTo=function(D,U,W,ie){S.transform(D,function(){var L=e.apply(this,arguments),O=this.__zoom,V=W==null?M(L):typeof W=="function"?W.apply(this,arguments):W,j=O.invert(V),k=typeof U=="function"?U.apply(this,arguments):U;return n(x(w(O,k),V,j),L,o)},W,ie)},S.translateBy=function(D,U,W,ie){S.transform(D,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof W=="function"?W.apply(this,arguments):W),e.apply(this,arguments),o)},null,ie)},S.translateTo=function(D,U,W,ie,L){S.transform(D,function(){var O=e.apply(this,arguments),V=this.__zoom,j=ie==null?M(O):typeof ie=="function"?ie.apply(this,arguments):ie;return n(Fx.translate(j[0],j[1]).scale(V.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof W=="function"?-W.apply(this,arguments):-W),O,o)},ie,L)};function w(D,U){return U=Math.max(s[0],Math.min(s[1],U)),U===D.k?D:new Ia(U,D.x,D.y)}function x(D,U,W){var ie=U[0]-W[0]*D.k,L=U[1]-W[1]*D.k;return ie===D.x&&L===D.y?D:new Ia(D.k,ie,L)}function M(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function E(D,U,W,ie){D.on("start.zoom",function(){C(this,arguments).event(ie).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(ie).end()}).tween("zoom",function(){var L=this,O=arguments,V=C(L,O).event(ie),j=e.apply(L,O),k=W==null?M(j):typeof W=="function"?W.apply(L,O):W,q=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),ee=L.__zoom,Y=typeof U=="function"?U.apply(L,O):U,Z=l(ee.invert(k).concat(q/ee.k),Y.invert(k).concat(q/Y.k));return function(ae){if(ae===1)ae=Y;else{var re=Z(ae),me=q/re[2];ae=new Ia(me,k[0]-re[0]*me,k[1]-re[1]*me)}V.zoom(null,ae)}})}function C(D,U,W){return!W&&D.__zooming||new P(D,U)}function P(D,U){this.that=D,this.args=U,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,U),this.taps=0}P.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,U){return this.mouse&&D!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var U=ba(this.that).datum();u.call(D,this.that,new LV(D,{sourceEvent:this.sourceEvent,target:S,type:D,transform:this.that.__zoom,dispatch:u}),U)}};function T(D,...U){if(!t.apply(this,arguments))return;var W=C(this,U).event(D),ie=this.__zoom,L=Math.max(s[0],Math.min(s[1],ie.k*Math.pow(2,r.apply(this,arguments)))),O=xu(D);if(W.wheel)(W.mouse[0][0]!==O[0]||W.mouse[0][1]!==O[1])&&(W.mouse[1]=ie.invert(W.mouse[0]=O)),clearTimeout(W.wheel);else{if(ie.k===L)return;W.mouse=[O,ie.invert(O)],e1(this),W.start()}_d(D),W.wheel=setTimeout(V,g),W.zoom("mouse",n(x(w(ie,L),W.mouse[0],W.mouse[1]),W.extent,o));function V(){W.wheel=null,W.end()}}function R(D,...U){if(d||!t.apply(this,arguments))return;var W=C(this,U,!0).event(D),ie=ba(D.view).on("mousemove.zoom",k,!0).on("mouseup.zoom",q,!0),L=xu(D,O),O=D.currentTarget,V=D.clientX,j=D.clientY;QG(D.view),f6(D),W.mouse=[L,this.__zoom.invert(L)],e1(this),W.start();function k(ee){if(_d(ee),!W.moved){var Y=ee.clientX-V,Z=ee.clientY-j;W.moved=Y*Y+Z*Z>v}W.event(ee).zoom("mouse",n(x(W.that.__zoom,W.mouse[0]=xu(ee,O),W.mouse[1]),W.extent,o))}function q(ee){ie.on("mousemove.zoom mouseup.zoom",null),qG(ee.view,W.moved),_d(ee),W.event(ee).end()}}function B(D,...U){if(t.apply(this,arguments)){var W=this.__zoom,ie=xu(D.changedTouches?D.changedTouches[0]:D,this),L=W.invert(ie),O=W.k*(D.shiftKey?.5:2),V=n(x(w(W,O),ie,L),e.apply(this,U),o);_d(D),a>0?ba(this).transition().duration(a).call(E,V,ie,D):ba(this).call(S.transform,V,ie,D)}}function N(D,...U){if(t.apply(this,arguments)){var W=D.touches,ie=W.length,L=C(this,U,D.changedTouches.length===ie).event(D),O,V,j,k;for(f6(D),V=0;V<ie;++V)j=W[V],k=xu(j,this),k=[k,this.__zoom.invert(k),j.identifier],L.touch0?!L.touch1&&L.touch0[2]!==k[2]&&(L.touch1=k,L.taps=0):(L.touch0=k,O=!0,L.taps=1+!!c);c&&(c=clearTimeout(c)),O&&(L.taps<2&&(f=k[0],c=setTimeout(function(){c=null},m)),e1(this),L.start())}}function G(D,...U){if(this.__zooming){var W=C(this,U).event(D),ie=D.changedTouches,L=ie.length,O,V,j,k;for(_d(D),O=0;O<L;++O)V=ie[O],j=xu(V,this),W.touch0&&W.touch0[2]===V.identifier?W.touch0[0]=j:W.touch1&&W.touch1[2]===V.identifier&&(W.touch1[0]=j);if(V=W.that.__zoom,W.touch1){var q=W.touch0[0],ee=W.touch0[1],Y=W.touch1[0],Z=W.touch1[1],ae=(ae=Y[0]-q[0])*ae+(ae=Y[1]-q[1])*ae,re=(re=Z[0]-ee[0])*re+(re=Z[1]-ee[1])*re;V=w(V,Math.sqrt(ae/re)),j=[(q[0]+Y[0])/2,(q[1]+Y[1])/2],k=[(ee[0]+Z[0])/2,(ee[1]+Z[1])/2]}else if(W.touch0)j=W.touch0[0],k=W.touch0[1];else return;W.zoom("touch",n(x(V,j,k),W.extent,o))}}function J(D,...U){if(this.__zooming){var W=C(this,U).event(D),ie=D.changedTouches,L=ie.length,O,V;for(f6(D),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),O=0;O<L;++O)V=ie[O],W.touch0&&W.touch0[2]===V.identifier?delete W.touch0:W.touch1&&W.touch1[2]===V.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(V=xu(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<y)){var j=ba(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return S.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:C2(+D),S):r},S.filter=function(D){return arguments.length?(t=typeof D=="function"?D:C2(!!D),S):t},S.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:C2(!!D),S):i},S.extent=function(D){return arguments.length?(e=typeof D=="function"?D:C2([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),S):e},S.scaleExtent=function(D){return arguments.length?(s[0]=+D[0],s[1]=+D[1],S):[s[0],s[1]]},S.translateExtent=function(D){return arguments.length?(o[0][0]=+D[0][0],o[1][0]=+D[1][0],o[0][1]=+D[0][1],o[1][1]=+D[1][1],S):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},S.constrain=function(D){return arguments.length?(n=D,S):n},S.duration=function(D){return arguments.length?(a=+D,S):a},S.interpolate=function(D){return arguments.length?(l=D,S):l},S.on=function(){var D=u.on.apply(u,arguments);return D===u?S:D},S.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,S):Math.sqrt(v)},S.tapDistance=function(D){return arguments.length?(y=+D,S):y},S}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){GV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ny(t){return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function GV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(this,arguments)}function HV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qs(t,e){if(t==null)return{};var n=HV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ni(t,e){return VV(t)||WV(t,e)||jV(t,e)||XV()}function VV(t){if(Array.isArray(t))return t}function WV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function jV(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var JV=["width","height","projection","projectionConfig"],YV=DR,KV=Qs(uz,["geoPath"]),sa=H.createContext(),ZV=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,s=i===void 0?"geoEqualEarth":i,o=e.width,a=o===void 0?800:o,l=e.height,u=l===void 0?600:l,c=typeof s=="function";if(c)return s;var f=KV[s]().translate([a/2,u/2]),d=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return d.forEach(function(m){m&&(f=f[m](r[m]||f[m]()))}),f},fD=function(e){var n=e.width,r=e.height,i=e.projection,s=e.projectionConfig,o=Qs(e,JV),a=s.center||[],l=ni(a,2),u=l[0],c=l[1],f=s.rotate||[],d=ni(f,3),m=d[0],g=d[1],v=d[2],y=s.parallels||[],S=ni(y,2),w=S[0],x=S[1],M=s.scale||null,E=H.useMemo(function(){return ZV({projectionConfig:{center:u||u===0||c||c===0?[u,c]:null,rotate:m||m===0||g||g===0?[m,g,v]:null,parallels:w||w===0||x||x===0?[w,x]:null,scale:M},projection:i,width:n,height:r})},[n,r,i,u,c,m,g,v,w,x,M]),C=H.useCallback(E,[E]),P=H.useMemo(function(){return{width:n,height:r,projection:C,path:YV().projection(C)}},[n,r,C]);return Rn.createElement(sa.Provider,ns({value:P},o))};fD.propTypes={width:lt.number,height:lt.number,projection:lt.oneOfType([lt.string,lt.func]),projectionConfig:lt.object};var QV=["width","height","projection","projectionConfig","className"],kx=H.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,s=i===void 0?600:i,o=t.projection,a=o===void 0?"geoEqualEarth":o,l=t.projectionConfig,u=l===void 0?{}:l,c=t.className,f=c===void 0?"":c,d=Qs(t,QV);return Rn.createElement(fD,{width:r,height:s,projection:a,projectionConfig:u},Rn.createElement("svg",ns({ref:e,viewBox:"0 0 ".concat(r," ").concat(s),className:"rsm-svg ".concat(f)},d)))});kx.displayName="ComposableMap";kx.propTypes={width:lt.number,height:lt.number,projection:lt.oneOfType([lt.string,lt.func]),projectionConfig:lt.object,className:lt.string};function sA(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function qV(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function oA(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=dz(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function aA(t){var e=t.type==="Topology";if(!e)return null;var n=OM(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i===s}),r=OM(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i!==s});return{outline:n,borders:r}}function $V(t,e,n){return t&&e?{outline:Df(Df({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:Df(Df({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function eW(t,e){return t?t.map(function(n,r){return Df(Df({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function tW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],s=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+s," ").concat(-t,",").concat(-e)}function nW(t){return typeof t=="string"}function rW(t){var e=t.geography,n=t.parseGeographies,r=H.useContext(sa),i=r.path,s=H.useState({}),o=ni(s,2),a=o[0],l=o[1];H.useEffect(function(){(typeof window>"u"?"undefined":ny(window))!=="undefined"&&e&&(nW(e)?qV(e).then(function(m){m&&l({geographies:oA(m,n),mesh:aA(m)})}):l({geographies:oA(e,n),mesh:aA(e)}))},[e,n]);var u=H.useMemo(function(){var m=a.mesh||{},g=$V(m.outline,m.borders,i);return{geographies:eW(a.geographies,i),outline:g.outline,borders:g.borders}},[a,i]),c=u.geographies,f=u.outline,d=u.borders;return{geographies:c,outline:f,borders:d}}var iW=["geography","children","parseGeographies","className"],Ux=H.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,s=t.className,o=s===void 0?"":s,a=Qs(t,iW),l=H.useContext(sa),u=l.path,c=l.projection,f=rW({geography:n,parseGeographies:i}),d=f.geographies,m=f.outline,g=f.borders;return Rn.createElement("g",ns({ref:e,className:"rsm-geographies ".concat(o)},a),d&&d.length>0&&r({geographies:d,outline:m,borders:g,path:u,projection:c}))});Ux.displayName="Geographies";Ux.propTypes={geography:lt.oneOfType([lt.string,lt.object,lt.array]),children:lt.func,parseGeographies:lt.func,className:lt.string};var sW=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Nx=H.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,a=t.onFocus,l=t.onBlur,u=t.style,c=u===void 0?{}:u,f=t.className,d=f===void 0?"":f,m=Qs(t,sW),g=H.useState(!1),v=ni(g,2),y=v[0],S=v[1],w=H.useState(!1),x=ni(w,2),M=x[0],E=x[1];function C(G){E(!0),r&&r(G)}function P(G){E(!1),y&&S(!1),i&&i(G)}function T(G){E(!0),a&&a(G)}function R(G){E(!1),y&&S(!1),l&&l(G)}function B(G){S(!0),s&&s(G)}function N(G){S(!1),o&&o(G)}return Rn.createElement("path",ns({ref:e,tabIndex:"0",className:"rsm-geography ".concat(d),d:n.svgPath,onMouseEnter:C,onMouseLeave:P,onFocus:T,onBlur:R,onMouseDown:B,onMouseUp:N,style:c[y||M?y?"pressed":"hover":"default"]},m))});Nx.displayName="Geography";Nx.propTypes={geography:lt.object,onMouseEnter:lt.func,onMouseLeave:lt.func,onMouseDown:lt.func,onMouseUp:lt.func,onFocus:lt.func,onBlur:lt.func,style:lt.object,className:lt.string};var oW=H.memo(Nx),aW=["fill","stroke","step","className"],Ox=H.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,s=i===void 0?"currentcolor":i,o=t.step,a=o===void 0?[10,10]:o,l=t.className,u=l===void 0?"":l,c=Qs(t,aW),f=H.useContext(sa),d=f.path;return Rn.createElement("path",ns({ref:e,d:d(dx().step(a)()),fill:r,stroke:s,className:"rsm-graticule ".concat(u)},c))});Ox.displayName="Graticule";Ox.propTypes={fill:lt.string,stroke:lt.string,step:lt.array,className:lt.string};H.memo(Ox);var lW=["value"],uW=H.createContext(),cW={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},hD=function(e){var n=e.value,r=n===void 0?cW:n,i=Qs(e,lW);return Rn.createElement(uW.Provider,ns({value:r},i))};hD.propTypes={x:lt.number,y:lt.number,k:lt.number,transformString:lt.string};function fW(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,s=t.onMove,o=t.translateExtent,a=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,l=t.scaleExtent,u=l===void 0?[1,8]:l,c=t.zoom,f=c===void 0?1:c,d=H.useContext(sa),m=d.width,g=d.height,v=d.projection,y=ni(e,2),S=y[0],w=y[1],x=H.useState({x:0,y:0,k:1}),M=ni(x,2),E=M[0],C=M[1],P=H.useRef({x:0,y:0,k:1}),T=H.useRef(),R=H.useRef(),B=H.useRef(!1),N=ni(a,2),G=N[0],J=N[1],D=ni(G,2),U=D[0],W=D[1],ie=ni(J,2),L=ie[0],O=ie[1],V=ni(u,2),j=V[0],k=V[1];return H.useEffect(function(){var q=ba(T.current);function ee(me){!r||B.current||r({coordinates:v.invert(sA(m,g,me.transform)),zoom:me.transform.k},me)}function Y(me){if(!B.current){var Ee=me.transform,_e=me.sourceEvent;C({x:Ee.x,y:Ee.y,k:Ee.k,dragging:_e}),s&&s({x:Ee.x,y:Ee.y,zoom:Ee.k,dragging:_e},me)}}function Z(me){if(B.current){B.current=!1;return}var Ee=v.invert(sA(m,g,me.transform)),_e=ni(Ee,2),se=_e[0],xe=_e[1];P.current={x:se,y:xe,k:me.transform.k},i&&i({coordinates:[se,xe],zoom:me.transform.k},me)}function ae(me){return n?n(me):me?!me.ctrlKey&&!me.button:!1}var re=zV().filter(ae).scaleExtent([j,k]).translateExtent([[U,W],[L,O]]).on("start",ee).on("zoom",Y).on("end",Z);R.current=re,q.call(re)},[m,g,U,W,L,O,j,k,v,r,s,i,n]),H.useEffect(function(){if(!(S===P.current.x&&w===P.current.y&&f===P.current.k)){var q=v([S,w]),ee=q[0]*f,Y=q[1]*f,Z=ba(T.current);B.current=!0,Z.call(R.current.transform,Fx.translate(m/2-ee,g/2-Y).scale(f)),C({x:m/2-ee,y:g/2-Y,k:f}),P.current={x:S,y:w,k:f}}},[S,w,f,m,g,v]),{mapRef:T,position:E,transformString:"translate(".concat(E.x," ").concat(E.y,") scale(").concat(E.k,")")}}var hW=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],dD=H.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,s=i===void 0?1:i,o=t.minZoom,a=o===void 0?1:o,l=t.maxZoom,u=l===void 0?8:l,c=t.translateExtent,f=t.filterZoomEvent,d=t.onMoveStart,m=t.onMove,g=t.onMoveEnd,v=t.className,y=Qs(t,hW),S=H.useContext(sa),w=S.width,x=S.height,M=fW({center:r,filterZoomEvent:f,onMoveStart:d,onMove:m,onMoveEnd:g,scaleExtent:[a,u],translateExtent:c,zoom:s}),E=M.mapRef,C=M.transformString,P=M.position;return Rn.createElement(hD,{value:{x:P.x,y:P.y,k:P.k,transformString:C}},Rn.createElement("g",{ref:E},Rn.createElement("rect",{width:w,height:x,fill:"transparent"}),Rn.createElement("g",ns({ref:e,transform:C,className:"rsm-zoomable-group ".concat(v)},y))))});dD.displayName="ZoomableGroup";dD.propTypes={center:lt.array,zoom:lt.number,minZoom:lt.number,maxZoom:lt.number,translateExtent:lt.arrayOf(lt.array),onMoveStart:lt.func,onMove:lt.func,onMoveEnd:lt.func,className:lt.string};var dW=["id","fill","stroke","strokeWidth","className"],zx=H.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,s=i===void 0?"transparent":i,o=t.stroke,a=o===void 0?"currentcolor":o,l=t.strokeWidth,u=l===void 0?.5:l,c=t.className,f=c===void 0?"":c,d=Qs(t,dW),m=H.useContext(sa),g=m.path,v=H.useMemo(function(){return g({type:"Sphere"})},[g]);return Rn.createElement(H.Fragment,null,Rn.createElement("defs",null,Rn.createElement("clipPath",{id:r},Rn.createElement("path",{d:v}))),Rn.createElement("path",ns({ref:e,d:v,fill:s,stroke:a,strokeWidth:u,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(f)},d)))});zx.displayName="Sphere";zx.propTypes={id:lt.string,fill:lt.string,stroke:lt.string,strokeWidth:lt.number,className:lt.string};H.memo(zx);var pW=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],pD=H.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,s=t.onMouseLeave,o=t.onMouseDown,a=t.onMouseUp,l=t.onFocus,u=t.onBlur,c=t.style,f=c===void 0?{}:c,d=t.className,m=d===void 0?"":d,g=Qs(t,pW),v=H.useContext(sa),y=v.projection,S=H.useState(!1),w=ni(S,2),x=w[0],M=w[1],E=H.useState(!1),C=ni(E,2),P=C[0],T=C[1],R=y(n),B=ni(R,2),N=B[0],G=B[1];function J(O){T(!0),i&&i(O)}function D(O){T(!1),x&&M(!1),s&&s(O)}function U(O){T(!0),l&&l(O)}function W(O){T(!1),x&&M(!1),u&&u(O)}function ie(O){M(!0),o&&o(O)}function L(O){M(!1),a&&a(O)}return Rn.createElement("g",ns({ref:e,transform:"translate(".concat(N,", ").concat(G,")"),className:"rsm-marker ".concat(m),onMouseEnter:J,onMouseLeave:D,onFocus:U,onBlur:W,onMouseDown:ie,onMouseUp:L,style:f[x||P?x?"pressed":"hover":"default"]},g),r)});pD.displayName="Marker";pD.propTypes={coordinates:lt.array,children:lt.oneOfType([lt.node,lt.arrayOf(lt.node)]),onMouseEnter:lt.func,onMouseLeave:lt.func,onMouseDown:lt.func,onMouseUp:lt.func,onFocus:lt.func,onBlur:lt.func,style:lt.object,className:lt.string};var mW=["from","to","coordinates","stroke","strokeWidth","fill","className"],mD=H.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,s=i===void 0?[0,0]:i,o=t.coordinates,a=t.stroke,l=a===void 0?"currentcolor":a,u=t.strokeWidth,c=u===void 0?3:u,f=t.fill,d=f===void 0?"transparent":f,m=t.className,g=m===void 0?"":m,v=Qs(t,mW),y=H.useContext(sa),S=y.path,w={type:"LineString",coordinates:o||[r,s]};return Rn.createElement("path",ns({ref:e,d:S(w),className:"rsm-line ".concat(g),stroke:l,strokeWidth:c,fill:d},v))});mD.displayName="Line";mD.propTypes={from:lt.array,to:lt.array,coordinates:lt.array,stroke:lt.string,strokeWidth:lt.number,fill:lt.string,className:lt.string};var gW=["subject","children","connectorProps","dx","dy","curve","className"],pg=H.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,s=t.dx,o=s===void 0?30:s,a=t.dy,l=a===void 0?30:a,u=t.curve,c=u===void 0?0:u,f=t.className,d=f===void 0?"":f,m=Qs(t,gW),g=H.useContext(sa),v=g.projection,y=v(n),S=ni(y,2),w=S[0],x=S[1],M=tW(o,l,c);return Rn.createElement("g",ns({ref:e,transform:"translate(".concat(w+o,", ").concat(x+l,")"),className:"rsm-annotation ".concat(d)},m),Rn.createElement("path",ns({d:M,fill:"transparent",stroke:"#000"},i)),r)});pg.displayName="Annotation";pg.propTypes={subject:lt.array,children:lt.oneOfType([lt.node,lt.arrayOf(lt.node)]),dx:lt.number,dy:lt.number,curve:lt.number,connectorProps:lt.object,className:lt.string};const vW=()=>hn(kx,{projection:"geoAzimuthalEqualArea",projectionConfig:{rotate:[-10,-52,0],center:[-5,-3],scale:1600},style:{width:"100%",height:"100%"},children:[Ne(Ux,{geography:"/features.json",fill:"#2C065D",stroke:"#FFFFFF",strokeWidth:.5,children:({geographies:t})=>t.map(e=>Ne(oW,{geography:e},e.rsmKey))}),Ne(pg,{subject:[2.3522,48.8566],dx:-90,dy:-30,connectorProps:{stroke:"white",strokeWidth:2,strokeLinecap:"round"},children:Ne("text",{x:"-8",textAnchor:"end",alignmentBaseline:"middle",fill:"white",children:"Paris"})}),Ne(pg,{subject:[21.01178,52.22977],dx:-90,dy:-30,connectorProps:{stroke:"white",strokeWidth:2,strokeLinecap:"round"},children:Ne("text",{x:"-8",textAnchor:"end",alignmentBaseline:"middle",fill:"white",children:"Warsaw"})})]}),yW=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
`,xW=Ft.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: space-between;
  gap: 50px;
`,wW=Ft.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  @media only screen and (max-width: 768px) {
    justify-content: center;
  }
`,SW=Ft.h1`
  font-weight: 200;
`,_W=Ft.form`
  width: 500px;
  display: flex;
  flex-direction: column;
  gap: 25px;

  @media only screen and (max-width: 768px) {
    width: 300px;
  }
`,lA=Ft.input`
  padding: 20px;
  background-color: #e8e6e6;
  border: none;
  border-radius: 5px;
`,MW=Ft.textarea`
  padding: 20px;
  border: none;
  border-radius: 5px;
  background-color: #e8e6e6;
`,AW=Ft.button`
  background-color: #da4ea2;
  color: white;
  border: none;
  font-weight: bold;
  cursor: pointer;
  border-radius: 5px;
  padding: 20px;
`,EW=Ft.div`
  flex: 1;

  @media only screen and (max-width: 768px) {
    display: none;
  }
`,TW=()=>{const t=H.useRef(),[e,n]=H.useState(null);return Ne(yW,{children:hn(xW,{children:[Ne(wW,{children:hn(_W,{ref:t,onSubmit:i=>{i.preventDefault(),WN.sendForm("service_id","template_id",t.current,"public_key").then(s=>{console.log(s.text),n(!0)},s=>{console.log(s.text),n(!1)})},children:[Ne(SW,{children:"Contact Us"}),Ne(lA,{placeholder:"Name",name:"name"}),Ne(lA,{placeholder:"Email",name:"email"}),Ne(MW,{placeholder:"Write your message",name:"message",rows:10}),Ne(AW,{type:"submit",children:"Send"}),e&&"Your message has been sent. We'll get back to you soon :)"]})}),Ne(EW,{children:Ne(vW,{})})]})})},CW=Ft.div`
  display: flex;
  justify-content: center;

  @media only screen and (max-width: 768px) {
    width: 100%;
  }
`,bW=Ft.div`
  width: 1400px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0px;

  @media only screen and (max-width: 768px) {
    width: 100%;
    padding: 10px;
  }
`,PW=Ft.div`
  display: flex;
  align-items: center;
  gap: 50px;
`,RW=Ft.img`
  height: 50px;
`,DW=Ft.ul`
  display: flex;
  gap: 20px;
  list-style: none;

  @media only screen and (max-width: 768px) {
    display: none;
  }
`,b2=Ft.li`
  cursor: pointer;
`,BW=Ft.div`
  display: flex;
  align-items: center;
  gap: 20px;
`,IW=Ft.img`
  width: 20px;
  cursor: pointer;
`,LW=Ft.button`
  width: 100px;
  padding: 10px;
  background-color: #da4ea2;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
`,FW=()=>Ne(CW,{children:hn(bW,{children:[hn(PW,{children:[Ne(RW,{src:"./img/logo.png"}),hn(DW,{children:[Ne(b2,{children:"Home"}),Ne(b2,{children:"Studio"}),Ne(b2,{children:"Works"}),Ne(b2,{children:"Contact"})]})]}),hn(BW,{children:[Ne(IW,{src:"./img/search.png"}),Ne(LW,{children:"Hire Now"})]})]})});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const qs="150",Fu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ku={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},gD=0,ry=1,vD=2,kW=3,yD=0,uv=1,Sp=2,Wu=3,Zs=0,br=1,ri=2,UW=2,Jn=0,ec=1,iy=2,sy=3,oy=4,xD=5,Nu=100,wD=101,SD=102,ay=103,ly=104,_D=200,MD=201,AD=202,ED=203,Gx=204,Hx=205,TD=206,CD=207,bD=208,PD=209,RD=210,Vx=0,Wx=1,mg=2,o0=3,a0=4,jx=5,Xx=6,cv=7,F0=0,DD=1,BD=2,Mo=0,ID=1,LD=2,FD=3,Jx=4,kD=5,fv=300,ja=301,Zl=302,hh=303,l0=304,bh=306,xi=1e3,Cr=1001,dh=1002,Nt=1003,u0=1004,NW=1004,Xf=1005,OW=1005,gt=1006,hv=1007,zW=1007,na=1008,GW=1008,Gn=1009,UD=1010,ND=1011,Yx=1012,OD=1013,La=1014,Pn=1015,Xn=1016,zD=1017,GD=1018,jl=1020,HD=1021,zn=1023,dv=1024,VD=1025,Xl=1026,Ql=1027,k0=1028,WD=1029,Kx=1030,jD=1031,XD=1033,t1=33776,n1=33777,r1=33778,i1=33779,uy=35840,cy=35841,fy=35842,hy=35843,JD=36196,dy=37492,py=37496,my=37808,gy=37809,vy=37810,yy=37811,xy=37812,wy=37813,Sy=37814,_y=37815,My=37816,Ay=37817,Ey=37818,Ty=37819,Cy=37820,by=37821,s1=36492,YD=36283,Py=36284,Ry=36285,Dy=36286,KD=2200,ZD=2201,QD=2202,ph=2300,mc=2301,o1=2302,ju=2400,Xu=2401,c0=2402,pv=2500,Zx=2501,qD=0,Qx=1,gg=2,To=3e3,En=3001,Yr=3200,Co=3201,Za=0,$D=1,eB="",co="srgb",mh="srgb-linear",qx="display-p3",HW=0,a1=7680,VW=7681,WW=7682,jW=7683,XW=34055,JW=34056,YW=5386,KW=512,ZW=513,QW=514,qW=515,$W=516,ej=517,tj=518,tB=519,f0=35044,nj=35048,rj=35040,ij=35045,sj=35049,oj=35041,aj=35046,lj=35050,uj=35042,cj="100",vg="300 es",yg=1035;class Ts{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let uA=1234567;const tc=Math.PI/180,h0=180/Math.PI;function ws(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(hi[t&255]+hi[t>>8&255]+hi[t>>16&255]+hi[t>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[n&63|128]+hi[n>>8&255]+"-"+hi[n>>16&255]+hi[n>>24&255]+hi[r&255]+hi[r>>8&255]+hi[r>>16&255]+hi[r>>24&255]).toLowerCase()}function _r(t,e,n){return Math.max(e,Math.min(n,t))}function $x(t,e){return(t%e+e)%e}function fj(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function hj(t,e,n){return t!==e?(n-t)/(e-t):0}function _p(t,e,n){return(1-n)*t+n*e}function dj(t,e,n,r){return _p(t,e,1-Math.exp(-n*r))}function pj(t,e=1){return e-Math.abs($x(t,e*2)-e)}function mj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function gj(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function vj(t,e){return t+Math.floor(Math.random()*(e-t+1))}function yj(t,e){return t+Math.random()*(e-t)}function xj(t){return t*(.5-Math.random())}function wj(t){t!==void 0&&(uA=t);let e=uA+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Sj(t){return t*tc}function _j(t){return t*h0}function By(t){return(t&t-1)===0&&t!==0}function nB(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function rB(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Mj(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*f,l*d,a*u);break;case"YZY":t.set(l*d,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*d,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Fa(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Fn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const yo={DEG2RAD:tc,RAD2DEG:h0,generateUUID:ws,clamp:_r,euclideanModulo:$x,mapLinear:fj,inverseLerp:hj,lerp:_p,damp:dj,pingpong:pj,smoothstep:mj,smootherstep:gj,randInt:vj,randFloat:yj,randFloatSpread:xj,seededRandom:wj,degToRad:Sj,radToDeg:_j,isPowerOfTwo:By,ceilPowerOfTwo:nB,floorPowerOfTwo:rB,setQuaternionFromProperEuler:Mj,normalize:Fn,denormalize:Fa};class ve{constructor(e=0,n=0){ve.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fr{constructor(){Fr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],m=r[5],g=r[8],v=i[0],y=i[3],S=i[6],w=i[1],x=i[4],M=i[7],E=i[2],C=i[5],P=i[8];return s[0]=o*v+a*w+l*E,s[3]=o*y+a*x+l*C,s[6]=o*S+a*M+l*P,s[1]=u*v+c*w+f*E,s[4]=u*y+c*x+f*C,s[7]=u*S+c*M+f*P,s[2]=d*v+m*w+g*E,s[5]=d*y+m*x+g*C,s[8]=d*S+m*M+g*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,d=a*l-c*s,m=u*s-o*l,g=n*f+r*d+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*u-c*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(c*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=m*v,e[7]=(r*l-u*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(h6.makeScale(e,n)),this}rotate(e){return this.premultiply(h6.makeRotation(-e)),this}translate(e,n){return this.premultiply(h6.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const h6=new Fr;function iB(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Aj={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Bf(t,e){return new Aj[t](e)}function d0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}class or{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const d=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=d,e[n+1]=m,e[n+2]=g,e[n+3]=v;return}if(f!==v||l!==d||u!==m||c!==g){let y=1-a;const S=l*d+u*m+c*g+f*v,w=S>=0?1:-1,x=1-S*S;if(x>Number.EPSILON){const E=Math.sqrt(x),C=Math.atan2(E,S*w);y=Math.sin(y*C)/E,a=Math.sin(a*C)/E}const M=a*w;if(l=l*y+d*M,u=u*y+m*M,c=c*y+g*M,f=f*y+v*M,y===1-a){const E=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=E,u*=E,c*=E,f*=E}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],d=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+c*f+l*m-u*d,e[n+1]=l*g+c*d+u*f-a*m,e[n+2]=u*g+c*m+a*d-l*f,e[n+3]=c*g-a*f-l*d-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),d=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*c*f+u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f-d*m*g;break;case"YXZ":this._x=d*c*f+u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f+d*m*g;break;case"ZXY":this._x=d*c*f-u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f-d*m*g;break;case"ZYX":this._x=d*c*f-u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f+d*m*g;break;case"YZX":this._x=d*c*f+u*m*g,this._y=u*m*f+d*c*g,this._z=u*c*g-d*m*f,this._w=u*c*f-d*m*g;break;case"XZY":this._x=d*c*f-u*m*g,this._y=u*m*f-d*c*g,this._z=u*c*g+d*m*f,this._w=u*c*f+d*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],d=r+a+f;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(_r(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,n=0,r=0){K.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(cA.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(cA.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,f=l*i+s*r-o*n,d=-s*n-o*r-a*i;return this.x=u*l+d*-s+c*-a-f*-o,this.y=c*l+d*-o+f*-s-u*-a,this.z=f*l+d*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return d6.copy(this).projectOnVector(e),this.sub(d6)}reflect(e){return this.sub(d6.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(_r(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const d6=new K,cA=new or;function Jf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function p6(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Ej=new Fr().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Tj=new Fr().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Rl=new K;function Cj(t){return t.convertSRGBToLinear(),Rl.set(t.r,t.g,t.b).applyMatrix3(Tj),t.setRGB(Rl.x,Rl.y,Rl.z)}function bj(t){return Rl.set(t.r,t.g,t.b).applyMatrix3(Ej),t.setRGB(Rl.x,Rl.y,Rl.z).convertLinearToSRGB()}const Pj={[mh]:t=>t,[co]:t=>t.convertSRGBToLinear(),[qx]:Cj},Rj={[mh]:t=>t,[co]:t=>t.convertLinearToSRGB(),[qx]:bj},pi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return mh},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Pj[e],i=Rj[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Wc;class e7{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Wc===void 0&&(Wc=d0("canvas")),Wc.width=e.width,Wc.height=e.height;const r=Wc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Wc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=d0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Jf(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Jf(n[r]/255)*255):n[r]=Jf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ju{constructor(e=null){this.isSource=!0,this.uuid=ws(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(m6(i[o].image)):s.push(m6(i[o]))}else s=m6(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function m6(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?e7.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Dj=0;class bn extends Ts{constructor(e=bn.DEFAULT_IMAGE,n=bn.DEFAULT_MAPPING,r=Cr,i=Cr,s=gt,o=na,a=zn,l=Gn,u=bn.DEFAULT_ANISOTROPY,c=To){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Dj++}),this.uuid=ws(),this.name="",this.source=new Ju(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==fv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xi:e.x=e.x-Math.floor(e.x);break;case Cr:e.x=e.x<0?0:1;break;case dh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case xi:e.y=e.y-Math.floor(e.y);break;case Cr:e.y=e.y<0?0:1;break;case dh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}bn.DEFAULT_IMAGE=null;bn.DEFAULT_MAPPING=fv;bn.DEFAULT_ANISOTROPY=1;class qt{constructor(e=0,n=0,r=0,i=1){qt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],m=l[5],g=l[9],v=l[2],y=l[6],S=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+S-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(u+1)/2,M=(m+1)/2,E=(S+1)/2,C=(c+d)/4,P=(f+v)/4,T=(g+y)/4;return x>M&&x>E?x<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(x),i=C/r,s=P/r):M>E?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=C/i,s=T/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=P/s,i=T/s),this.set(r,i,s,n),this}let w=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(d-c)*(d-c));return Math.abs(w)<.001&&(w=1),this.x=(y-g)/w,this.y=(f-v)/w,this.z=(d-c)/w,this.w=Math.acos((u+m+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $t extends Ts{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new qt(0,0,e,n),this.scissorTest=!1,this.viewport=new qt(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new bn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:gt,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ju(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class mv extends bn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Nt,this.minFilter=Nt,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Bj extends $t{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new mv(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class nc extends bn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Nt,this.minFilter=Nt,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ij extends $t{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new nc(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class t7 extends $t{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class rs{constructor(e=new K(1/0,1/0,1/0),n=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],d=e[l+2];c<n&&(n=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),d=e.getZ(l);c<n&&(n=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Su.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Su.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Su)}else r.boundingBox===null&&r.computeBoundingBox(),g6.copy(r.boundingBox),g6.applyMatrix4(e.matrixWorld),this.union(g6);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Su),Su.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Md),P2.subVectors(this.max,Md),jc.subVectors(e.a,Md),Xc.subVectors(e.b,Md),Jc.subVectors(e.c,Md),cl.subVectors(Xc,jc),fl.subVectors(Jc,Xc),_u.subVectors(jc,Jc);let n=[0,-cl.z,cl.y,0,-fl.z,fl.y,0,-_u.z,_u.y,cl.z,0,-cl.x,fl.z,0,-fl.x,_u.z,0,-_u.x,-cl.y,cl.x,0,-fl.y,fl.x,0,-_u.y,_u.x,0];return!v6(n,jc,Xc,Jc,P2)||(n=[1,0,0,0,1,0,0,0,1],!v6(n,jc,Xc,Jc,P2))?!1:(R2.crossVectors(cl,fl),n=[R2.x,R2.y,R2.z],v6(n,jc,Xc,Jc,P2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Su).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Su).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(va[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),va[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),va[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),va[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),va[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),va[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),va[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),va[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(va),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const va=[new K,new K,new K,new K,new K,new K,new K,new K],Su=new K,g6=new rs,jc=new K,Xc=new K,Jc=new K,cl=new K,fl=new K,_u=new K,Md=new K,P2=new K,R2=new K,Mu=new K;function v6(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Mu.fromArray(t,s);const a=i.x*Math.abs(Mu.x)+i.y*Math.abs(Mu.y)+i.z*Math.abs(Mu.z),l=e.dot(Mu),u=n.dot(Mu),c=r.dot(Mu);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const Lj=new rs,Ad=new K,y6=new K;let Cs=class{constructor(e=new K,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Lj.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ad.subVectors(e,this.center);const n=Ad.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Ad,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(y6.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ad.copy(e.center).add(y6)),this.expandByPoint(Ad.copy(e.center).sub(y6))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const ya=new K,x6=new K,D2=new K,hl=new K,w6=new K,B2=new K,S6=new K;class Ph{constructor(e=new K,n=new K(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ya)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ya.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ya.copy(this.origin).addScaledVector(this.direction,n),ya.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){x6.copy(e).add(n).multiplyScalar(.5),D2.copy(n).sub(e).normalize(),hl.copy(this.origin).sub(x6);const s=e.distanceTo(n)*.5,o=-this.direction.dot(D2),a=hl.dot(this.direction),l=-hl.dot(D2),u=hl.lengthSq(),c=Math.abs(1-o*o);let f,d,m,g;if(c>0)if(f=o*l-a,d=o*a-l,g=s*c,f>=0)if(d>=-g)if(d<=g){const v=1/c;f*=v,d*=v,m=f*(f+o*d+2*a)+d*(o*f+d+2*l)+u}else d=s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d=-s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+u):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(x6).addScaledVector(D2,d),m}intersectSphere(e,n){ya.subVectors(e.center,this.origin);const r=ya.dot(this.direction),i=ya.dot(ya)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(s=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ya)!==null}intersectTriangle(e,n,r,i,s){w6.subVectors(n,e),B2.subVectors(r,e),S6.crossVectors(w6,B2);let o=this.direction.dot(S6),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;hl.subVectors(this.origin,e);const l=a*this.direction.dot(B2.crossVectors(hl,B2));if(l<0)return null;const u=a*this.direction.dot(w6.cross(hl));if(u<0||l+u>o)return null;const c=-a*hl.dot(S6);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(){ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,u,c,f,d,m,g,v,y){const S=this.elements;return S[0]=e,S[4]=n,S[8]=r,S[12]=i,S[1]=s,S[5]=o,S[9]=a,S[13]=l,S[2]=u,S[6]=c,S[10]=f,S[14]=d,S[3]=m,S[7]=g,S[11]=v,S[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Yc.setFromMatrixColumn(e,0).length(),s=1/Yc.setFromMatrixColumn(e,1).length(),o=1/Yc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*c,m=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+g*u,n[5]=d-v*u,n[9]=-a*l,n[2]=v-d*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const d=l*c,m=l*f,g=u*c,v=u*f;n[0]=d+v*a,n[4]=g*a-m,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=m*a-g,n[6]=v+d*a,n[10]=o*l}else if(e.order==="ZXY"){const d=l*c,m=l*f,g=u*c,v=u*f;n[0]=d-v*a,n[4]=-o*f,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*c,n[9]=v-d*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const d=o*c,m=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=g*u-m,n[8]=d*u+v,n[1]=l*f,n[5]=v*u+d,n[9]=m*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=v-d*f,n[8]=g*f+m,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*f+g,n[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,m=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=d*f+v,n[5]=o*c,n[9]=m*f-g,n[2]=g*f-m,n[6]=a*c,n[10]=v*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Fj,e,kj)}lookAt(e,n,r){const i=this.elements;return hs.subVectors(e,n),hs.lengthSq()===0&&(hs.z=1),hs.normalize(),dl.crossVectors(r,hs),dl.lengthSq()===0&&(Math.abs(r.z)===1?hs.x+=1e-4:hs.z+=1e-4,hs.normalize(),dl.crossVectors(r,hs)),dl.normalize(),I2.crossVectors(hs,dl),i[0]=dl.x,i[4]=I2.x,i[8]=hs.x,i[1]=dl.y,i[5]=I2.y,i[9]=hs.y,i[2]=dl.z,i[6]=I2.z,i[10]=hs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],m=r[13],g=r[2],v=r[6],y=r[10],S=r[14],w=r[3],x=r[7],M=r[11],E=r[15],C=i[0],P=i[4],T=i[8],R=i[12],B=i[1],N=i[5],G=i[9],J=i[13],D=i[2],U=i[6],W=i[10],ie=i[14],L=i[3],O=i[7],V=i[11],j=i[15];return s[0]=o*C+a*B+l*D+u*L,s[4]=o*P+a*N+l*U+u*O,s[8]=o*T+a*G+l*W+u*V,s[12]=o*R+a*J+l*ie+u*j,s[1]=c*C+f*B+d*D+m*L,s[5]=c*P+f*N+d*U+m*O,s[9]=c*T+f*G+d*W+m*V,s[13]=c*R+f*J+d*ie+m*j,s[2]=g*C+v*B+y*D+S*L,s[6]=g*P+v*N+y*U+S*O,s[10]=g*T+v*G+y*W+S*V,s[14]=g*R+v*J+y*ie+S*j,s[3]=w*C+x*B+M*D+E*L,s[7]=w*P+x*N+M*U+E*O,s[11]=w*T+x*G+M*W+E*V,s[15]=w*R+x*J+M*ie+E*j,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],m=e[14],g=e[3],v=e[7],y=e[11],S=e[15];return g*(+s*l*f-i*u*f-s*a*d+r*u*d+i*a*m-r*l*m)+v*(+n*l*m-n*u*d+s*o*d-i*o*m+i*u*c-s*l*c)+y*(+n*u*f-n*a*m-s*o*f+r*o*m+s*a*c-r*u*c)+S*(-i*a*c-n*l*f+n*a*d+i*o*f-r*o*d+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],m=e[11],g=e[12],v=e[13],y=e[14],S=e[15],w=f*y*u-v*d*u+v*l*m-a*y*m-f*l*S+a*d*S,x=g*d*u-c*y*u-g*l*m+o*y*m+c*l*S-o*d*S,M=c*v*u-g*f*u+g*a*m-o*v*m-c*a*S+o*f*S,E=g*f*l-c*v*l-g*a*d+o*v*d+c*a*y-o*f*y,C=n*w+r*x+i*M+s*E;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/C;return e[0]=w*P,e[1]=(v*d*s-f*y*s-v*i*m+r*y*m+f*i*S-r*d*S)*P,e[2]=(a*y*s-v*l*s+v*i*u-r*y*u-a*i*S+r*l*S)*P,e[3]=(f*l*s-a*d*s-f*i*u+r*d*u+a*i*m-r*l*m)*P,e[4]=x*P,e[5]=(c*y*s-g*d*s+g*i*m-n*y*m-c*i*S+n*d*S)*P,e[6]=(g*l*s-o*y*s-g*i*u+n*y*u+o*i*S-n*l*S)*P,e[7]=(o*d*s-c*l*s+c*i*u-n*d*u-o*i*m+n*l*m)*P,e[8]=M*P,e[9]=(g*f*s-c*v*s-g*r*m+n*v*m+c*r*S-n*f*S)*P,e[10]=(o*v*s-g*a*s+g*r*u-n*v*u-o*r*S+n*a*S)*P,e[11]=(c*a*s-o*f*s-c*r*u+n*f*u+o*r*m-n*a*m)*P,e[12]=E*P,e[13]=(c*v*i-g*f*i+g*r*d-n*v*d-c*r*y+n*f*y)*P,e[14]=(g*a*i-o*v*i-g*r*l+n*v*l+o*r*y-n*a*y)*P,e[15]=(o*f*i-c*a*i+c*r*l-n*f*l-o*r*d+n*a*d)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,d=s*u,m=s*c,g=s*f,v=o*c,y=o*f,S=a*f,w=l*u,x=l*c,M=l*f,E=r.x,C=r.y,P=r.z;return i[0]=(1-(v+S))*E,i[1]=(m+M)*E,i[2]=(g-x)*E,i[3]=0,i[4]=(m-M)*C,i[5]=(1-(d+S))*C,i[6]=(y+w)*C,i[7]=0,i[8]=(g+x)*P,i[9]=(y-w)*P,i[10]=(1-(d+v))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Yc.set(i[0],i[1],i[2]).length();const o=Yc.set(i[4],i[5],i[6]).length(),a=Yc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ro.copy(this);const u=1/s,c=1/o,f=1/a;return ro.elements[0]*=u,ro.elements[1]*=u,ro.elements[2]*=u,ro.elements[4]*=c,ro.elements[5]*=c,ro.elements[6]*=c,ro.elements[8]*=f,ro.elements[9]*=f,ro.elements[10]*=f,n.setFromRotationMatrix(ro),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),c=(n+e)/(n-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(o-s),f=(n+e)*l,d=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Yc=new K,ro=new ht,Fj=new K(0,0,0),kj=new K(1,1,1),dl=new K,I2=new K,hs=new K,fA=new ht,hA=new or;class Rh{constructor(e=0,n=0,r=0,i=Rh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],d=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(_r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-_r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(_r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-_r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(_r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-_r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return fA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(fA,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return hA.setFromEuler(this),this.setFromQuaternion(hA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Rh.DEFAULT_ORDER="XYZ";class rc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Uj=0;const dA=new K,Kc=new or,xa=new ht,L2=new K,Ed=new K,Nj=new K,Oj=new or,pA=new K(1,0,0),mA=new K(0,1,0),gA=new K(0,0,1),zj={type:"added"},vA={type:"removed"};class pn extends Ts{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Uj++}),this.uuid=ws(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pn.DEFAULT_UP.clone();const e=new K,n=new Rh,r=new or,i=new K(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ht},normalMatrix:{value:new Fr}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new rc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Kc.setFromAxisAngle(e,n),this.quaternion.multiply(Kc),this}rotateOnWorldAxis(e,n){return Kc.setFromAxisAngle(e,n),this.quaternion.premultiply(Kc),this}rotateX(e){return this.rotateOnAxis(pA,e)}rotateY(e){return this.rotateOnAxis(mA,e)}rotateZ(e){return this.rotateOnAxis(gA,e)}translateOnAxis(e,n){return dA.copy(e).applyQuaternion(this.quaternion),this.position.add(dA.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(pA,e)}translateY(e){return this.translateOnAxis(mA,e)}translateZ(e){return this.translateOnAxis(gA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xa.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?L2.copy(e):L2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ed.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xa.lookAt(Ed,L2,this.up):xa.lookAt(L2,Ed,this.up),this.quaternion.setFromRotationMatrix(xa),i&&(xa.extractRotation(i.matrixWorld),Kc.setFromRotationMatrix(xa),this.quaternion.premultiply(Kc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zj)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(vA)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(vA)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),xa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xa.multiply(e.parent.matrixWorld)),e.applyMatrix4(xa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ed,e,Nj),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ed,Oj,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),d=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}pn.DEFAULT_UP=new K(0,1,0);pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const io=new K,wa=new K,_6=new K,Sa=new K,Zc=new K,Qc=new K,yA=new K,M6=new K,A6=new K,E6=new K;class Hs{constructor(e=new K,n=new K,r=new K){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),io.subVectors(e,n),i.cross(io);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){io.subVectors(i,n),wa.subVectors(r,n),_6.subVectors(e,n);const o=io.dot(io),a=io.dot(wa),l=io.dot(_6),u=wa.dot(wa),c=wa.dot(_6),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,m=(u*l-a*c)*d,g=(o*c-a*l)*d;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Sa),Sa.x>=0&&Sa.y>=0&&Sa.x+Sa.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Sa),l.set(0,0),l.addScaledVector(s,Sa.x),l.addScaledVector(o,Sa.y),l.addScaledVector(a,Sa.z),l}static isFrontFacing(e,n,r,i){return io.subVectors(r,n),wa.subVectors(e,n),io.cross(wa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return io.subVectors(this.c,this.b),wa.subVectors(this.a,this.b),io.cross(wa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Hs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Hs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Hs.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Hs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Hs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Zc.subVectors(i,r),Qc.subVectors(s,r),M6.subVectors(e,r);const l=Zc.dot(M6),u=Qc.dot(M6);if(l<=0&&u<=0)return n.copy(r);A6.subVectors(e,i);const c=Zc.dot(A6),f=Qc.dot(A6);if(c>=0&&f<=c)return n.copy(i);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Zc,o);E6.subVectors(e,s);const m=Zc.dot(E6),g=Qc.dot(E6);if(g>=0&&m<=g)return n.copy(s);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(Qc,a);const y=c*g-m*f;if(y<=0&&f-c>=0&&m-g>=0)return yA.subVectors(s,i),a=(f-c)/(f-c+(m-g)),n.copy(i).addScaledVector(yA,a);const S=1/(y+v+d);return o=v*S,a=d*S,n.copy(r).addScaledVector(Zc,o).addScaledVector(Qc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Gj=0;class pr extends Ts{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Gj++}),this.uuid=ws(),this.name="",this.type="Material",this.blending=ec,this.side=Zs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Gx,this.blendDst=Hx,this.blendEquation=Nu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=o0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=a1,this.stencilZFail=a1,this.stencilZPass=a1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ec&&(r.blending=this.blending),this.side!==Zs&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const sB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},so={h:0,s:0,l:0},F2={h:0,s:0,l:0};function T6(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class et{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=co){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,pi.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=pi.workingColorSpace){return this.r=e,this.g=n,this.b=r,pi.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=pi.workingColorSpace){if(e=$x(e,1),n=_r(n,0,1),r=_r(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=T6(o,s,e+1/3),this.g=T6(o,s,e),this.b=T6(o,s,e-1/3)}return pi.toWorkingColorSpace(this,i),this}setStyle(e,n=co){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,pi.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,pi.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,pi.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,pi.toWorkingColorSpace(this,n),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=co){const r=sB[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jf(e.r),this.g=Jf(e.g),this.b=Jf(e.b),this}copyLinearToSRGB(e){return this.r=p6(e.r),this.g=p6(e.g),this.b=p6(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=co){return pi.fromWorkingColorSpace(di.copy(this),e),_r(di.r*255,0,255)<<16^_r(di.g*255,0,255)<<8^_r(di.b*255,0,255)<<0}getHexString(e=co){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=pi.workingColorSpace){pi.fromWorkingColorSpace(di.copy(this),n);const r=di.r,i=di.g,s=di.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=pi.workingColorSpace){return pi.fromWorkingColorSpace(di.copy(this),n),e.r=di.r,e.g=di.g,e.b=di.b,e}getStyle(e=co){pi.fromWorkingColorSpace(di.copy(this),e);const n=di.r,r=di.g,i=di.b;return e!==co?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${n*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,n,r){return this.getHSL(so),so.h+=e,so.s+=n,so.l+=r,this.setHSL(so.h,so.s,so.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(so),e.getHSL(F2);const r=_p(so.h,F2.h,n),i=_p(so.s,F2.s,n),s=_p(so.l,F2.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const di=new et;et.NAMES=sB;class Zi extends pr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=F0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Er=new K,k2=new ve;class ln{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=f0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)k2.fromBufferAttribute(this,n),k2.applyMatrix3(e),this.setXY(n,k2.x,k2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix3(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyMatrix4(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.applyNormalMatrix(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Er.fromBufferAttribute(this,n),Er.transformDirection(e),this.setXYZ(n,Er.x,Er.y,Er.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Fa(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Fa(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Fa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Fa(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==f0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Hj extends ln{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Vj extends ln{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Wj extends ln{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class jj extends ln{constructor(e,n,r){super(new Int16Array(e),n,r)}}class n7 extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Xj extends ln{constructor(e,n,r){super(new Int32Array(e),n,r)}}class r7 extends ln{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Jj extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class St extends ln{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Yj extends ln{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Kj=0;const ks=new ht,C6=new pn,qc=new K,ds=new rs,Td=new rs,Wr=new K;class Vt extends Ts{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Kj++}),this.uuid=ws(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iB(e)?r7:n7)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Fr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ks.makeRotationFromQuaternion(e),this.applyMatrix4(ks),this}rotateX(e){return ks.makeRotationX(e),this.applyMatrix4(ks),this}rotateY(e){return ks.makeRotationY(e),this.applyMatrix4(ks),this}rotateZ(e){return ks.makeRotationZ(e),this.applyMatrix4(ks),this}translate(e,n,r){return ks.makeTranslation(e,n,r),this.applyMatrix4(ks),this}scale(e,n,r){return ks.makeScale(e,n,r),this.applyMatrix4(ks),this}lookAt(e){return C6.lookAt(e),C6.updateMatrix(),this.applyMatrix4(C6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(qc).negate(),this.translate(qc.x,qc.y,qc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new St(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];ds.setFromBufferAttribute(s),this.morphTargetsRelative?(Wr.addVectors(this.boundingBox.min,ds.min),this.boundingBox.expandByPoint(Wr),Wr.addVectors(this.boundingBox.max,ds.max),this.boundingBox.expandByPoint(Wr)):(this.boundingBox.expandByPoint(ds.min),this.boundingBox.expandByPoint(ds.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new K,1/0);return}if(e){const r=this.boundingSphere.center;if(ds.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Td.setFromBufferAttribute(a),this.morphTargetsRelative?(Wr.addVectors(ds.min,Td.min),ds.expandByPoint(Wr),Wr.addVectors(ds.max,Td.max),ds.expandByPoint(Wr)):(ds.expandByPoint(Td.min),ds.expandByPoint(Td.max))}ds.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Wr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Wr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Wr.fromBufferAttribute(a,u),l&&(qc.fromBufferAttribute(e,u),Wr.add(qc)),i=Math.max(i,r.distanceToSquared(Wr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ln(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let B=0;B<a;B++)u[B]=new K,c[B]=new K;const f=new K,d=new K,m=new K,g=new ve,v=new ve,y=new ve,S=new K,w=new K;function x(B,N,G){f.fromArray(i,B*3),d.fromArray(i,N*3),m.fromArray(i,G*3),g.fromArray(o,B*2),v.fromArray(o,N*2),y.fromArray(o,G*2),d.sub(f),m.sub(f),v.sub(g),y.sub(g);const J=1/(v.x*y.y-y.x*v.y);isFinite(J)&&(S.copy(d).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(J),w.copy(m).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(J),u[B].add(S),u[N].add(S),u[G].add(S),c[B].add(w),c[N].add(w),c[G].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let B=0,N=M.length;B<N;++B){const G=M[B],J=G.start,D=G.count;for(let U=J,W=J+D;U<W;U+=3)x(r[U+0],r[U+1],r[U+2])}const E=new K,C=new K,P=new K,T=new K;function R(B){P.fromArray(s,B*3),T.copy(P);const N=u[B];E.copy(N),E.sub(P.multiplyScalar(P.dot(N))).normalize(),C.crossVectors(T,N);const J=C.dot(c[B])<0?-1:1;l[B*4]=E.x,l[B*4+1]=E.y,l[B*4+2]=E.z,l[B*4+3]=J}for(let B=0,N=M.length;B<N;++B){const G=M[B],J=G.start,D=G.count;for(let U=J,W=J+D;U<W;U+=3)R(r[U+0]),R(r[U+1]),R(r[U+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ln(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new K,s=new K,o=new K,a=new K,l=new K,u=new K,c=new K,f=new K;if(e)for(let d=0,m=e.count;d<m;d+=3){const g=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let d=0,m=n.count;d<m;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Wr.fromBufferAttribute(e,n),Wr.normalize(),e.setXYZ(n,Wr.x,Wr.y,Wr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,d=new u.constructor(l.length*c);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*c;for(let S=0;S<c;S++)d[g++]=u[m++]}return new ln(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Vt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const d=u[c],m=e(d,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let d=0,m=f.length;d<m;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const xA=new ht,zo=new Ph,U2=new Cs,wA=new K,Cd=new K,bd=new K,Pd=new K,b6=new K,N2=new K,O2=new ve,z2=new ve,G2=new ve,P6=new K,H2=new K;class Un extends pn{constructor(e=new Vt,n=new Zi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){N2.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(b6.fromBufferAttribute(f,e),o?N2.addScaledVector(b6,c):N2.addScaledVector(b6.sub(n),c))}n.add(N2)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),U2.copy(r.boundingSphere),U2.applyMatrix4(s),zo.copy(e.ray).recast(e.near),U2.containsPoint(zo.origin)===!1&&(zo.intersectSphere(U2,wA)===null||zo.origin.distanceToSquared(wA)>(e.far-e.near)**2))||(xA.copy(s).invert(),zo.copy(e.ray).applyMatrix4(xA),r.boundingBox!==null&&zo.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,f=r.groups,d=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],S=Math.max(v.start,d.start),w=Math.min(a.count,Math.min(v.start+v.count,d.start+d.count));for(let x=S,M=w;x<M;x+=3){const E=a.getX(x),C=a.getX(x+1),P=a.getX(x+2);o=V2(this,y,e,zo,u,c,E,C,P),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const m=Math.max(0,d.start),g=Math.min(a.count,d.start+d.count);for(let v=m,y=g;v<y;v+=3){const S=a.getX(v),w=a.getX(v+1),x=a.getX(v+2);o=V2(this,i,e,zo,u,c,S,w,x),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],S=Math.max(v.start,d.start),w=Math.min(l.count,Math.min(v.start+v.count,d.start+d.count));for(let x=S,M=w;x<M;x+=3){const E=x,C=x+1,P=x+2;o=V2(this,y,e,zo,u,c,E,C,P),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=v.materialIndex,n.push(o))}}else{const m=Math.max(0,d.start),g=Math.min(l.count,d.start+d.count);for(let v=m,y=g;v<y;v+=3){const S=v,w=v+1,x=v+2;o=V2(this,i,e,zo,u,c,S,w,x),o&&(o.faceIndex=Math.floor(v/3),n.push(o))}}}}function Zj(t,e,n,r,i,s,o,a){let l;if(e.side===br?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Zs,a),l===null)return null;H2.copy(a),H2.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(H2);return u<n.near||u>n.far?null:{distance:u,point:H2.clone(),object:t}}function V2(t,e,n,r,i,s,o,a,l){t.getVertexPosition(o,Cd),t.getVertexPosition(a,bd),t.getVertexPosition(l,Pd);const u=Zj(t,e,n,r,Cd,bd,Pd,P6);if(u){i&&(O2.fromBufferAttribute(i,o),z2.fromBufferAttribute(i,a),G2.fromBufferAttribute(i,l),u.uv=Hs.getUV(P6,Cd,bd,Pd,O2,z2,G2,new ve)),s&&(O2.fromBufferAttribute(s,o),z2.fromBufferAttribute(s,a),G2.fromBufferAttribute(s,l),u.uv2=Hs.getUV(P6,Cd,bd,Pd,O2,z2,G2,new ve));const c={a:o,b:a,c:l,normal:new K,materialIndex:0};Hs.getNormal(Cd,bd,Pd,c.normal),u.face=c}return u}class nu extends Vt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let d=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new St(u,3)),this.setAttribute("normal",new St(c,3)),this.setAttribute("uv",new St(f,2));function g(v,y,S,w,x,M,E,C,P,T,R){const B=M/P,N=E/T,G=M/2,J=E/2,D=C/2,U=P+1,W=T+1;let ie=0,L=0;const O=new K;for(let V=0;V<W;V++){const j=V*N-J;for(let k=0;k<U;k++){const q=k*B-G;O[v]=q*w,O[y]=j*x,O[S]=D,u.push(O.x,O.y,O.z),O[v]=0,O[y]=0,O[S]=C>0?1:-1,c.push(O.x,O.y,O.z),f.push(k/P),f.push(1-V/T),ie+=1}}for(let V=0;V<T;V++)for(let j=0;j<P;j++){const k=d+j+U*V,q=d+j+U*(V+1),ee=d+(j+1)+U*(V+1),Y=d+(j+1)+U*V;l.push(k,q,Y),l.push(q,ee,Y),L+=6}a.addGroup(m,L,R),m+=L,d+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Pi(t){const e={};for(let n=0;n<t.length;n++){const r=gh(t[n]);for(const i in r)e[i]=r[i]}return e}function Qj(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function oB(t){return t.getRenderTarget()===null&&t.outputEncoding===En?co:mh}const gc={clone:gh,merge:Pi};var qj=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$j=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ht extends pr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qj,this.fragmentShader=$j,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gh(e.uniforms),this.uniformsGroups=Qj(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Dh extends pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let In=class extends Dh{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=h0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(tc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return h0*2*Math.atan(Math.tan(tc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(tc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const $c=-90,ef=1;class i7 extends pn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new In($c,ef,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new In($c,ef,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new In($c,ef,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new In($c,ef,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new In($c,ef,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new In($c,ef,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Mo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class U0 extends bn{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:ja,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class N0 extends $t{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new U0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:gt}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new nu(5,5,5),s=new Ht({name:"CubemapFromEquirect",uniforms:gh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:br,blending:Jn});s.uniforms.tEquirect.value=n;const o=new Un(i,s),a=n.minFilter;return n.minFilter===na&&(n.minFilter=gt),new i7(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const R6=new K,eX=new K,tX=new Fr;class Ca{constructor(e=new K(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=R6.subVectors(r,n).cross(eX.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(R6),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||tX.getNormalMatrix(e),i=this.coplanarPoint(R6).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tf=new Cs,W2=new K;class gv{constructor(e=new Ca,n=new Ca,r=new Ca,i=new Ca,s=new Ca,o=new Ca){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],d=r[8],m=r[9],g=r[10],v=r[11],y=r[12],S=r[13],w=r[14],x=r[15];return n[0].setComponents(a-i,f-l,v-d,x-y).normalize(),n[1].setComponents(a+i,f+l,v+d,x+y).normalize(),n[2].setComponents(a+s,f+u,v+m,x+S).normalize(),n[3].setComponents(a-s,f-u,v-m,x-S).normalize(),n[4].setComponents(a-o,f-c,v-g,x-w).normalize(),n[5].setComponents(a+o,f+c,v+g,x+w).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),tf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(tf)}intersectsSprite(e){return tf.center.set(0,0,0),tf.radius=.7071067811865476,tf.applyMatrix4(e.matrixWorld),this.intersectsSphere(tf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(W2.x=i.normal.x>0?e.max.x:e.min.x,W2.y=i.normal.y>0?e.max.y:e.min.y,W2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(W2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function aB(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function nX(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,d=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,f,d),u.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const d=c.array,m=c.updateRange;t.bindBuffer(f,u),m.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):t.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class oa extends Vt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,d=n/l,m=[],g=[],v=[],y=[];for(let S=0;S<c;S++){const w=S*d-o;for(let x=0;x<u;x++){const M=x*f-s;g.push(M,-w,0),v.push(0,0,1),y.push(x/a),y.push(1-S/l)}}for(let S=0;S<l;S++)for(let w=0;w<a;w++){const x=w+u*S,M=w+u*(S+1),E=w+1+u*(S+1),C=w+1+u*S;m.push(x,M,C),m.push(M,E,C)}this.setIndex(m),this.setAttribute("position",new St(g,3)),this.setAttribute("normal",new St(v,3)),this.setAttribute("uv",new St(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oa(e.width,e.height,e.widthSegments,e.heightSegments)}}var rX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,iX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sX=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,oX=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lX=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uX="vec3 transformed = vec3( position );",cX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fX=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,hX=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pX=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,mX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vX=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yX=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,wX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,SX=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,_X=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,MX=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,AX=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,EX=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,TX=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,CX=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,bX=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,PX="gl_FragColor = linearToOutputTexel( gl_FragColor );",RX=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,DX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,BX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,IX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,FX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,UX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,NX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,OX=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,GX=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,HX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,VX=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,WX=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jX=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XX=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,JX=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,YX=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,KX=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ZX=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,QX=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,qX=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$X=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eJ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,nJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,sJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,oJ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,aJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cJ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fJ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,hJ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dJ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,pJ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,mJ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,gJ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,vJ=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SJ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,_J=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,MJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,AJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,EJ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,TJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,CJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,bJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,PJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,RJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,DJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,BJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,IJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,LJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,FJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,kJ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,UJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,NJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,OJ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,zJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,GJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,HJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,VJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,WJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,jJ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,XJ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,JJ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,YJ=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,KJ=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,ZJ=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,QJ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,qJ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,$J=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,eY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tY=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nY=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,rY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iY=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oY=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aY=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,uY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,fY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,hY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,dY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pY=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mY=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vY=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yY=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SY=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_Y=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,MY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EY=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TY=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CY=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bY=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,RY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DY=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,IY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,bt={alphamap_fragment:rX,alphamap_pars_fragment:iX,alphatest_fragment:sX,alphatest_pars_fragment:oX,aomap_fragment:aX,aomap_pars_fragment:lX,begin_vertex:uX,beginnormal_vertex:cX,bsdfs:fX,iridescence_fragment:hX,bumpmap_pars_fragment:dX,clipping_planes_fragment:pX,clipping_planes_pars_fragment:mX,clipping_planes_pars_vertex:gX,clipping_planes_vertex:vX,color_fragment:yX,color_pars_fragment:xX,color_pars_vertex:wX,color_vertex:SX,common:_X,cube_uv_reflection_fragment:MX,defaultnormal_vertex:AX,displacementmap_pars_vertex:EX,displacementmap_vertex:TX,emissivemap_fragment:CX,emissivemap_pars_fragment:bX,encodings_fragment:PX,encodings_pars_fragment:RX,envmap_fragment:DX,envmap_common_pars_fragment:BX,envmap_pars_fragment:IX,envmap_pars_vertex:LX,envmap_physical_pars_fragment:XX,envmap_vertex:FX,fog_vertex:kX,fog_pars_vertex:UX,fog_fragment:NX,fog_pars_fragment:OX,gradientmap_pars_fragment:zX,lightmap_fragment:GX,lightmap_pars_fragment:HX,lights_lambert_fragment:VX,lights_lambert_pars_fragment:WX,lights_pars_begin:jX,lights_toon_fragment:JX,lights_toon_pars_fragment:YX,lights_phong_fragment:KX,lights_phong_pars_fragment:ZX,lights_physical_fragment:QX,lights_physical_pars_fragment:qX,lights_fragment_begin:$X,lights_fragment_maps:eJ,lights_fragment_end:tJ,logdepthbuf_fragment:nJ,logdepthbuf_pars_fragment:rJ,logdepthbuf_pars_vertex:iJ,logdepthbuf_vertex:sJ,map_fragment:oJ,map_pars_fragment:aJ,map_particle_fragment:lJ,map_particle_pars_fragment:uJ,metalnessmap_fragment:cJ,metalnessmap_pars_fragment:fJ,morphcolor_vertex:hJ,morphnormal_vertex:dJ,morphtarget_pars_vertex:pJ,morphtarget_vertex:mJ,normal_fragment_begin:gJ,normal_fragment_maps:vJ,normal_pars_fragment:yJ,normal_pars_vertex:xJ,normal_vertex:wJ,normalmap_pars_fragment:SJ,clearcoat_normal_fragment_begin:_J,clearcoat_normal_fragment_maps:MJ,clearcoat_pars_fragment:AJ,iridescence_pars_fragment:EJ,output_fragment:TJ,packing:CJ,premultiplied_alpha_fragment:bJ,project_vertex:PJ,dithering_fragment:RJ,dithering_pars_fragment:DJ,roughnessmap_fragment:BJ,roughnessmap_pars_fragment:IJ,shadowmap_pars_fragment:LJ,shadowmap_pars_vertex:FJ,shadowmap_vertex:kJ,shadowmask_pars_fragment:UJ,skinbase_vertex:NJ,skinning_pars_vertex:OJ,skinning_vertex:zJ,skinnormal_vertex:GJ,specularmap_fragment:HJ,specularmap_pars_fragment:VJ,tonemapping_fragment:WJ,tonemapping_pars_fragment:jJ,transmission_fragment:XJ,transmission_pars_fragment:JJ,uv_pars_fragment:YJ,uv_pars_vertex:KJ,uv_vertex:ZJ,uv2_pars_fragment:QJ,uv2_pars_vertex:qJ,uv2_vertex:$J,worldpos_vertex:eY,background_vert:tY,background_frag:nY,backgroundCube_vert:rY,backgroundCube_frag:iY,cube_vert:sY,cube_frag:oY,depth_vert:aY,depth_frag:lY,distanceRGBA_vert:uY,distanceRGBA_frag:cY,equirect_vert:fY,equirect_frag:hY,linedashed_vert:dY,linedashed_frag:pY,meshbasic_vert:mY,meshbasic_frag:gY,meshlambert_vert:vY,meshlambert_frag:yY,meshmatcap_vert:xY,meshmatcap_frag:wY,meshnormal_vert:SY,meshnormal_frag:_Y,meshphong_vert:MY,meshphong_frag:AY,meshphysical_vert:EY,meshphysical_frag:TY,meshtoon_vert:CY,meshtoon_frag:bY,points_vert:PY,points_frag:RY,shadow_vert:DY,shadow_frag:BY,sprite_vert:IY,sprite_frag:LY},ct={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Fr},uv2Transform:{value:new Fr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fr}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fr}}},ho={basic:{uniforms:Pi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:bt.meshbasic_vert,fragmentShader:bt.meshbasic_frag},lambert:{uniforms:Pi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new et(0)}}]),vertexShader:bt.meshlambert_vert,fragmentShader:bt.meshlambert_frag},phong:{uniforms:Pi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:bt.meshphong_vert,fragmentShader:bt.meshphong_frag},standard:{uniforms:Pi([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag},toon:{uniforms:Pi([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new et(0)}}]),vertexShader:bt.meshtoon_vert,fragmentShader:bt.meshtoon_frag},matcap:{uniforms:Pi([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:bt.meshmatcap_vert,fragmentShader:bt.meshmatcap_frag},points:{uniforms:Pi([ct.points,ct.fog]),vertexShader:bt.points_vert,fragmentShader:bt.points_frag},dashed:{uniforms:Pi([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bt.linedashed_vert,fragmentShader:bt.linedashed_frag},depth:{uniforms:Pi([ct.common,ct.displacementmap]),vertexShader:bt.depth_vert,fragmentShader:bt.depth_frag},normal:{uniforms:Pi([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:bt.meshnormal_vert,fragmentShader:bt.meshnormal_frag},sprite:{uniforms:Pi([ct.sprite,ct.fog]),vertexShader:bt.sprite_vert,fragmentShader:bt.sprite_frag},background:{uniforms:{uvTransform:{value:new Fr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bt.background_vert,fragmentShader:bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:bt.backgroundCube_vert,fragmentShader:bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bt.cube_vert,fragmentShader:bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bt.equirect_vert,fragmentShader:bt.equirect_frag},distanceRGBA:{uniforms:Pi([ct.common,ct.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bt.distanceRGBA_vert,fragmentShader:bt.distanceRGBA_frag},shadow:{uniforms:Pi([ct.lights,ct.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:bt.shadow_vert,fragmentShader:bt.shadow_frag}};ho.physical={uniforms:Pi([ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ve(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag};const j2={r:0,b:0,g:0};function FY(t,e,n,r,i,s,o){const a=new et(0);let l=s===!0?0:1,u,c,f=null,d=0,m=null;function g(y,S){let w=!1,x=S.isScene===!0?S.background:null;x&&x.isTexture&&(x=(S.backgroundBlurriness>0?n:e).get(x));const M=t.xr,E=M.getSession&&M.getSession();E&&E.environmentBlendMode==="additive"&&(x=null),x===null?v(a,l):x&&x.isColor&&(v(x,1),w=!0),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===bh)?(c===void 0&&(c=new Un(new nu(1,1,1),new Ht({name:"BackgroundCubeMaterial",uniforms:gh(ho.backgroundCube.uniforms),vertexShader:ho.backgroundCube.vertexShader,fragmentShader:ho.backgroundCube.fragmentShader,side:br,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(C,P,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=x,c.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=x.encoding!==En,(f!==x||d!==x.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=x,d=x.version,m=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):x&&x.isTexture&&(u===void 0&&(u=new Un(new oa(2,2),new Ht({name:"BackgroundMaterial",uniforms:gh(ho.background.uniforms),vertexShader:ho.background.vertexShader,fragmentShader:ho.background.fragmentShader,side:Zs,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=x,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.toneMapped=x.encoding!==En,x.matrixAutoUpdate===!0&&x.updateMatrix(),u.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||d!==x.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=x,d=x.version,m=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,S){y.getRGB(j2,oB(t)),r.buffers.color.setClear(j2.r,j2.g,j2.b,S,o)}return{getClearColor:function(){return a},setClearColor:function(y,S=1){a.set(y),l=S,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function kY(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,c=!1;function f(D,U,W,ie,L){let O=!1;if(o){const V=v(ie,W,U);u!==V&&(u=V,m(u.object)),O=S(D,ie,W,L),O&&w(D,ie,W,L)}else{const V=U.wireframe===!0;(u.geometry!==ie.id||u.program!==W.id||u.wireframe!==V)&&(u.geometry=ie.id,u.program=W.id,u.wireframe=V,O=!0)}L!==null&&n.update(L,34963),(O||c)&&(c=!1,T(D,U,W,ie),L!==null&&t.bindBuffer(34963,n.get(L).buffer))}function d(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(D){return r.isWebGL2?t.bindVertexArray(D):s.bindVertexArrayOES(D)}function g(D){return r.isWebGL2?t.deleteVertexArray(D):s.deleteVertexArrayOES(D)}function v(D,U,W){const ie=W.wireframe===!0;let L=a[D.id];L===void 0&&(L={},a[D.id]=L);let O=L[U.id];O===void 0&&(O={},L[U.id]=O);let V=O[ie];return V===void 0&&(V=y(d()),O[ie]=V),V}function y(D){const U=[],W=[],ie=[];for(let L=0;L<i;L++)U[L]=0,W[L]=0,ie[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:W,attributeDivisors:ie,object:D,attributes:{},index:null}}function S(D,U,W,ie){const L=u.attributes,O=U.attributes;let V=0;const j=W.getAttributes();for(const k in j)if(j[k].location>=0){const ee=L[k];let Y=O[k];if(Y===void 0&&(k==="instanceMatrix"&&D.instanceMatrix&&(Y=D.instanceMatrix),k==="instanceColor"&&D.instanceColor&&(Y=D.instanceColor)),ee===void 0||ee.attribute!==Y||Y&&ee.data!==Y.data)return!0;V++}return u.attributesNum!==V||u.index!==ie}function w(D,U,W,ie){const L={},O=U.attributes;let V=0;const j=W.getAttributes();for(const k in j)if(j[k].location>=0){let ee=O[k];ee===void 0&&(k==="instanceMatrix"&&D.instanceMatrix&&(ee=D.instanceMatrix),k==="instanceColor"&&D.instanceColor&&(ee=D.instanceColor));const Y={};Y.attribute=ee,ee&&ee.data&&(Y.data=ee.data),L[k]=Y,V++}u.attributes=L,u.attributesNum=V,u.index=ie}function x(){const D=u.newAttributes;for(let U=0,W=D.length;U<W;U++)D[U]=0}function M(D){E(D,0)}function E(D,U){const W=u.newAttributes,ie=u.enabledAttributes,L=u.attributeDivisors;W[D]=1,ie[D]===0&&(t.enableVertexAttribArray(D),ie[D]=1),L[D]!==U&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,U),L[D]=U)}function C(){const D=u.newAttributes,U=u.enabledAttributes;for(let W=0,ie=U.length;W<ie;W++)U[W]!==D[W]&&(t.disableVertexAttribArray(W),U[W]=0)}function P(D,U,W,ie,L,O){r.isWebGL2===!0&&(W===5124||W===5125)?t.vertexAttribIPointer(D,U,W,L,O):t.vertexAttribPointer(D,U,W,ie,L,O)}function T(D,U,W,ie){if(r.isWebGL2===!1&&(D.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const L=ie.attributes,O=W.getAttributes(),V=U.defaultAttributeValues;for(const j in O){const k=O[j];if(k.location>=0){let q=L[j];if(q===void 0&&(j==="instanceMatrix"&&D.instanceMatrix&&(q=D.instanceMatrix),j==="instanceColor"&&D.instanceColor&&(q=D.instanceColor)),q!==void 0){const ee=q.normalized,Y=q.itemSize,Z=n.get(q);if(Z===void 0)continue;const ae=Z.buffer,re=Z.type,me=Z.bytesPerElement;if(q.isInterleavedBufferAttribute){const Ee=q.data,_e=Ee.stride,se=q.offset;if(Ee.isInstancedInterleavedBuffer){for(let xe=0;xe<k.locationSize;xe++)E(k.location+xe,Ee.meshPerAttribute);D.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let xe=0;xe<k.locationSize;xe++)M(k.location+xe);t.bindBuffer(34962,ae);for(let xe=0;xe<k.locationSize;xe++)P(k.location+xe,Y/k.locationSize,re,ee,_e*me,(se+Y/k.locationSize*xe)*me)}else{if(q.isInstancedBufferAttribute){for(let Ee=0;Ee<k.locationSize;Ee++)E(k.location+Ee,q.meshPerAttribute);D.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let Ee=0;Ee<k.locationSize;Ee++)M(k.location+Ee);t.bindBuffer(34962,ae);for(let Ee=0;Ee<k.locationSize;Ee++)P(k.location+Ee,Y/k.locationSize,re,ee,Y*me,Y/k.locationSize*Ee*me)}}else if(V!==void 0){const ee=V[j];if(ee!==void 0)switch(ee.length){case 2:t.vertexAttrib2fv(k.location,ee);break;case 3:t.vertexAttrib3fv(k.location,ee);break;case 4:t.vertexAttrib4fv(k.location,ee);break;default:t.vertexAttrib1fv(k.location,ee)}}}}C()}function R(){G();for(const D in a){const U=a[D];for(const W in U){const ie=U[W];for(const L in ie)g(ie[L].object),delete ie[L];delete U[W]}delete a[D]}}function B(D){if(a[D.id]===void 0)return;const U=a[D.id];for(const W in U){const ie=U[W];for(const L in ie)g(ie[L].object),delete ie[L];delete U[W]}delete a[D.id]}function N(D){for(const U in a){const W=a[U];if(W[D.id]===void 0)continue;const ie=W[D.id];for(const L in ie)g(ie[L].object),delete ie[L];delete W[D.id]}}function G(){J(),c=!0,u!==l&&(u=l,m(u.object))}function J(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:G,resetDefaultState:J,dispose:R,releaseStatesOfGeometry:B,releaseStatesOfProgram:N,initAttributes:x,enableAttribute:M,disableUnusedAttributes:C}}function UY(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,f){if(f===0)return;let d,m;if(i)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,u,c,f),n.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function NY(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(34930),d=t.getParameter(35660),m=t.getParameter(3379),g=t.getParameter(34076),v=t.getParameter(34921),y=t.getParameter(36347),S=t.getParameter(36348),w=t.getParameter(36349),x=d>0,M=o||e.has("OES_texture_float"),E=x&&M,C=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:S,maxFragmentUniforms:w,vertexTextures:x,floatFragmentTextures:M,floatVertexTextures:E,maxSamples:C}}function OY(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Ca,a=new Fr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const m=f.length!==0||d||r!==0||i;return i=d,r=f.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,m){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,S=t.get(f);if(!i||g===null||g.length===0||s&&!y)s?c(null):u();else{const w=s?0:r,x=w*4;let M=S.clippingState||null;l.value=M,M=c(g,d,x,m);for(let E=0;E!==x;++E)M[E]=n[E];S.clippingState=M,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,m,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const S=m+v*4,w=d.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<S)&&(y=new Float32Array(S));for(let x=0,M=m;x!==v;++x,M+=4)o.copy(f[x]).applyMatrix4(w,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function zY(t){let e=new WeakMap;function n(o,a){return a===hh?o.mapping=ja:a===l0&&(o.mapping=Zl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===hh||a===l0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new N0(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class xo extends Dh{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const If=4,SA=[.125,.215,.35,.446,.526,.582],Ou=20,D6=new xo,_A=new et;let B6=null;const Uu=(1+Math.sqrt(5))/2,nf=1/Uu,MA=[new K(1,1,1),new K(-1,1,1),new K(1,1,-1),new K(-1,1,-1),new K(0,Uu,nf),new K(0,Uu,-nf),new K(nf,0,Uu),new K(-nf,0,Uu),new K(Uu,nf,0),new K(-Uu,nf,0)];class xg{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){B6=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=TA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=EA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(B6),e.scissorTest=!1,X2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ja||e.mapping===Zl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),B6=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:gt,minFilter:gt,generateMipmaps:!1,type:Xn,format:zn,encoding:To,depthBuffer:!1},i=AA(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=AA(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=GY(s)),this._blurMaterial=HY(s,e,n)}return i}_compileMaterial(e){const n=new Un(this._lodPlanes[0],e);this._renderer.compile(n,D6)}_sceneToCubeUV(e,n,r,i){const a=new In(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(_A),c.toneMapping=Mo,c.autoClear=!1;const m=new Zi({name:"PMREM.Background",side:br,depthWrite:!1,depthTest:!1}),g=new Un(new nu,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy(_A),v=!0);for(let S=0;S<6;S++){const w=S%3;w===0?(a.up.set(0,l[S],0),a.lookAt(u[S],0,0)):w===1?(a.up.set(0,0,l[S]),a.lookAt(0,u[S],0)):(a.up.set(0,l[S],0),a.lookAt(0,0,u[S]));const x=this._cubeSize;X2(i,w*x,S>2?x:0,x,x),c.setRenderTarget(i),v&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ja||e.mapping===Zl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=TA()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=EA());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Un(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;X2(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,D6)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=MA[(i-1)%MA.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Un(this._lodPlanes[i],u),d=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ou-1),v=s/g,y=isFinite(s)?1+Math.floor(c*v):Ou;y>Ou&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Ou}`);const S=[];let w=0;for(let P=0;P<Ou;++P){const T=P/v,R=Math.exp(-T*T/2);S.push(R),P===0?w+=R:P<y&&(w+=2*R)}for(let P=0;P<S.length;P++)S[P]=S[P]/w;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=S,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:x}=this;d.dTheta.value=g,d.mipInt.value=x-r;const M=this._sizeLods[i],E=3*M*(i>x-If?i-x+If:0),C=4*(this._cubeSize-M);X2(n,E,C,3*M,2*M),l.setRenderTarget(n),l.render(f,D6)}}function GY(t){const e=[],n=[],r=[];let i=t;const s=t-If+1+SA.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-If?l=SA[o-t+If-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,v=3,y=2,S=1,w=new Float32Array(v*g*m),x=new Float32Array(y*g*m),M=new Float32Array(S*g*m);for(let C=0;C<m;C++){const P=C%3*2/3-1,T=C>2?0:-1,R=[P,T,0,P+2/3,T,0,P+2/3,T+1,0,P,T,0,P+2/3,T+1,0,P,T+1,0];w.set(R,v*g*C),x.set(d,y*g*C);const B=[C,C,C,C,C,C];M.set(B,S*g*C)}const E=new Vt;E.setAttribute("position",new ln(w,v)),E.setAttribute("uv",new ln(x,y)),E.setAttribute("faceIndex",new ln(M,S)),e.push(E),i>If&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function AA(t,e,n){const r=new $t(t,e,n);return r.texture.mapping=bh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function X2(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function HY(t,e,n){const r=new Float32Array(Ou),i=new K(0,1,0);return new Ht({name:"SphericalGaussianBlur",defines:{n:Ou,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:s7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Jn,depthTest:!1,depthWrite:!1})}function EA(){return new Ht({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:s7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Jn,depthTest:!1,depthWrite:!1})}function TA(){return new Ht({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:s7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Jn,depthTest:!1,depthWrite:!1})}function s7(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function VY(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===hh||l===l0,c=l===ja||l===Zl;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new xg(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new xg(t));const d=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function WY(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function jY(t,e,n,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",o),delete i[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],34962);const m=f.morphAttributes;for(const g in m){const v=m[g];for(let y=0,S=v.length;y<S;y++)e.update(v[y],34962)}}function u(f){const d=[],m=f.index,g=f.attributes.position;let v=0;if(m!==null){const w=m.array;v=m.version;for(let x=0,M=w.length;x<M;x+=3){const E=w[x+0],C=w[x+1],P=w[x+2];d.push(E,C,C,P,P,E)}}else{const w=g.array;v=g.version;for(let x=0,M=w.length/3-1;x<M;x+=3){const E=x+0,C=x+1,P=x+2;d.push(E,C,C,P,P,E)}}const y=new(iB(d)?r7:n7)(d,1);y.version=v;const S=s.get(f);S&&e.remove(S),s.set(f,y)}function c(f){const d=s.get(f);if(d){const m=f.index;m!==null&&d.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function XY(t,e,n,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function c(d,m){t.drawElements(s,m,a,d*l),n.update(m,s,1)}function f(d,m,g){if(g===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,m,a,d*l,g),n.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function JY(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function YY(t,e){return t[0]-e[0]}function KY(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ZY(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new qt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f){const d=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(c);if(y===void 0||y.count!==v){let U=function(){J.dispose(),s.delete(c),c.removeEventListener("dispose",U)};var m=U;y!==void 0&&y.texture.dispose();const x=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,C=c.morphAttributes.position||[],P=c.morphAttributes.normal||[],T=c.morphAttributes.color||[];let R=0;x===!0&&(R=1),M===!0&&(R=2),E===!0&&(R=3);let B=c.attributes.position.count*R,N=1;B>e.maxTextureSize&&(N=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const G=new Float32Array(B*N*4*v),J=new mv(G,B,N,v);J.type=Pn,J.needsUpdate=!0;const D=R*4;for(let W=0;W<v;W++){const ie=C[W],L=P[W],O=T[W],V=B*N*4*W;for(let j=0;j<ie.count;j++){const k=j*D;x===!0&&(o.fromBufferAttribute(ie,j),G[V+k+0]=o.x,G[V+k+1]=o.y,G[V+k+2]=o.z,G[V+k+3]=0),M===!0&&(o.fromBufferAttribute(L,j),G[V+k+4]=o.x,G[V+k+5]=o.y,G[V+k+6]=o.z,G[V+k+7]=0),E===!0&&(o.fromBufferAttribute(O,j),G[V+k+8]=o.x,G[V+k+9]=o.y,G[V+k+10]=o.z,G[V+k+11]=O.itemSize===4?o.w:1)}}y={count:v,texture:J,size:new ve(B,N)},s.set(c,y),c.addEventListener("dispose",U)}let S=0;for(let x=0;x<d.length;x++)S+=d[x];const w=c.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const g=d===void 0?0:d.length;let v=r[c.id];if(v===void 0||v.length!==g){v=[];for(let M=0;M<g;M++)v[M]=[M,0];r[c.id]=v}for(let M=0;M<g;M++){const E=v[M];E[0]=M,E[1]=d[M]}v.sort(KY);for(let M=0;M<8;M++)M<g&&v[M][1]?(a[M][0]=v[M][0],a[M][1]=v[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(YY);const y=c.morphAttributes.position,S=c.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const E=a[M],C=E[0],P=E[1];C!==Number.MAX_SAFE_INTEGER&&P?(y&&c.getAttribute("morphTarget"+M)!==y[C]&&c.setAttribute("morphTarget"+M,y[C]),S&&c.getAttribute("morphNormal"+M)!==S[C]&&c.setAttribute("morphNormal"+M,S[C]),i[M]=P,w+=P):(y&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),S&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const x=c.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function QY(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const lB=new bn,uB=new mv,cB=new nc,fB=new U0,CA=[],bA=[],PA=new Float32Array(16),RA=new Float32Array(9),DA=new Float32Array(4);function Bh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=CA[i];if(s===void 0&&(s=new Float32Array(i),CA[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Or(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function vv(t,e){let n=bA[e];n===void 0&&(n=new Int32Array(e),bA[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function qY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function $Y(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2fv(this.addr,e),Or(n,e)}}function eK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Nr(n,e))return;t.uniform3fv(this.addr,e),Or(n,e)}}function tK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4fv(this.addr,e),Or(n,e)}}function nK(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Or(n,e)}else{if(Nr(n,r))return;DA.set(r),t.uniformMatrix2fv(this.addr,!1,DA),Or(n,r)}}function rK(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Or(n,e)}else{if(Nr(n,r))return;RA.set(r),t.uniformMatrix3fv(this.addr,!1,RA),Or(n,r)}}function iK(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Or(n,e)}else{if(Nr(n,r))return;PA.set(r),t.uniformMatrix4fv(this.addr,!1,PA),Or(n,r)}}function sK(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function oK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2iv(this.addr,e),Or(n,e)}}function aK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3iv(this.addr,e),Or(n,e)}}function lK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4iv(this.addr,e),Or(n,e)}}function uK(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function cK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2uiv(this.addr,e),Or(n,e)}}function fK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3uiv(this.addr,e),Or(n,e)}}function hK(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4uiv(this.addr,e),Or(n,e)}}function dK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||lB,i)}function pK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||cB,i)}function mK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||fB,i)}function gK(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||uB,i)}function vK(t){switch(t){case 5126:return qY;case 35664:return $Y;case 35665:return eK;case 35666:return tK;case 35674:return nK;case 35675:return rK;case 35676:return iK;case 5124:case 35670:return sK;case 35667:case 35671:return oK;case 35668:case 35672:return aK;case 35669:case 35673:return lK;case 5125:return uK;case 36294:return cK;case 36295:return fK;case 36296:return hK;case 35678:case 36198:case 36298:case 36306:case 35682:return dK;case 35679:case 36299:case 36307:return pK;case 35680:case 36300:case 36308:case 36293:return mK;case 36289:case 36303:case 36311:case 36292:return gK}}function yK(t,e){t.uniform1fv(this.addr,e)}function xK(t,e){const n=Bh(e,this.size,2);t.uniform2fv(this.addr,n)}function wK(t,e){const n=Bh(e,this.size,3);t.uniform3fv(this.addr,n)}function SK(t,e){const n=Bh(e,this.size,4);t.uniform4fv(this.addr,n)}function _K(t,e){const n=Bh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function MK(t,e){const n=Bh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function AK(t,e){const n=Bh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function EK(t,e){t.uniform1iv(this.addr,e)}function TK(t,e){t.uniform2iv(this.addr,e)}function CK(t,e){t.uniform3iv(this.addr,e)}function bK(t,e){t.uniform4iv(this.addr,e)}function PK(t,e){t.uniform1uiv(this.addr,e)}function RK(t,e){t.uniform2uiv(this.addr,e)}function DK(t,e){t.uniform3uiv(this.addr,e)}function BK(t,e){t.uniform4uiv(this.addr,e)}function IK(t,e,n){const r=this.cache,i=e.length,s=vv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||lB,s[o])}function LK(t,e,n){const r=this.cache,i=e.length,s=vv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||cB,s[o])}function FK(t,e,n){const r=this.cache,i=e.length,s=vv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||fB,s[o])}function kK(t,e,n){const r=this.cache,i=e.length,s=vv(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Or(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||uB,s[o])}function UK(t){switch(t){case 5126:return yK;case 35664:return xK;case 35665:return wK;case 35666:return SK;case 35674:return _K;case 35675:return MK;case 35676:return AK;case 5124:case 35670:return EK;case 35667:case 35671:return TK;case 35668:case 35672:return CK;case 35669:case 35673:return bK;case 5125:return PK;case 36294:return RK;case 36295:return DK;case 36296:return BK;case 35678:case 36198:case 36298:case 36306:case 35682:return IK;case 35679:case 36299:case 36307:return LK;case 35680:case 36300:case 36308:case 36293:return FK;case 36289:case 36303:case 36311:case 36292:return kK}}class NK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=vK(n.type)}}class OK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=UK(n.type)}}class zK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const I6=/(\w+)(\])?(\[|\.)?/g;function BA(t,e){t.seq.push(e),t.map[e.id]=e}function GK(t,e,n){const r=t.name,i=r.length;for(I6.lastIndex=0;;){const s=I6.exec(r),o=I6.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){BA(n,u===void 0?new NK(a,t,e):new OK(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new zK(a),BA(n,f)),n=f}}}class l1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);GK(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function IA(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let HK=0;function VK(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function WK(t){switch(t){case To:return["Linear","( value )"];case En:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function LA(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+VK(t.getShaderSource(e),o)}else return i}function jK(t,e){const n=WK(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function XK(t,e){let n;switch(e){case ID:n="Linear";break;case LD:n="Reinhard";break;case FD:n="OptimizedCineon";break;case Jx:n="ACESFilmic";break;case kD:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function JK(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ip).join(`
`)}function YK(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function KK(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function ip(t){return t!==""}function FA(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kA(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ZK=/^[ \t]*#include +<([\w\d./]+)>/gm;function Iy(t){return t.replace(ZK,QK)}function QK(t,e){const n=bt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return Iy(n)}const qK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function UA(t){return t.replace(qK,$K)}function $K(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function NA(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function eZ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===uv?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Sp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Wu&&(e="SHADOWMAP_TYPE_VSM"),e}function tZ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ja:case Zl:e="ENVMAP_TYPE_CUBE";break;case bh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function nZ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Zl:e="ENVMAP_MODE_REFRACTION";break}return e}function rZ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case F0:e="ENVMAP_BLENDING_MULTIPLY";break;case DD:e="ENVMAP_BLENDING_MIX";break;case BD:e="ENVMAP_BLENDING_ADD";break}return e}function iZ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function sZ(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=eZ(n),u=tZ(n),c=nZ(n),f=rZ(n),d=iZ(n),m=n.isWebGL2?"":JK(n),g=YK(s),v=i.createProgram();let y,S,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[g].filter(ip).join(`
`),y.length>0&&(y+=`
`),S=[m,g].filter(ip).join(`
`),S.length>0&&(S+=`
`)):(y=[NA(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ip).join(`
`),S=[m,NA(n),"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Mo?"#define TONE_MAPPING":"",n.toneMapping!==Mo?bt.tonemapping_pars_fragment:"",n.toneMapping!==Mo?XK("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",bt.encodings_pars_fragment,jK("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ip).join(`
`)),o=Iy(o),o=FA(o,n),o=kA(o,n),a=Iy(a),a=FA(a,n),a=kA(a,n),o=UA(o),a=UA(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,S=["#define varying in",n.glslVersion===vg?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===vg?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const x=w+y+o,M=w+S+a,E=IA(i,35633,x),C=IA(i,35632,M);if(i.attachShader(v,E),i.attachShader(v,C),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const R=i.getProgramInfoLog(v).trim(),B=i.getShaderInfoLog(E).trim(),N=i.getShaderInfoLog(C).trim();let G=!0,J=!0;if(i.getProgramParameter(v,35714)===!1){G=!1;const D=LA(i,E,"vertex"),U=LA(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+D+`
`+U)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(B===""||N==="")&&(J=!1);J&&(this.diagnostics={runnable:G,programLog:R,vertexShader:{log:B,prefix:y},fragmentShader:{log:N,prefix:S}})}i.deleteShader(E),i.deleteShader(C);let P;this.getUniforms=function(){return P===void 0&&(P=new l1(i,v)),P};let T;return this.getAttributes=function(){return T===void 0&&(T=KK(i,v)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=HK++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=C,this}let oZ=0;class aZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new lZ(e),n.set(e,r)),r}}class lZ{constructor(e){this.id=oZ++,this.code=e,this.usedTimes=0}}function uZ(t,e,n,r,i,s,o){const a=new rc,l=new aZ,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(T,R,B,N,G){const J=N.fog,D=G.geometry,U=T.isMeshStandardMaterial?N.environment:null,W=(T.isMeshStandardMaterial?n:e).get(T.envMap||U),ie=W&&W.mapping===bh?W.image.height:null,L=g[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const O=D.morphAttributes.position||D.morphAttributes.normal||D.morphAttributes.color,V=O!==void 0?O.length:0;let j=0;D.morphAttributes.position!==void 0&&(j=1),D.morphAttributes.normal!==void 0&&(j=2),D.morphAttributes.color!==void 0&&(j=3);let k,q,ee,Y;if(L){const _e=ho[L];k=_e.vertexShader,q=_e.fragmentShader}else k=T.vertexShader,q=T.fragmentShader,l.update(T),ee=l.getVertexShaderID(T),Y=l.getFragmentShaderID(T);const Z=t.getRenderTarget(),ae=T.alphaTest>0,re=T.clearcoat>0,me=T.iridescence>0;return{isWebGL2:c,shaderID:L,shaderName:T.type,vertexShader:k,fragmentShader:q,defines:T.defines,customVertexShaderID:ee,customFragmentShaderID:Y,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:G.isInstancedMesh===!0,instancingColor:G.isInstancedMesh===!0&&G.instanceColor!==null,supportsVertexTextures:d,outputEncoding:Z===null?t.outputEncoding:Z.isXRRenderTarget===!0?Z.texture.encoding:To,map:!!T.map,matcap:!!T.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:ie,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===$D,tangentSpaceNormalMap:T.normalMapType===Za,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===En,clearcoat:re,clearcoatMap:re&&!!T.clearcoatMap,clearcoatRoughnessMap:re&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:re&&!!T.clearcoatNormalMap,iridescence:me,iridescenceMap:me&&!!T.iridescenceMap,iridescenceThicknessMap:me&&!!T.iridescenceThicknessMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===ec,alphaMap:!!T.alphaMap,alphaTest:ae,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!D.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!D.attributes.color&&D.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.iridescenceMap||!!T.iridescenceThicknessMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.iridescenceMap||T.iridescenceThicknessMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularColorMap||T.sheen>0||T.sheenColorMap||T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!J,useFog:T.fog===!0,fogExp2:J&&J.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:f,skinning:G.isSkinnedMesh===!0,morphTargets:D.morphAttributes.position!==void 0,morphNormals:D.morphAttributes.normal!==void 0,morphColors:D.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:j,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:T.toneMapped?t.toneMapping:Mo,useLegacyLights:t.useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===ri,flipSided:T.side===br,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function y(T){const R=[];if(T.shaderID?R.push(T.shaderID):(R.push(T.customVertexShaderID),R.push(T.customFragmentShaderID)),T.defines!==void 0)for(const B in T.defines)R.push(B),R.push(T.defines[B]);return T.isRawShaderMaterial===!1&&(S(R,T),w(R,T),R.push(t.outputEncoding)),R.push(T.customProgramCacheKey),R.join()}function S(T,R){T.push(R.precision),T.push(R.outputEncoding),T.push(R.envMapMode),T.push(R.envMapCubeUVHeight),T.push(R.combine),T.push(R.vertexUvs),T.push(R.fogExp2),T.push(R.sizeAttenuation),T.push(R.morphTargetsCount),T.push(R.morphAttributeCount),T.push(R.numDirLights),T.push(R.numPointLights),T.push(R.numSpotLights),T.push(R.numSpotLightMaps),T.push(R.numHemiLights),T.push(R.numRectAreaLights),T.push(R.numDirLightShadows),T.push(R.numPointLightShadows),T.push(R.numSpotLightShadows),T.push(R.numSpotLightShadowsWithMaps),T.push(R.shadowMapType),T.push(R.toneMapping),T.push(R.numClippingPlanes),T.push(R.numClipIntersection),T.push(R.depthPacking)}function w(T,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),T.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),T.push(a.mask)}function x(T){const R=g[T.type];let B;if(R){const N=ho[R];B=gc.clone(N.uniforms)}else B=T.uniforms;return B}function M(T,R){let B;for(let N=0,G=u.length;N<G;N++){const J=u[N];if(J.cacheKey===R){B=J,++B.usedTimes;break}}return B===void 0&&(B=new sZ(t,R,T,s),u.push(B)),B}function E(T){if(--T.usedTimes===0){const R=u.indexOf(T);u[R]=u[u.length-1],u.pop(),T.destroy()}}function C(T){l.remove(T)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:x,acquireProgram:M,releaseProgram:E,releaseShaderCache:C,programs:u,dispose:P}}function cZ(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function fZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function OA(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function zA(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,d,m,g,v,y){let S=t[e];return S===void 0?(S={id:f.id,object:f,geometry:d,material:m,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},t[e]=S):(S.id=f.id,S.object=f,S.geometry=d,S.material=m,S.groupOrder=g,S.renderOrder=f.renderOrder,S.z=v,S.group=y),e++,S}function a(f,d,m,g,v,y){const S=o(f,d,m,g,v,y);m.transmission>0?r.push(S):m.transparent===!0?i.push(S):n.push(S)}function l(f,d,m,g,v,y){const S=o(f,d,m,g,v,y);m.transmission>0?r.unshift(S):m.transparent===!0?i.unshift(S):n.unshift(S)}function u(f,d){n.length>1&&n.sort(f||fZ),r.length>1&&r.sort(d||OA),i.length>1&&i.sort(d||OA)}function c(){for(let f=e,d=t.length;f<d;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function hZ(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new zA,t.set(r,[o])):i>=s.length?(o=new zA,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function dZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new K,color:new et};break;case"SpotLight":n={position:new K,direction:new K,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new K,color:new et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new K,skyColor:new et,groundColor:new et};break;case"RectAreaLight":n={color:new et,position:new K,halfWidth:new K,halfHeight:new K};break}return t[e.id]=n,n}}}function pZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let mZ=0;function gZ(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function vZ(t,e){const n=new dZ,r=pZ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new K);const s=new K,o=new ht,a=new ht;function l(c,f){let d=0,m=0,g=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let v=0,y=0,S=0,w=0,x=0,M=0,E=0,C=0,P=0,T=0;c.sort(gZ);const R=f===!0?Math.PI:1;for(let N=0,G=c.length;N<G;N++){const J=c[N],D=J.color,U=J.intensity,W=J.distance,ie=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)d+=D.r*U*R,m+=D.g*U*R,g+=D.b*U*R;else if(J.isLightProbe)for(let L=0;L<9;L++)i.probe[L].addScaledVector(J.sh.coefficients[L],U);else if(J.isDirectionalLight){const L=n.get(J);if(L.color.copy(J.color).multiplyScalar(J.intensity*R),J.castShadow){const O=J.shadow,V=r.get(J);V.shadowBias=O.bias,V.shadowNormalBias=O.normalBias,V.shadowRadius=O.radius,V.shadowMapSize=O.mapSize,i.directionalShadow[v]=V,i.directionalShadowMap[v]=ie,i.directionalShadowMatrix[v]=J.shadow.matrix,M++}i.directional[v]=L,v++}else if(J.isSpotLight){const L=n.get(J);L.position.setFromMatrixPosition(J.matrixWorld),L.color.copy(D).multiplyScalar(U*R),L.distance=W,L.coneCos=Math.cos(J.angle),L.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),L.decay=J.decay,i.spot[S]=L;const O=J.shadow;if(J.map&&(i.spotLightMap[P]=J.map,P++,O.updateMatrices(J),J.castShadow&&T++),i.spotLightMatrix[S]=O.matrix,J.castShadow){const V=r.get(J);V.shadowBias=O.bias,V.shadowNormalBias=O.normalBias,V.shadowRadius=O.radius,V.shadowMapSize=O.mapSize,i.spotShadow[S]=V,i.spotShadowMap[S]=ie,C++}S++}else if(J.isRectAreaLight){const L=n.get(J);L.color.copy(D).multiplyScalar(U),L.halfWidth.set(J.width*.5,0,0),L.halfHeight.set(0,J.height*.5,0),i.rectArea[w]=L,w++}else if(J.isPointLight){const L=n.get(J);if(L.color.copy(J.color).multiplyScalar(J.intensity*R),L.distance=J.distance,L.decay=J.decay,J.castShadow){const O=J.shadow,V=r.get(J);V.shadowBias=O.bias,V.shadowNormalBias=O.normalBias,V.shadowRadius=O.radius,V.shadowMapSize=O.mapSize,V.shadowCameraNear=O.camera.near,V.shadowCameraFar=O.camera.far,i.pointShadow[y]=V,i.pointShadowMap[y]=ie,i.pointShadowMatrix[y]=J.shadow.matrix,E++}i.point[y]=L,y++}else if(J.isHemisphereLight){const L=n.get(J);L.skyColor.copy(J.color).multiplyScalar(U*R),L.groundColor.copy(J.groundColor).multiplyScalar(U*R),i.hemi[x]=L,x++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=g;const B=i.hash;(B.directionalLength!==v||B.pointLength!==y||B.spotLength!==S||B.rectAreaLength!==w||B.hemiLength!==x||B.numDirectionalShadows!==M||B.numPointShadows!==E||B.numSpotShadows!==C||B.numSpotMaps!==P)&&(i.directional.length=v,i.spot.length=S,i.rectArea.length=w,i.point.length=y,i.hemi.length=x,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=C+P-T,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=T,B.directionalLength=v,B.pointLength=y,B.spotLength=S,B.rectAreaLength=w,B.hemiLength=x,B.numDirectionalShadows=M,B.numPointShadows=E,B.numSpotShadows=C,B.numSpotMaps=P,i.version=mZ++)}function u(c,f){let d=0,m=0,g=0,v=0,y=0;const S=f.matrixWorldInverse;for(let w=0,x=c.length;w<x;w++){const M=c[w];if(M.isDirectionalLight){const E=i.directional[d];E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(S),d++}else if(M.isSpotLight){const E=i.spot[g];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(S),E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(S),g++}else if(M.isRectAreaLight){const E=i.rectArea[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(S),a.identity(),o.copy(M.matrixWorld),o.premultiply(S),a.extractRotation(o),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const E=i.point[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(S),m++}else if(M.isHemisphereLight){const E=i.hemi[y];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(S),y++}}}return{setup:l,setupView:u,state:i}}function GA(t,e){const n=new vZ(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function yZ(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new GA(t,e),n.set(s,[l])):o>=a.length?(l=new GA(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class Ih extends pr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Yr,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yv extends pr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new K,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const xZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function SZ(t,e,n){let r=new gv;const i=new ve,s=new ve,o=new qt,a=new Ih({depthPacking:Co}),l=new yv,u={},c=n.maxTextureSize,f={[Zs]:br,[br]:Zs,[ri]:ri},d=new Ht({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:xZ,fragmentShader:wZ}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const g=new Vt;g.setAttribute("position",new ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Un(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=uv,this.render=function(M,E,C){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||M.length===0)return;const P=t.getRenderTarget(),T=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),B=t.state;B.setBlending(Jn),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);for(let N=0,G=M.length;N<G;N++){const J=M[N],D=J.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",J,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const U=D.getFrameExtents();if(i.multiply(U),s.copy(D.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/U.x),i.x=s.x*U.x,D.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/U.y),i.y=s.y*U.y,D.mapSize.y=s.y)),D.map===null){const ie=this.type!==Wu?{minFilter:Nt,magFilter:Nt}:{};D.map=new $t(i.x,i.y,ie),D.map.texture.name=J.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const W=D.getViewportCount();for(let ie=0;ie<W;ie++){const L=D.getViewport(ie);o.set(s.x*L.x,s.y*L.y,s.x*L.z,s.y*L.w),B.viewport(o),D.updateMatrices(J,ie),r=D.getFrustum(),x(E,C,D.camera,J,this.type)}D.isPointLightShadow!==!0&&this.type===Wu&&S(D,C),D.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(P,T,R)};function S(M,E){const C=e.update(v);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new $t(i.x,i.y)),d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(E,null,C,d,v,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(E,null,C,m,v,null)}function w(M,E,C,P,T,R){let B=null;const N=C.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(N!==void 0)B=N;else if(B=C.isPointLight===!0?l:a,t.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const G=B.uuid,J=E.uuid;let D=u[G];D===void 0&&(D={},u[G]=D);let U=D[J];U===void 0&&(U=B.clone(),D[J]=U),B=U}return B.visible=E.visible,B.wireframe=E.wireframe,R===Wu?B.side=E.shadowSide!==null?E.shadowSide:E.side:B.side=E.shadowSide!==null?E.shadowSide:f[E.side],B.alphaMap=E.alphaMap,B.alphaTest=E.alphaTest,B.map=E.map,B.clipShadows=E.clipShadows,B.clippingPlanes=E.clippingPlanes,B.clipIntersection=E.clipIntersection,B.displacementMap=E.displacementMap,B.displacementScale=E.displacementScale,B.displacementBias=E.displacementBias,B.wireframeLinewidth=E.wireframeLinewidth,B.linewidth=E.linewidth,C.isPointLight===!0&&B.isMeshDistanceMaterial===!0&&(B.referencePosition.setFromMatrixPosition(C.matrixWorld),B.nearDistance=P,B.farDistance=T),B}function x(M,E,C,P,T){if(M.visible===!1)return;if(M.layers.test(E.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&T===Wu)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,M.matrixWorld);const N=e.update(M),G=M.material;if(Array.isArray(G)){const J=N.groups;for(let D=0,U=J.length;D<U;D++){const W=J[D],ie=G[W.materialIndex];if(ie&&ie.visible){const L=w(M,ie,P,C.near,C.far,T);t.renderBufferDirect(C,null,N,L,M,W)}}}else if(G.visible){const J=w(M,G,P,C.near,C.far,T);t.renderBufferDirect(C,null,N,J,M,null)}}const B=M.children;for(let N=0,G=B.length;N<G;N++)x(B[N],E,C,P,T)}}function _Z(t,e,n){const r=n.isWebGL2;function i(){let ne=!1;const ce=new qt;let Oe=null;const it=new qt(0,0,0,0);return{setMask:function(dt){Oe!==dt&&!ne&&(t.colorMask(dt,dt,dt,dt),Oe=dt)},setLocked:function(dt){ne=dt},setClear:function(dt,Kt,Ot,Wt,jt){jt===!0&&(dt*=Wt,Kt*=Wt,Ot*=Wt),ce.set(dt,Kt,Ot,Wt),it.equals(ce)===!1&&(t.clearColor(dt,Kt,Ot,Wt),it.copy(ce))},reset:function(){ne=!1,Oe=null,it.set(-1,0,0,0)}}}function s(){let ne=!1,ce=null,Oe=null,it=null;return{setTest:function(dt){dt?ae(2929):re(2929)},setMask:function(dt){ce!==dt&&!ne&&(t.depthMask(dt),ce=dt)},setFunc:function(dt){if(Oe!==dt){switch(dt){case Vx:t.depthFunc(512);break;case Wx:t.depthFunc(519);break;case mg:t.depthFunc(513);break;case o0:t.depthFunc(515);break;case a0:t.depthFunc(514);break;case jx:t.depthFunc(518);break;case Xx:t.depthFunc(516);break;case cv:t.depthFunc(517);break;default:t.depthFunc(515)}Oe=dt}},setLocked:function(dt){ne=dt},setClear:function(dt){it!==dt&&(t.clearDepth(dt),it=dt)},reset:function(){ne=!1,ce=null,Oe=null,it=null}}}function o(){let ne=!1,ce=null,Oe=null,it=null,dt=null,Kt=null,Ot=null,Wt=null,jt=null;return{setTest:function(on){ne||(on?ae(2960):re(2960))},setMask:function(on){ce!==on&&!ne&&(t.stencilMask(on),ce=on)},setFunc:function(on,Gt,Zt){(Oe!==on||it!==Gt||dt!==Zt)&&(t.stencilFunc(on,Gt,Zt),Oe=on,it=Gt,dt=Zt)},setOp:function(on,Gt,Zt){(Kt!==on||Ot!==Gt||Wt!==Zt)&&(t.stencilOp(on,Gt,Zt),Kt=on,Ot=Gt,Wt=Zt)},setLocked:function(on){ne=on},setClear:function(on){jt!==on&&(t.clearStencil(on),jt=on)},reset:function(){ne=!1,ce=null,Oe=null,it=null,dt=null,Kt=null,Ot=null,Wt=null,jt=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let d={},m={},g=new WeakMap,v=[],y=null,S=!1,w=null,x=null,M=null,E=null,C=null,P=null,T=null,R=!1,B=null,N=null,G=null,J=null,D=null;const U=t.getParameter(35661);let W=!1,ie=0;const L=t.getParameter(7938);L.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(L)[1]),W=ie>=1):L.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),W=ie>=2);let O=null,V={};const j=t.getParameter(3088),k=t.getParameter(2978),q=new qt().fromArray(j),ee=new qt().fromArray(k);function Y(ne,ce,Oe){const it=new Uint8Array(4),dt=t.createTexture();t.bindTexture(ne,dt),t.texParameteri(ne,10241,9728),t.texParameteri(ne,10240,9728);for(let Kt=0;Kt<Oe;Kt++)t.texImage2D(ce+Kt,0,6408,1,1,0,6408,5121,it);return dt}const Z={};Z[3553]=Y(3553,3553,1),Z[34067]=Y(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ae(2929),l.setFunc(o0),Be(!1),He(ry),ae(2884),Le(Jn);function ae(ne){d[ne]!==!0&&(t.enable(ne),d[ne]=!0)}function re(ne){d[ne]!==!1&&(t.disable(ne),d[ne]=!1)}function me(ne,ce){return m[ne]!==ce?(t.bindFramebuffer(ne,ce),m[ne]=ce,r&&(ne===36009&&(m[36160]=ce),ne===36160&&(m[36009]=ce)),!0):!1}function Ee(ne,ce){let Oe=v,it=!1;if(ne)if(Oe=g.get(ce),Oe===void 0&&(Oe=[],g.set(ce,Oe)),ne.isWebGLMultipleRenderTargets){const dt=ne.texture;if(Oe.length!==dt.length||Oe[0]!==36064){for(let Kt=0,Ot=dt.length;Kt<Ot;Kt++)Oe[Kt]=36064+Kt;Oe.length=dt.length,it=!0}}else Oe[0]!==36064&&(Oe[0]=36064,it=!0);else Oe[0]!==1029&&(Oe[0]=1029,it=!0);it&&(n.isWebGL2?t.drawBuffers(Oe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Oe))}function _e(ne){return y!==ne?(t.useProgram(ne),y=ne,!0):!1}const se={[Nu]:32774,[wD]:32778,[SD]:32779};if(r)se[ay]=32775,se[ly]=32776;else{const ne=e.get("EXT_blend_minmax");ne!==null&&(se[ay]=ne.MIN_EXT,se[ly]=ne.MAX_EXT)}const xe={[_D]:0,[MD]:1,[AD]:768,[Gx]:770,[RD]:776,[bD]:774,[TD]:772,[ED]:769,[Hx]:771,[PD]:775,[CD]:773};function Le(ne,ce,Oe,it,dt,Kt,Ot,Wt){if(ne===Jn){S===!0&&(re(3042),S=!1);return}if(S===!1&&(ae(3042),S=!0),ne!==xD){if(ne!==w||Wt!==R){if((x!==Nu||C!==Nu)&&(t.blendEquation(32774),x=Nu,C=Nu),Wt)switch(ne){case ec:t.blendFuncSeparate(1,771,1,771);break;case iy:t.blendFunc(1,1);break;case sy:t.blendFuncSeparate(0,769,0,1);break;case oy:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case ec:t.blendFuncSeparate(770,771,1,771);break;case iy:t.blendFunc(770,1);break;case sy:t.blendFuncSeparate(0,769,0,1);break;case oy:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}M=null,E=null,P=null,T=null,w=ne,R=Wt}return}dt=dt||ce,Kt=Kt||Oe,Ot=Ot||it,(ce!==x||dt!==C)&&(t.blendEquationSeparate(se[ce],se[dt]),x=ce,C=dt),(Oe!==M||it!==E||Kt!==P||Ot!==T)&&(t.blendFuncSeparate(xe[Oe],xe[it],xe[Kt],xe[Ot]),M=Oe,E=it,P=Kt,T=Ot),w=ne,R=!1}function Ce(ne,ce){ne.side===ri?re(2884):ae(2884);let Oe=ne.side===br;ce&&(Oe=!Oe),Be(Oe),ne.blending===ec&&ne.transparent===!1?Le(Jn):Le(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.premultipliedAlpha),l.setFunc(ne.depthFunc),l.setTest(ne.depthTest),l.setMask(ne.depthWrite),a.setMask(ne.colorWrite);const it=ne.stencilWrite;u.setTest(it),it&&(u.setMask(ne.stencilWriteMask),u.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),u.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),Ye(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?ae(32926):re(32926)}function Be(ne){B!==ne&&(ne?t.frontFace(2304):t.frontFace(2305),B=ne)}function He(ne){ne!==gD?(ae(2884),ne!==N&&(ne===ry?t.cullFace(1029):ne===vD?t.cullFace(1028):t.cullFace(1032))):re(2884),N=ne}function Te(ne){ne!==G&&(W&&t.lineWidth(ne),G=ne)}function Ye(ne,ce,Oe){ne?(ae(32823),(J!==ce||D!==Oe)&&(t.polygonOffset(ce,Oe),J=ce,D=Oe)):re(32823)}function We(ne){ne?ae(3089):re(3089)}function De(ne){ne===void 0&&(ne=33984+U-1),O!==ne&&(t.activeTexture(ne),O=ne)}function Q(ne,ce,Oe){Oe===void 0&&(O===null?Oe=33984+U-1:Oe=O);let it=V[Oe];it===void 0&&(it={type:void 0,texture:void 0},V[Oe]=it),(it.type!==ne||it.texture!==ce)&&(O!==Oe&&(t.activeTexture(Oe),O=Oe),t.bindTexture(ne,ce||Z[ne]),it.type=ne,it.texture=ce)}function z(){const ne=V[O];ne!==void 0&&ne.type!==void 0&&(t.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function ue(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function we(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ge(){try{t.texSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ve(){try{t.texSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ze(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ze(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ie(){try{t.texStorage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function at(){try{t.texStorage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Qe(){try{t.texImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function st(){try{t.texImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function je(ne){q.equals(ne)===!1&&(t.scissor(ne.x,ne.y,ne.z,ne.w),q.copy(ne))}function Xe(ne){ee.equals(ne)===!1&&(t.viewport(ne.x,ne.y,ne.z,ne.w),ee.copy(ne))}function le(ne,ce){let Oe=f.get(ce);Oe===void 0&&(Oe=new WeakMap,f.set(ce,Oe));let it=Oe.get(ne);it===void 0&&(it=t.getUniformBlockIndex(ce,ne.name),Oe.set(ne,it))}function Re(ne,ce){const it=f.get(ce).get(ne);c.get(ce)!==it&&(t.uniformBlockBinding(ce,it,ne.__bindingPointIndex),c.set(ce,it))}function $e(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},O=null,V={},m={},g=new WeakMap,v=[],y=null,S=!1,w=null,x=null,M=null,E=null,C=null,P=null,T=null,R=!1,B=null,N=null,G=null,J=null,D=null,q.set(0,0,t.canvas.width,t.canvas.height),ee.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ae,disable:re,bindFramebuffer:me,drawBuffers:Ee,useProgram:_e,setBlending:Le,setMaterial:Ce,setFlipSided:Be,setCullFace:He,setLineWidth:Te,setPolygonOffset:Ye,setScissorTest:We,activeTexture:De,bindTexture:Q,unbindTexture:z,compressedTexImage2D:ue,compressedTexImage3D:we,texImage2D:Qe,texImage3D:st,updateUBOMapping:le,uniformBlockBinding:Re,texStorage2D:Ie,texStorage3D:at,texSubImage2D:Ge,texSubImage3D:Ve,compressedTexSubImage2D:ze,compressedTexSubImage3D:Ze,scissor:je,viewport:Xe,reset:$e}}function MZ(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(Q,z){return S?new OffscreenCanvas(Q,z):d0("canvas")}function x(Q,z,ue,we){let Ge=1;if((Q.width>we||Q.height>we)&&(Ge=we/Math.max(Q.width,Q.height)),Ge<1||z===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const Ve=z?rB:Math.floor,ze=Ve(Ge*Q.width),Ze=Ve(Ge*Q.height);v===void 0&&(v=w(ze,Ze));const Ie=ue?w(ze,Ze):v;return Ie.width=ze,Ie.height=Ze,Ie.getContext("2d").drawImage(Q,0,0,ze,Ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+ze+"x"+Ze+")."),Ie}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function M(Q){return By(Q.width)&&By(Q.height)}function E(Q){return a?!1:Q.wrapS!==Cr||Q.wrapT!==Cr||Q.minFilter!==Nt&&Q.minFilter!==gt}function C(Q,z){return Q.generateMipmaps&&z&&Q.minFilter!==Nt&&Q.minFilter!==gt}function P(Q){t.generateMipmap(Q)}function T(Q,z,ue,we,Ge=!1){if(a===!1)return z;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ve=z;return z===6403&&(ue===5126&&(Ve=33326),ue===5131&&(Ve=33325),ue===5121&&(Ve=33321)),z===33319&&(ue===5126&&(Ve=33328),ue===5131&&(Ve=33327),ue===5121&&(Ve=33323)),z===6408&&(ue===5126&&(Ve=34836),ue===5131&&(Ve=34842),ue===5121&&(Ve=we===En&&Ge===!1?35907:32856),ue===32819&&(Ve=32854),ue===32820&&(Ve=32855)),(Ve===33325||Ve===33326||Ve===33327||Ve===33328||Ve===34842||Ve===34836)&&e.get("EXT_color_buffer_float"),Ve}function R(Q,z,ue){return C(Q,ue)===!0||Q.isFramebufferTexture&&Q.minFilter!==Nt&&Q.minFilter!==gt?Math.log2(Math.max(z.width,z.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?z.mipmaps.length:1}function B(Q){return Q===Nt||Q===u0||Q===Xf?9728:9729}function N(Q){const z=Q.target;z.removeEventListener("dispose",N),J(z),z.isVideoTexture&&g.delete(z)}function G(Q){const z=Q.target;z.removeEventListener("dispose",G),U(z)}function J(Q){const z=r.get(Q);if(z.__webglInit===void 0)return;const ue=Q.source,we=y.get(ue);if(we){const Ge=we[z.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&D(Q),Object.keys(we).length===0&&y.delete(ue)}r.remove(Q)}function D(Q){const z=r.get(Q);t.deleteTexture(z.__webglTexture);const ue=Q.source,we=y.get(ue);delete we[z.__cacheKey],o.memory.textures--}function U(Q){const z=Q.texture,ue=r.get(Q),we=r.get(z);if(we.__webglTexture!==void 0&&(t.deleteTexture(we.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++)t.deleteFramebuffer(ue.__webglFramebuffer[Ge]),ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer[Ge]);else{if(t.deleteFramebuffer(ue.__webglFramebuffer),ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let Ge=0;Ge<ue.__webglColorRenderbuffer.length;Ge++)ue.__webglColorRenderbuffer[Ge]&&t.deleteRenderbuffer(ue.__webglColorRenderbuffer[Ge]);ue.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Ge=0,Ve=z.length;Ge<Ve;Ge++){const ze=r.get(z[Ge]);ze.__webglTexture&&(t.deleteTexture(ze.__webglTexture),o.memory.textures--),r.remove(z[Ge])}r.remove(z),r.remove(Q)}let W=0;function ie(){W=0}function L(){const Q=W;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),W+=1,Q}function O(Q){const z=[];return z.push(Q.wrapS),z.push(Q.wrapT),z.push(Q.wrapR||0),z.push(Q.magFilter),z.push(Q.minFilter),z.push(Q.anisotropy),z.push(Q.internalFormat),z.push(Q.format),z.push(Q.type),z.push(Q.generateMipmaps),z.push(Q.premultiplyAlpha),z.push(Q.flipY),z.push(Q.unpackAlignment),z.push(Q.encoding),z.join()}function V(Q,z){const ue=r.get(Q);if(Q.isVideoTexture&&We(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&ue.__version!==Q.version){const we=Q.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(ue,Q,z);return}}n.bindTexture(3553,ue.__webglTexture,33984+z)}function j(Q,z){const ue=r.get(Q);if(Q.version>0&&ue.__version!==Q.version){re(ue,Q,z);return}n.bindTexture(35866,ue.__webglTexture,33984+z)}function k(Q,z){const ue=r.get(Q);if(Q.version>0&&ue.__version!==Q.version){re(ue,Q,z);return}n.bindTexture(32879,ue.__webglTexture,33984+z)}function q(Q,z){const ue=r.get(Q);if(Q.version>0&&ue.__version!==Q.version){me(ue,Q,z);return}n.bindTexture(34067,ue.__webglTexture,33984+z)}const ee={[xi]:10497,[Cr]:33071,[dh]:33648},Y={[Nt]:9728,[u0]:9984,[Xf]:9986,[gt]:9729,[hv]:9985,[na]:9987};function Z(Q,z,ue){if(ue?(t.texParameteri(Q,10242,ee[z.wrapS]),t.texParameteri(Q,10243,ee[z.wrapT]),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,ee[z.wrapR]),t.texParameteri(Q,10240,Y[z.magFilter]),t.texParameteri(Q,10241,Y[z.minFilter])):(t.texParameteri(Q,10242,33071),t.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,33071),(z.wrapS!==Cr||z.wrapT!==Cr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,10240,B(z.magFilter)),t.texParameteri(Q,10241,B(z.minFilter)),z.minFilter!==Nt&&z.minFilter!==gt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const we=e.get("EXT_texture_filter_anisotropic");if(z.magFilter===Nt||z.minFilter!==Xf&&z.minFilter!==na||z.type===Pn&&e.has("OES_texture_float_linear")===!1||a===!1&&z.type===Xn&&e.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||r.get(z).__currentAnisotropy)&&(t.texParameterf(Q,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy)}}function ae(Q,z){let ue=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,z.addEventListener("dispose",N));const we=z.source;let Ge=y.get(we);Ge===void 0&&(Ge={},y.set(we,Ge));const Ve=O(z);if(Ve!==Q.__cacheKey){Ge[Ve]===void 0&&(Ge[Ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ue=!0),Ge[Ve].usedTimes++;const ze=Ge[Q.__cacheKey];ze!==void 0&&(Ge[Q.__cacheKey].usedTimes--,ze.usedTimes===0&&D(z)),Q.__cacheKey=Ve,Q.__webglTexture=Ge[Ve].texture}return ue}function re(Q,z,ue){let we=3553;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(we=35866),z.isData3DTexture&&(we=32879);const Ge=ae(Q,z),Ve=z.source;n.bindTexture(we,Q.__webglTexture,33984+ue);const ze=r.get(Ve);if(Ve.version!==ze.__version||Ge===!0){n.activeTexture(33984+ue),t.pixelStorei(37440,z.flipY),t.pixelStorei(37441,z.premultiplyAlpha),t.pixelStorei(3317,z.unpackAlignment),t.pixelStorei(37443,0);const Ze=E(z)&&M(z.image)===!1;let Ie=x(z.image,Ze,!1,c);Ie=De(z,Ie);const at=M(Ie)||a,Qe=s.convert(z.format,z.encoding);let st=s.convert(z.type),je=T(z.internalFormat,Qe,st,z.encoding,z.isVideoTexture);Z(we,z,at);let Xe;const le=z.mipmaps,Re=a&&z.isVideoTexture!==!0,$e=ze.__version===void 0||Ge===!0,ne=R(z,Ie,at);if(z.isDepthTexture)je=6402,a?z.type===Pn?je=36012:z.type===La?je=33190:z.type===jl?je=35056:je=33189:z.type===Pn&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===Xl&&je===6402&&z.type!==Yx&&z.type!==La&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=La,st=s.convert(z.type)),z.format===Ql&&je===6402&&(je=34041,z.type!==jl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=jl,st=s.convert(z.type))),$e&&(Re?n.texStorage2D(3553,1,je,Ie.width,Ie.height):n.texImage2D(3553,0,je,Ie.width,Ie.height,0,Qe,st,null));else if(z.isDataTexture)if(le.length>0&&at){Re&&$e&&n.texStorage2D(3553,ne,je,le[0].width,le[0].height);for(let ce=0,Oe=le.length;ce<Oe;ce++)Xe=le[ce],Re?n.texSubImage2D(3553,ce,0,0,Xe.width,Xe.height,Qe,st,Xe.data):n.texImage2D(3553,ce,je,Xe.width,Xe.height,0,Qe,st,Xe.data);z.generateMipmaps=!1}else Re?($e&&n.texStorage2D(3553,ne,je,Ie.width,Ie.height),n.texSubImage2D(3553,0,0,0,Ie.width,Ie.height,Qe,st,Ie.data)):n.texImage2D(3553,0,je,Ie.width,Ie.height,0,Qe,st,Ie.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){Re&&$e&&n.texStorage3D(35866,ne,je,le[0].width,le[0].height,Ie.depth);for(let ce=0,Oe=le.length;ce<Oe;ce++)Xe=le[ce],z.format!==zn?Qe!==null?Re?n.compressedTexSubImage3D(35866,ce,0,0,0,Xe.width,Xe.height,Ie.depth,Qe,Xe.data,0,0):n.compressedTexImage3D(35866,ce,je,Xe.width,Xe.height,Ie.depth,0,Xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Re?n.texSubImage3D(35866,ce,0,0,0,Xe.width,Xe.height,Ie.depth,Qe,st,Xe.data):n.texImage3D(35866,ce,je,Xe.width,Xe.height,Ie.depth,0,Qe,st,Xe.data)}else{Re&&$e&&n.texStorage2D(3553,ne,je,le[0].width,le[0].height);for(let ce=0,Oe=le.length;ce<Oe;ce++)Xe=le[ce],z.format!==zn?Qe!==null?Re?n.compressedTexSubImage2D(3553,ce,0,0,Xe.width,Xe.height,Qe,Xe.data):n.compressedTexImage2D(3553,ce,je,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Re?n.texSubImage2D(3553,ce,0,0,Xe.width,Xe.height,Qe,st,Xe.data):n.texImage2D(3553,ce,je,Xe.width,Xe.height,0,Qe,st,Xe.data)}else if(z.isDataArrayTexture)Re?($e&&n.texStorage3D(35866,ne,je,Ie.width,Ie.height,Ie.depth),n.texSubImage3D(35866,0,0,0,0,Ie.width,Ie.height,Ie.depth,Qe,st,Ie.data)):n.texImage3D(35866,0,je,Ie.width,Ie.height,Ie.depth,0,Qe,st,Ie.data);else if(z.isData3DTexture)Re?($e&&n.texStorage3D(32879,ne,je,Ie.width,Ie.height,Ie.depth),n.texSubImage3D(32879,0,0,0,0,Ie.width,Ie.height,Ie.depth,Qe,st,Ie.data)):n.texImage3D(32879,0,je,Ie.width,Ie.height,Ie.depth,0,Qe,st,Ie.data);else if(z.isFramebufferTexture){if($e)if(Re)n.texStorage2D(3553,ne,je,Ie.width,Ie.height);else{let ce=Ie.width,Oe=Ie.height;for(let it=0;it<ne;it++)n.texImage2D(3553,it,je,ce,Oe,0,Qe,st,null),ce>>=1,Oe>>=1}}else if(le.length>0&&at){Re&&$e&&n.texStorage2D(3553,ne,je,le[0].width,le[0].height);for(let ce=0,Oe=le.length;ce<Oe;ce++)Xe=le[ce],Re?n.texSubImage2D(3553,ce,0,0,Qe,st,Xe):n.texImage2D(3553,ce,je,Qe,st,Xe);z.generateMipmaps=!1}else Re?($e&&n.texStorage2D(3553,ne,je,Ie.width,Ie.height),n.texSubImage2D(3553,0,0,0,Qe,st,Ie)):n.texImage2D(3553,0,je,Qe,st,Ie);C(z,at)&&P(we),ze.__version=Ve.version,z.onUpdate&&z.onUpdate(z)}Q.__version=z.version}function me(Q,z,ue){if(z.image.length!==6)return;const we=ae(Q,z),Ge=z.source;n.bindTexture(34067,Q.__webglTexture,33984+ue);const Ve=r.get(Ge);if(Ge.version!==Ve.__version||we===!0){n.activeTexture(33984+ue),t.pixelStorei(37440,z.flipY),t.pixelStorei(37441,z.premultiplyAlpha),t.pixelStorei(3317,z.unpackAlignment),t.pixelStorei(37443,0);const ze=z.isCompressedTexture||z.image[0].isCompressedTexture,Ze=z.image[0]&&z.image[0].isDataTexture,Ie=[];for(let ce=0;ce<6;ce++)!ze&&!Ze?Ie[ce]=x(z.image[ce],!1,!0,u):Ie[ce]=Ze?z.image[ce].image:z.image[ce],Ie[ce]=De(z,Ie[ce]);const at=Ie[0],Qe=M(at)||a,st=s.convert(z.format,z.encoding),je=s.convert(z.type),Xe=T(z.internalFormat,st,je,z.encoding),le=a&&z.isVideoTexture!==!0,Re=Ve.__version===void 0||we===!0;let $e=R(z,at,Qe);Z(34067,z,Qe);let ne;if(ze){le&&Re&&n.texStorage2D(34067,$e,Xe,at.width,at.height);for(let ce=0;ce<6;ce++){ne=Ie[ce].mipmaps;for(let Oe=0;Oe<ne.length;Oe++){const it=ne[Oe];z.format!==zn?st!==null?le?n.compressedTexSubImage2D(34069+ce,Oe,0,0,it.width,it.height,st,it.data):n.compressedTexImage2D(34069+ce,Oe,Xe,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?n.texSubImage2D(34069+ce,Oe,0,0,it.width,it.height,st,je,it.data):n.texImage2D(34069+ce,Oe,Xe,it.width,it.height,0,st,je,it.data)}}}else{ne=z.mipmaps,le&&Re&&(ne.length>0&&$e++,n.texStorage2D(34067,$e,Xe,Ie[0].width,Ie[0].height));for(let ce=0;ce<6;ce++)if(Ze){le?n.texSubImage2D(34069+ce,0,0,0,Ie[ce].width,Ie[ce].height,st,je,Ie[ce].data):n.texImage2D(34069+ce,0,Xe,Ie[ce].width,Ie[ce].height,0,st,je,Ie[ce].data);for(let Oe=0;Oe<ne.length;Oe++){const dt=ne[Oe].image[ce].image;le?n.texSubImage2D(34069+ce,Oe+1,0,0,dt.width,dt.height,st,je,dt.data):n.texImage2D(34069+ce,Oe+1,Xe,dt.width,dt.height,0,st,je,dt.data)}}else{le?n.texSubImage2D(34069+ce,0,0,0,st,je,Ie[ce]):n.texImage2D(34069+ce,0,Xe,st,je,Ie[ce]);for(let Oe=0;Oe<ne.length;Oe++){const it=ne[Oe];le?n.texSubImage2D(34069+ce,Oe+1,0,0,st,je,it.image[ce]):n.texImage2D(34069+ce,Oe+1,Xe,st,je,it.image[ce])}}}C(z,Qe)&&P(34067),Ve.__version=Ge.version,z.onUpdate&&z.onUpdate(z)}Q.__version=z.version}function Ee(Q,z,ue,we,Ge){const Ve=s.convert(ue.format,ue.encoding),ze=s.convert(ue.type),Ze=T(ue.internalFormat,Ve,ze,ue.encoding);r.get(z).__hasExternalTextures||(Ge===32879||Ge===35866?n.texImage3D(Ge,0,Ze,z.width,z.height,z.depth,0,Ve,ze,null):n.texImage2D(Ge,0,Ze,z.width,z.height,0,Ve,ze,null)),n.bindFramebuffer(36160,Q),Ye(z)?d.framebufferTexture2DMultisampleEXT(36160,we,Ge,r.get(ue).__webglTexture,0,Te(z)):(Ge===3553||Ge>=34069&&Ge<=34074)&&t.framebufferTexture2D(36160,we,Ge,r.get(ue).__webglTexture,0),n.bindFramebuffer(36160,null)}function _e(Q,z,ue){if(t.bindRenderbuffer(36161,Q),z.depthBuffer&&!z.stencilBuffer){let we=33189;if(ue||Ye(z)){const Ge=z.depthTexture;Ge&&Ge.isDepthTexture&&(Ge.type===Pn?we=36012:Ge.type===La&&(we=33190));const Ve=Te(z);Ye(z)?d.renderbufferStorageMultisampleEXT(36161,Ve,we,z.width,z.height):t.renderbufferStorageMultisample(36161,Ve,we,z.width,z.height)}else t.renderbufferStorage(36161,we,z.width,z.height);t.framebufferRenderbuffer(36160,36096,36161,Q)}else if(z.depthBuffer&&z.stencilBuffer){const we=Te(z);ue&&Ye(z)===!1?t.renderbufferStorageMultisample(36161,we,35056,z.width,z.height):Ye(z)?d.renderbufferStorageMultisampleEXT(36161,we,35056,z.width,z.height):t.renderbufferStorage(36161,34041,z.width,z.height),t.framebufferRenderbuffer(36160,33306,36161,Q)}else{const we=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Ge=0;Ge<we.length;Ge++){const Ve=we[Ge],ze=s.convert(Ve.format,Ve.encoding),Ze=s.convert(Ve.type),Ie=T(Ve.internalFormat,ze,Ze,Ve.encoding),at=Te(z);ue&&Ye(z)===!1?t.renderbufferStorageMultisample(36161,at,Ie,z.width,z.height):Ye(z)?d.renderbufferStorageMultisampleEXT(36161,at,Ie,z.width,z.height):t.renderbufferStorage(36161,Ie,z.width,z.height)}}t.bindRenderbuffer(36161,null)}function se(Q,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Q),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),V(z.depthTexture,0);const we=r.get(z.depthTexture).__webglTexture,Ge=Te(z);if(z.depthTexture.format===Xl)Ye(z)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,we,0,Ge):t.framebufferTexture2D(36160,36096,3553,we,0);else if(z.depthTexture.format===Ql)Ye(z)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,we,0,Ge):t.framebufferTexture2D(36160,33306,3553,we,0);else throw new Error("Unknown depthTexture format")}function xe(Q){const z=r.get(Q),ue=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!z.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");se(z.__webglFramebuffer,Q)}else if(ue){z.__webglDepthbuffer=[];for(let we=0;we<6;we++)n.bindFramebuffer(36160,z.__webglFramebuffer[we]),z.__webglDepthbuffer[we]=t.createRenderbuffer(),_e(z.__webglDepthbuffer[we],Q,!1)}else n.bindFramebuffer(36160,z.__webglFramebuffer),z.__webglDepthbuffer=t.createRenderbuffer(),_e(z.__webglDepthbuffer,Q,!1);n.bindFramebuffer(36160,null)}function Le(Q,z,ue){const we=r.get(Q);z!==void 0&&Ee(we.__webglFramebuffer,Q,Q.texture,36064,3553),ue!==void 0&&xe(Q)}function Ce(Q){const z=Q.texture,ue=r.get(Q),we=r.get(z);Q.addEventListener("dispose",G),Q.isWebGLMultipleRenderTargets!==!0&&(we.__webglTexture===void 0&&(we.__webglTexture=t.createTexture()),we.__version=z.version,o.memory.textures++);const Ge=Q.isWebGLCubeRenderTarget===!0,Ve=Q.isWebGLMultipleRenderTargets===!0,ze=M(Q)||a;if(Ge){ue.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)ue.__webglFramebuffer[Ze]=t.createFramebuffer()}else{if(ue.__webglFramebuffer=t.createFramebuffer(),Ve)if(i.drawBuffers){const Ze=Q.texture;for(let Ie=0,at=Ze.length;Ie<at;Ie++){const Qe=r.get(Ze[Ie]);Qe.__webglTexture===void 0&&(Qe.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&Ye(Q)===!1){const Ze=Ve?z:[z];ue.__webglMultisampledFramebuffer=t.createFramebuffer(),ue.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer);for(let Ie=0;Ie<Ze.length;Ie++){const at=Ze[Ie];ue.__webglColorRenderbuffer[Ie]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ue.__webglColorRenderbuffer[Ie]);const Qe=s.convert(at.format,at.encoding),st=s.convert(at.type),je=T(at.internalFormat,Qe,st,at.encoding,Q.isXRRenderTarget===!0),Xe=Te(Q);t.renderbufferStorageMultisample(36161,Xe,je,Q.width,Q.height),t.framebufferRenderbuffer(36160,36064+Ie,36161,ue.__webglColorRenderbuffer[Ie])}t.bindRenderbuffer(36161,null),Q.depthBuffer&&(ue.__webglDepthRenderbuffer=t.createRenderbuffer(),_e(ue.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(36160,null)}}if(Ge){n.bindTexture(34067,we.__webglTexture),Z(34067,z,ze);for(let Ze=0;Ze<6;Ze++)Ee(ue.__webglFramebuffer[Ze],Q,z,36064,34069+Ze);C(z,ze)&&P(34067),n.unbindTexture()}else if(Ve){const Ze=Q.texture;for(let Ie=0,at=Ze.length;Ie<at;Ie++){const Qe=Ze[Ie],st=r.get(Qe);n.bindTexture(3553,st.__webglTexture),Z(3553,Qe,ze),Ee(ue.__webglFramebuffer,Q,Qe,36064+Ie,3553),C(Qe,ze)&&P(3553)}n.unbindTexture()}else{let Ze=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?Ze=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ze,we.__webglTexture),Z(Ze,z,ze),Ee(ue.__webglFramebuffer,Q,z,36064,Ze),C(z,ze)&&P(Ze),n.unbindTexture()}Q.depthBuffer&&xe(Q)}function Be(Q){const z=M(Q)||a,ue=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let we=0,Ge=ue.length;we<Ge;we++){const Ve=ue[we];if(C(Ve,z)){const ze=Q.isWebGLCubeRenderTarget?34067:3553,Ze=r.get(Ve).__webglTexture;n.bindTexture(ze,Ze),P(ze),n.unbindTexture()}}}function He(Q){if(a&&Q.samples>0&&Ye(Q)===!1){const z=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],ue=Q.width,we=Q.height;let Ge=16384;const Ve=[],ze=Q.stencilBuffer?33306:36096,Ze=r.get(Q),Ie=Q.isWebGLMultipleRenderTargets===!0;if(Ie)for(let at=0;at<z.length;at++)n.bindFramebuffer(36160,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+at,36161,null),n.bindFramebuffer(36160,Ze.__webglFramebuffer),t.framebufferTexture2D(36009,36064+at,3553,null,0);n.bindFramebuffer(36008,Ze.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ze.__webglFramebuffer);for(let at=0;at<z.length;at++){Ve.push(36064+at),Q.depthBuffer&&Ve.push(ze);const Qe=Ze.__ignoreDepthValues!==void 0?Ze.__ignoreDepthValues:!1;if(Qe===!1&&(Q.depthBuffer&&(Ge|=256),Q.stencilBuffer&&(Ge|=1024)),Ie&&t.framebufferRenderbuffer(36008,36064,36161,Ze.__webglColorRenderbuffer[at]),Qe===!0&&(t.invalidateFramebuffer(36008,[ze]),t.invalidateFramebuffer(36009,[ze])),Ie){const st=r.get(z[at]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,st,0)}t.blitFramebuffer(0,0,ue,we,0,0,ue,we,Ge,9728),m&&t.invalidateFramebuffer(36008,Ve)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Ie)for(let at=0;at<z.length;at++){n.bindFramebuffer(36160,Ze.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+at,36161,Ze.__webglColorRenderbuffer[at]);const Qe=r.get(z[at]).__webglTexture;n.bindFramebuffer(36160,Ze.__webglFramebuffer),t.framebufferTexture2D(36009,36064+at,3553,Qe,0)}n.bindFramebuffer(36009,Ze.__webglMultisampledFramebuffer)}}function Te(Q){return Math.min(f,Q.samples)}function Ye(Q){const z=r.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function We(Q){const z=o.render.frame;g.get(Q)!==z&&(g.set(Q,z),Q.update())}function De(Q,z){const ue=Q.encoding,we=Q.format,Ge=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===yg||ue!==To&&(ue===En?a===!1?e.has("EXT_sRGB")===!0&&we===zn?(Q.format=yg,Q.minFilter=gt,Q.generateMipmaps=!1):z=e7.sRGBToLinear(z):(we!==zn||Ge!==Gn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ue)),z}this.allocateTextureUnit=L,this.resetTextureUnits=ie,this.setTexture2D=V,this.setTexture2DArray=j,this.setTexture3D=k,this.setTextureCube=q,this.rebindTextures=Le,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=He,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=Ye}function hB(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===Gn)return 5121;if(s===zD)return 32819;if(s===GD)return 32820;if(s===UD)return 5120;if(s===ND)return 5122;if(s===Yx)return 5123;if(s===OD)return 5124;if(s===La)return 5125;if(s===Pn)return 5126;if(s===Xn)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===HD)return 6406;if(s===zn)return 6408;if(s===dv)return 6409;if(s===VD)return 6410;if(s===Xl)return 6402;if(s===Ql)return 34041;if(s===yg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===k0)return 6403;if(s===WD)return 36244;if(s===Kx)return 33319;if(s===jD)return 33320;if(s===XD)return 36249;if(s===t1||s===n1||s===r1||s===i1)if(o===En)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===t1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===n1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===r1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===i1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===t1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===n1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===r1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===i1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===uy||s===cy||s===fy||s===hy)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===uy)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===cy)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===fy)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===hy)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===JD)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===dy||s===py)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===dy)return o===En?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===py)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===my||s===gy||s===vy||s===yy||s===xy||s===wy||s===Sy||s===_y||s===My||s===Ay||s===Ey||s===Ty||s===Cy||s===by)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===my)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===gy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===vy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===yy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===xy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===wy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Sy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===_y)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===My)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Ay)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Ey)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Ty)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Cy)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===by)return o===En?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===s1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===s1)return o===En?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===YD||s===Py||s===Ry||s===Dy)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===s1)return a.COMPRESSED_RED_RGTC1_EXT;if(s===Py)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Ry)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Dy)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===jl?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class dB extends In{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ka extends pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const AZ={type:"move"};class L6{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ka,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ka,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ka,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),S=this._getHandJoint(u,v);y!==null&&(S.matrix.fromArray(y.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.jointRadius=y.radius),S.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&d>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(AZ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ka;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class O0 extends bn{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:Xl,c!==Xl&&c!==Ql)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Xl&&(r=La),r===void 0&&c===Ql&&(r=jl),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Nt,this.minFilter=l!==void 0?l:Nt,this.flipY=!1,this.generateMipmaps=!1}}class EZ extends Ts{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,d=null,m=null,g=null;const v=n.getContextAttributes();let y=null,S=null;const w=[],x=[],M=new Set,E=new Map,C=new In;C.layers.enable(1),C.viewport=new qt;const P=new In;P.layers.enable(2),P.viewport=new qt;const T=[C,P],R=new dB;R.layers.enable(1),R.layers.enable(2);let B=null,N=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(k){let q=w[k];return q===void 0&&(q=new L6,w[k]=q),q.getTargetRaySpace()},this.getControllerGrip=function(k){let q=w[k];return q===void 0&&(q=new L6,w[k]=q),q.getGripSpace()},this.getHand=function(k){let q=w[k];return q===void 0&&(q=new L6,w[k]=q),q.getHandSpace()};function G(k){const q=x.indexOf(k.inputSource);if(q===-1)return;const ee=w[q];ee!==void 0&&ee.dispatchEvent({type:k.type,data:k.inputSource})}function J(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",J),i.removeEventListener("inputsourceschange",D);for(let k=0;k<w.length;k++){const q=x[k];q!==null&&(x[k]=null,w[k].disconnect(q))}B=null,N=null,e.setRenderTarget(y),m=null,d=null,f=null,i=null,S=null,j.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(k){s=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(k){a=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(k){u=k},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(k){if(i=k,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",J),i.addEventListener("inputsourceschange",D),v.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,q),i.updateRenderState({baseLayer:m}),S=new $t(m.framebufferWidth,m.framebufferHeight,{format:zn,type:Gn,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let q=null,ee=null,Y=null;v.depth&&(Y=v.stencil?35056:33190,q=v.stencil?Ql:Xl,ee=v.stencil?jl:La);const Z={colorFormat:32856,depthFormat:Y,scaleFactor:s};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(Z),i.updateRenderState({layers:[d]}),S=new $t(d.textureWidth,d.textureHeight,{format:zn,type:Gn,depthTexture:new O0(d.textureWidth,d.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const ae=e.properties.get(S);ae.__ignoreDepthValues=d.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),j.setContext(i),j.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function D(k){for(let q=0;q<k.removed.length;q++){const ee=k.removed[q],Y=x.indexOf(ee);Y>=0&&(x[Y]=null,w[Y].disconnect(ee))}for(let q=0;q<k.added.length;q++){const ee=k.added[q];let Y=x.indexOf(ee);if(Y===-1){for(let ae=0;ae<w.length;ae++)if(ae>=x.length){x.push(ee),Y=ae;break}else if(x[ae]===null){x[ae]=ee,Y=ae;break}if(Y===-1)break}const Z=w[Y];Z&&Z.connect(ee)}}const U=new K,W=new K;function ie(k,q,ee){U.setFromMatrixPosition(q.matrixWorld),W.setFromMatrixPosition(ee.matrixWorld);const Y=U.distanceTo(W),Z=q.projectionMatrix.elements,ae=ee.projectionMatrix.elements,re=Z[14]/(Z[10]-1),me=Z[14]/(Z[10]+1),Ee=(Z[9]+1)/Z[5],_e=(Z[9]-1)/Z[5],se=(Z[8]-1)/Z[0],xe=(ae[8]+1)/ae[0],Le=re*se,Ce=re*xe,Be=Y/(-se+xe),He=Be*-se;q.matrixWorld.decompose(k.position,k.quaternion,k.scale),k.translateX(He),k.translateZ(Be),k.matrixWorld.compose(k.position,k.quaternion,k.scale),k.matrixWorldInverse.copy(k.matrixWorld).invert();const Te=re+Be,Ye=me+Be,We=Le-He,De=Ce+(Y-He),Q=Ee*me/Ye*Te,z=_e*me/Ye*Te;k.projectionMatrix.makePerspective(We,De,Q,z,Te,Ye)}function L(k,q){q===null?k.matrixWorld.copy(k.matrix):k.matrixWorld.multiplyMatrices(q.matrixWorld,k.matrix),k.matrixWorldInverse.copy(k.matrixWorld).invert()}this.updateCamera=function(k){if(i===null)return;R.near=P.near=C.near=k.near,R.far=P.far=C.far=k.far,(B!==R.near||N!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),B=R.near,N=R.far);const q=k.parent,ee=R.cameras;L(R,q);for(let Z=0;Z<ee.length;Z++)L(ee[Z],q);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),k.matrix.copy(R.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale);const Y=k.children;for(let Z=0,ae=Y.length;Z<ae;Z++)Y[Z].updateMatrixWorld(!0);ee.length===2?ie(R,C,P):R.projectionMatrix.copy(C.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(k){l=k,d!==null&&(d.fixedFoveation=k),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=k)},this.getPlanes=function(){return M};let O=null;function V(k,q){if(c=q.getViewerPose(u||o),g=q,c!==null){const ee=c.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let Y=!1;ee.length!==R.cameras.length&&(R.cameras.length=0,Y=!0);for(let Z=0;Z<ee.length;Z++){const ae=ee[Z];let re=null;if(m!==null)re=m.getViewport(ae);else{const Ee=f.getViewSubImage(d,ae);re=Ee.viewport,Z===0&&(e.setRenderTargetTextures(S,Ee.colorTexture,d.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(S))}let me=T[Z];me===void 0&&(me=new In,me.layers.enable(Z),me.viewport=new qt,T[Z]=me),me.matrix.fromArray(ae.transform.matrix),me.projectionMatrix.fromArray(ae.projectionMatrix),me.viewport.set(re.x,re.y,re.width,re.height),Z===0&&R.matrix.copy(me.matrix),Y===!0&&R.cameras.push(me)}}for(let ee=0;ee<w.length;ee++){const Y=x[ee],Z=w[ee];Y!==null&&Z!==void 0&&Z.update(Y,q,u||o)}if(O&&O(k,q),q.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:q.detectedPlanes});let ee=null;for(const Y of M)q.detectedPlanes.has(Y)||(ee===null&&(ee=[]),ee.push(Y));if(ee!==null)for(const Y of ee)M.delete(Y),E.delete(Y),r.dispatchEvent({type:"planeremoved",data:Y});for(const Y of q.detectedPlanes)if(!M.has(Y))M.add(Y),E.set(Y,q.lastChangedTime),r.dispatchEvent({type:"planeadded",data:Y});else{const Z=E.get(Y);Y.lastChangedTime>Z&&(E.set(Y,Y.lastChangedTime),r.dispatchEvent({type:"planechanged",data:Y}))}}g=null}const j=new aB;j.setAnimationLoop(V),this.setAnimationLoop=function(k){O=k},this.dispose=function(){}}}function TZ(t,e){function n(v,y){y.color.getRGB(v.fogColor.value,oB(t)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,S,w,x){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),c(v,y)):y.isMeshPhongMaterial?(i(v,y),u(v,y)):y.isMeshStandardMaterial?(i(v,y),f(v,y),y.isMeshPhysicalMaterial&&d(v,y,x)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,S,w):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===br&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===br&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const S=e.get(y).envMap;if(S&&(v.envMap.value=S,v.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const M=t.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*M}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let w;y.map?w=y.map:y.specularMap?w=y.specularMap:y.displacementMap?w=y.displacementMap:y.normalMap?w=y.normalMap:y.bumpMap?w=y.bumpMap:y.roughnessMap?w=y.roughnessMap:y.metalnessMap?w=y.metalnessMap:y.alphaMap?w=y.alphaMap:y.emissiveMap?w=y.emissiveMap:y.clearcoatMap?w=y.clearcoatMap:y.clearcoatNormalMap?w=y.clearcoatNormalMap:y.clearcoatRoughnessMap?w=y.clearcoatRoughnessMap:y.iridescenceMap?w=y.iridescenceMap:y.iridescenceThicknessMap?w=y.iridescenceThicknessMap:y.specularIntensityMap?w=y.specularIntensityMap:y.specularColorMap?w=y.specularColorMap:y.transmissionMap?w=y.transmissionMap:y.thicknessMap?w=y.thicknessMap:y.sheenColorMap?w=y.sheenColorMap:y.sheenRoughnessMap&&(w=y.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix));let x;y.aoMap?x=y.aoMap:y.lightMap&&(x=y.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uv2Transform.value.copy(x.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,S,w){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*S,v.scale.value=w*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let S;y.map?S=y.map:y.alphaMap&&(S=y.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function c(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function d(v,y,S){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===br&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=S.texture,v.transmissionSamplerSize.value.set(S.width,S.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function CZ(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(w,x){const M=x.program;r.uniformBlockBinding(w,M)}function u(w,x){let M=i[w.id];M===void 0&&(g(w),M=c(w),i[w.id]=M,w.addEventListener("dispose",y));const E=x.program;r.updateUBOMapping(w,E);const C=e.render.frame;s[w.id]!==C&&(d(w),s[w.id]=C)}function c(w){const x=f();w.__bindingPointIndex=x;const M=t.createBuffer(),E=w.__size,C=w.usage;return t.bindBuffer(35345,M),t.bufferData(35345,E,C),t.bindBuffer(35345,null),t.bindBufferBase(35345,x,M),M}function f(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(w){const x=i[w.id],M=w.uniforms,E=w.__cache;t.bindBuffer(35345,x);for(let C=0,P=M.length;C<P;C++){const T=M[C];if(m(T,C,E)===!0){const R=T.__offset,B=Array.isArray(T.value)?T.value:[T.value];let N=0;for(let G=0;G<B.length;G++){const J=B[G],D=v(J);typeof J=="number"?(T.__data[0]=J,t.bufferSubData(35345,R+N,T.__data)):J.isMatrix3?(T.__data[0]=J.elements[0],T.__data[1]=J.elements[1],T.__data[2]=J.elements[2],T.__data[3]=J.elements[0],T.__data[4]=J.elements[3],T.__data[5]=J.elements[4],T.__data[6]=J.elements[5],T.__data[7]=J.elements[0],T.__data[8]=J.elements[6],T.__data[9]=J.elements[7],T.__data[10]=J.elements[8],T.__data[11]=J.elements[0]):(J.toArray(T.__data,N),N+=D.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,R,T.__data)}}t.bindBuffer(35345,null)}function m(w,x,M){const E=w.value;if(M[x]===void 0){if(typeof E=="number")M[x]=E;else{const C=Array.isArray(E)?E:[E],P=[];for(let T=0;T<C.length;T++)P.push(C[T].clone());M[x]=P}return!0}else if(typeof E=="number"){if(M[x]!==E)return M[x]=E,!0}else{const C=Array.isArray(M[x])?M[x]:[M[x]],P=Array.isArray(E)?E:[E];for(let T=0;T<C.length;T++){const R=C[T];if(R.equals(P[T])===!1)return R.copy(P[T]),!0}}return!1}function g(w){const x=w.uniforms;let M=0;const E=16;let C=0;for(let P=0,T=x.length;P<T;P++){const R=x[P],B={boundary:0,storage:0},N=Array.isArray(R.value)?R.value:[R.value];for(let G=0,J=N.length;G<J;G++){const D=N[G],U=v(D);B.boundary+=U.boundary,B.storage+=U.storage}if(R.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=M,P>0){C=M%E;const G=E-C;C!==0&&G-B.boundary<0&&(M+=E-C,R.__offset=M)}M+=B.storage}return C=M%E,C>0&&(M+=E-C),w.__size=M,w.__cache={},this}function v(w){const x={boundary:0,storage:0};return typeof w=="number"?(x.boundary=4,x.storage=4):w.isVector2?(x.boundary=8,x.storage=8):w.isVector3||w.isColor?(x.boundary=16,x.storage=12):w.isVector4?(x.boundary=16,x.storage=16):w.isMatrix3?(x.boundary=48,x.storage=48):w.isMatrix4?(x.boundary=64,x.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),x}function y(w){const x=w.target;x.removeEventListener("dispose",y);const M=o.indexOf(x.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[x.id]),delete i[x.id],delete s[x.id]}function S(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:u,dispose:S}}function bZ(){const t=d0("canvas");return t.style.display="block",t}function xv(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:bZ(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;n!==null?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let f=null,d=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=To,this.useLegacyLights=!0,this.toneMapping=Mo,this.toneMappingExposure=1;const v=this;let y=!1,S=0,w=0,x=null,M=-1,E=null;const C=new qt,P=new qt;let T=null,R=e.width,B=e.height,N=1,G=null,J=null;const D=new qt(0,0,R,B),U=new qt(0,0,R,B);let W=!1;const ie=new gv;let L=!1,O=!1,V=null;const j=new ht,k=new K,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ee(){return x===null?N:1}let Y=n;function Z($,Ae){for(let Pe=0;Pe<$.length;Pe++){const fe=$[Pe],Fe=e.getContext(fe,Ae);if(Fe!==null)return Fe}return null}try{const $={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${qs}`),e.addEventListener("webglcontextlost",st,!1),e.addEventListener("webglcontextrestored",je,!1),e.addEventListener("webglcontextcreationerror",Xe,!1),Y===null){const Ae=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Ae.shift(),Y=Z(Ae,$),Y===null)throw Z(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let ae,re,me,Ee,_e,se,xe,Le,Ce,Be,He,Te,Ye,We,De,Q,z,ue,we,Ge,Ve,ze,Ze,Ie;function at(){ae=new WY(Y),re=new NY(Y,ae,t),ae.init(re),ze=new hB(Y,ae,re),me=new _Z(Y,ae,re),Ee=new JY,_e=new cZ,se=new MZ(Y,ae,me,_e,re,ze,Ee),xe=new zY(v),Le=new VY(v),Ce=new nX(Y,re),Ze=new kY(Y,ae,Ce,re),Be=new jY(Y,Ce,Ee,Ze),He=new QY(Y,Be,Ce,Ee),we=new ZY(Y,re,se),Q=new OY(_e),Te=new uZ(v,xe,Le,ae,re,Ze,Q),Ye=new TZ(v,_e),We=new hZ,De=new yZ(ae,re),ue=new FY(v,xe,Le,me,He,c,o),z=new SZ(v,He,re),Ie=new CZ(Y,Ee,re,me),Ge=new UY(Y,ae,Ee,re),Ve=new XY(Y,ae,Ee,re),Ee.programs=Te.programs,v.capabilities=re,v.extensions=ae,v.properties=_e,v.renderLists=We,v.shadowMap=z,v.state=me,v.info=Ee}at();const Qe=new EZ(v,Y);this.xr=Qe,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const $=ae.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=ae.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function($){$!==void 0&&(N=$,this.setSize(R,B,!1))},this.getSize=function($){return $.set(R,B)},this.setSize=function($,Ae,Pe=!0){if(Qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=$,B=Ae,e.width=Math.floor($*N),e.height=Math.floor(Ae*N),Pe===!0&&(e.style.width=$+"px",e.style.height=Ae+"px"),this.setViewport(0,0,$,Ae)},this.getDrawingBufferSize=function($){return $.set(R*N,B*N).floor()},this.setDrawingBufferSize=function($,Ae,Pe){R=$,B=Ae,N=Pe,e.width=Math.floor($*Pe),e.height=Math.floor(Ae*Pe),this.setViewport(0,0,$,Ae)},this.getCurrentViewport=function($){return $.copy(C)},this.getViewport=function($){return $.copy(D)},this.setViewport=function($,Ae,Pe,fe){$.isVector4?D.set($.x,$.y,$.z,$.w):D.set($,Ae,Pe,fe),me.viewport(C.copy(D).multiplyScalar(N).floor())},this.getScissor=function($){return $.copy(U)},this.setScissor=function($,Ae,Pe,fe){$.isVector4?U.set($.x,$.y,$.z,$.w):U.set($,Ae,Pe,fe),me.scissor(P.copy(U).multiplyScalar(N).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function($){me.setScissorTest(W=$)},this.setOpaqueSort=function($){G=$},this.setTransparentSort=function($){J=$},this.getClearColor=function($){return $.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function($=!0,Ae=!0,Pe=!0){let fe=0;$&&(fe|=16384),Ae&&(fe|=256),Pe&&(fe|=1024),Y.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",st,!1),e.removeEventListener("webglcontextrestored",je,!1),e.removeEventListener("webglcontextcreationerror",Xe,!1),We.dispose(),De.dispose(),_e.dispose(),xe.dispose(),Le.dispose(),He.dispose(),Ze.dispose(),Ie.dispose(),Te.dispose(),Qe.dispose(),Qe.removeEventListener("sessionstart",Oe),Qe.removeEventListener("sessionend",it),V&&(V.dispose(),V=null),dt.stop()};function st($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function je(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const $=Ee.autoReset,Ae=z.enabled,Pe=z.autoUpdate,fe=z.needsUpdate,Fe=z.type;at(),Ee.autoReset=$,z.enabled=Ae,z.autoUpdate=Pe,z.needsUpdate=fe,z.type=Fe}function Xe($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function le($){const Ae=$.target;Ae.removeEventListener("dispose",le),Re(Ae)}function Re($){$e($),_e.remove($)}function $e($){const Ae=_e.get($).programs;Ae!==void 0&&(Ae.forEach(function(Pe){Te.releaseProgram(Pe)}),$.isShaderMaterial&&Te.releaseShaderCache($))}this.renderBufferDirect=function($,Ae,Pe,fe,Fe,wt){Ae===null&&(Ae=q);const F=Fe.isMesh&&Fe.matrixWorld.determinant()<0,X=Zr($,Ae,Pe,fe,Fe);me.setMaterial(fe,F);let oe=Pe.index,pe=1;fe.wireframe===!0&&(oe=Be.getWireframeAttribute(Pe),pe=2);const Se=Pe.drawRange,Me=Pe.attributes.position;let Ke=Se.start*pe,Je=(Se.start+Se.count)*pe;wt!==null&&(Ke=Math.max(Ke,wt.start*pe),Je=Math.min(Je,(wt.start+wt.count)*pe)),oe!==null?(Ke=Math.max(Ke,0),Je=Math.min(Je,oe.count)):Me!=null&&(Ke=Math.max(Ke,0),Je=Math.min(Je,Me.count));const tt=Je-Ke;if(tt<0||tt===1/0)return;Ze.setup(Fe,fe,X,Pe,oe);let nt,qe=Ge;if(oe!==null&&(nt=Ce.get(oe),qe=Ve,qe.setIndex(nt)),Fe.isMesh)fe.wireframe===!0?(me.setLineWidth(fe.wireframeLinewidth*ee()),qe.setMode(1)):qe.setMode(4);else if(Fe.isLine){let ye=fe.linewidth;ye===void 0&&(ye=1),me.setLineWidth(ye*ee()),Fe.isLineSegments?qe.setMode(1):Fe.isLineLoop?qe.setMode(2):qe.setMode(3)}else Fe.isPoints?qe.setMode(0):Fe.isSprite&&qe.setMode(4);if(Fe.isInstancedMesh)qe.renderInstances(Ke,tt,Fe.count);else if(Pe.isInstancedBufferGeometry){const ye=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,nn=Math.min(Pe.instanceCount,ye);qe.renderInstances(Ke,tt,nn)}else qe.render(Ke,tt)},this.compile=function($,Ae){function Pe(fe,Fe,wt){fe.transparent===!0&&fe.side===ri&&fe.forceSinglePass===!1?(fe.side=br,fe.needsUpdate=!0,Gt(fe,Fe,wt),fe.side=Zs,fe.needsUpdate=!0,Gt(fe,Fe,wt),fe.side=ri):Gt(fe,Fe,wt)}d=De.get($),d.init(),g.push(d),$.traverseVisible(function(fe){fe.isLight&&fe.layers.test(Ae.layers)&&(d.pushLight(fe),fe.castShadow&&d.pushShadow(fe))}),d.setupLights(v.useLegacyLights),$.traverse(function(fe){const Fe=fe.material;if(Fe)if(Array.isArray(Fe))for(let wt=0;wt<Fe.length;wt++){const F=Fe[wt];Pe(F,$,fe)}else Pe(Fe,$,fe)}),g.pop(),d=null};let ne=null;function ce($){ne&&ne($)}function Oe(){dt.stop()}function it(){dt.start()}const dt=new aB;dt.setAnimationLoop(ce),typeof self<"u"&&dt.setContext(self),this.setAnimationLoop=function($){ne=$,Qe.setAnimationLoop($),$===null?dt.stop():dt.start()},Qe.addEventListener("sessionstart",Oe),Qe.addEventListener("sessionend",it),this.render=function($,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),Qe.enabled===!0&&Qe.isPresenting===!0&&(Qe.cameraAutoUpdate===!0&&Qe.updateCamera(Ae),Ae=Qe.getCamera()),$.isScene===!0&&$.onBeforeRender(v,$,Ae,x),d=De.get($,g.length),d.init(),g.push(d),j.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),ie.setFromProjectionMatrix(j),O=this.localClippingEnabled,L=Q.init(this.clippingPlanes,O),f=We.get($,m.length),f.init(),m.push(f),Kt($,Ae,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(G,J),L===!0&&Q.beginShadows();const Pe=d.state.shadowsArray;if(z.render(Pe,$,Ae),L===!0&&Q.endShadows(),this.info.autoReset===!0&&this.info.reset(),ue.render(f,$),d.setupLights(v.useLegacyLights),Ae.isArrayCamera){const fe=Ae.cameras;for(let Fe=0,wt=fe.length;Fe<wt;Fe++){const F=fe[Fe];Ot(f,$,F,F.viewport)}}else Ot(f,$,Ae);x!==null&&(se.updateMultisampleRenderTarget(x),se.updateRenderTargetMipmap(x)),$.isScene===!0&&$.onAfterRender(v,$,Ae),Ze.resetDefaultState(),M=-1,E=null,g.pop(),g.length>0?d=g[g.length-1]:d=null,m.pop(),m.length>0?f=m[m.length-1]:f=null};function Kt($,Ae,Pe,fe){if($.visible===!1)return;if($.layers.test(Ae.layers)){if($.isGroup)Pe=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(Ae);else if($.isLight)d.pushLight($),$.castShadow&&d.pushShadow($);else if($.isSprite){if(!$.frustumCulled||ie.intersectsSprite($)){fe&&k.setFromMatrixPosition($.matrixWorld).applyMatrix4(j);const F=He.update($),X=$.material;X.visible&&f.push($,F,X,Pe,k.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==Ee.render.frame&&($.skeleton.update(),$.skeleton.frame=Ee.render.frame),!$.frustumCulled||ie.intersectsObject($))){fe&&k.setFromMatrixPosition($.matrixWorld).applyMatrix4(j);const F=He.update($),X=$.material;if(Array.isArray(X)){const oe=F.groups;for(let pe=0,Se=oe.length;pe<Se;pe++){const Me=oe[pe],Ke=X[Me.materialIndex];Ke&&Ke.visible&&f.push($,F,Ke,Pe,k.z,Me)}}else X.visible&&f.push($,F,X,Pe,k.z,null)}}const wt=$.children;for(let F=0,X=wt.length;F<X;F++)Kt(wt[F],Ae,Pe,fe)}function Ot($,Ae,Pe,fe){const Fe=$.opaque,wt=$.transmissive,F=$.transparent;d.setupLightsView(Pe),L===!0&&Q.setGlobalState(v.clippingPlanes,Pe),wt.length>0&&Wt(Fe,Ae,Pe),fe&&me.viewport(C.copy(fe)),Fe.length>0&&jt(Fe,Ae,Pe),wt.length>0&&jt(wt,Ae,Pe),F.length>0&&jt(F,Ae,Pe),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function Wt($,Ae,Pe){const fe=re.isWebGL2;V===null&&(V=new $t(1024,1024,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?Xn:Gn,minFilter:na,samples:fe&&s===!0?4:0}));const Fe=v.getRenderTarget();v.setRenderTarget(V),v.clear();const wt=v.toneMapping;v.toneMapping=Mo,jt($,Ae,Pe),v.toneMapping=wt,se.updateMultisampleRenderTarget(V),se.updateRenderTargetMipmap(V),v.setRenderTarget(Fe)}function jt($,Ae,Pe){const fe=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Fe=0,wt=$.length;Fe<wt;Fe++){const F=$[Fe],X=F.object,oe=F.geometry,pe=fe===null?F.material:fe,Se=F.group;X.layers.test(Pe.layers)&&on(X,Ae,Pe,oe,pe,Se)}}function on($,Ae,Pe,fe,Fe,wt){$.onBeforeRender(v,Ae,Pe,fe,Fe,wt),$.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Fe.onBeforeRender(v,Ae,Pe,fe,$,wt),Fe.transparent===!0&&Fe.side===ri&&Fe.forceSinglePass===!1?(Fe.side=br,Fe.needsUpdate=!0,v.renderBufferDirect(Pe,Ae,fe,Fe,$,wt),Fe.side=Zs,Fe.needsUpdate=!0,v.renderBufferDirect(Pe,Ae,fe,Fe,$,wt),Fe.side=ri):v.renderBufferDirect(Pe,Ae,fe,Fe,$,wt),$.onAfterRender(v,Ae,Pe,fe,Fe,wt)}function Gt($,Ae,Pe){Ae.isScene!==!0&&(Ae=q);const fe=_e.get($),Fe=d.state.lights,wt=d.state.shadowsArray,F=Fe.state.version,X=Te.getParameters($,Fe.state,wt,Ae,Pe),oe=Te.getProgramCacheKey(X);let pe=fe.programs;fe.environment=$.isMeshStandardMaterial?Ae.environment:null,fe.fog=Ae.fog,fe.envMap=($.isMeshStandardMaterial?Le:xe).get($.envMap||fe.environment),pe===void 0&&($.addEventListener("dispose",le),pe=new Map,fe.programs=pe);let Se=pe.get(oe);if(Se!==void 0){if(fe.currentProgram===Se&&fe.lightsStateVersion===F)return Zt($,X),Se}else X.uniforms=Te.getUniforms($),$.onBuild(Pe,X,v),$.onBeforeCompile(X,v),Se=Te.acquireProgram(X,oe),pe.set(oe,Se),fe.uniforms=X.uniforms;const Me=fe.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(Me.clippingPlanes=Q.uniform),Zt($,X),fe.needsLights=un($),fe.lightsStateVersion=F,fe.needsLights&&(Me.ambientLightColor.value=Fe.state.ambient,Me.lightProbe.value=Fe.state.probe,Me.directionalLights.value=Fe.state.directional,Me.directionalLightShadows.value=Fe.state.directionalShadow,Me.spotLights.value=Fe.state.spot,Me.spotLightShadows.value=Fe.state.spotShadow,Me.rectAreaLights.value=Fe.state.rectArea,Me.ltc_1.value=Fe.state.rectAreaLTC1,Me.ltc_2.value=Fe.state.rectAreaLTC2,Me.pointLights.value=Fe.state.point,Me.pointLightShadows.value=Fe.state.pointShadow,Me.hemisphereLights.value=Fe.state.hemi,Me.directionalShadowMap.value=Fe.state.directionalShadowMap,Me.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,Me.spotShadowMap.value=Fe.state.spotShadowMap,Me.spotLightMatrix.value=Fe.state.spotLightMatrix,Me.spotLightMap.value=Fe.state.spotLightMap,Me.pointShadowMap.value=Fe.state.pointShadowMap,Me.pointShadowMatrix.value=Fe.state.pointShadowMatrix);const Ke=Se.getUniforms(),Je=l1.seqWithValue(Ke.seq,Me);return fe.currentProgram=Se,fe.uniformsList=Je,Se}function Zt($,Ae){const Pe=_e.get($);Pe.outputEncoding=Ae.outputEncoding,Pe.instancing=Ae.instancing,Pe.skinning=Ae.skinning,Pe.morphTargets=Ae.morphTargets,Pe.morphNormals=Ae.morphNormals,Pe.morphColors=Ae.morphColors,Pe.morphTargetsCount=Ae.morphTargetsCount,Pe.numClippingPlanes=Ae.numClippingPlanes,Pe.numIntersection=Ae.numClipIntersection,Pe.vertexAlphas=Ae.vertexAlphas,Pe.vertexTangents=Ae.vertexTangents,Pe.toneMapping=Ae.toneMapping}function Zr($,Ae,Pe,fe,Fe){Ae.isScene!==!0&&(Ae=q),se.resetTextureUnits();const wt=Ae.fog,F=fe.isMeshStandardMaterial?Ae.environment:null,X=x===null?v.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:To,oe=(fe.isMeshStandardMaterial?Le:xe).get(fe.envMap||F),pe=fe.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,Se=!!fe.normalMap&&!!Pe.attributes.tangent,Me=!!Pe.morphAttributes.position,Ke=!!Pe.morphAttributes.normal,Je=!!Pe.morphAttributes.color,tt=fe.toneMapped?v.toneMapping:Mo,nt=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,qe=nt!==void 0?nt.length:0,ye=_e.get(fe),nn=d.state.lights;if(L===!0&&(O===!0||$!==E)){const Ct=$===E&&fe.id===M;Q.setState(fe,$,Ct)}let ut=!1;fe.version===ye.__version?(ye.needsLights&&ye.lightsStateVersion!==nn.state.version||ye.outputEncoding!==X||Fe.isInstancedMesh&&ye.instancing===!1||!Fe.isInstancedMesh&&ye.instancing===!0||Fe.isSkinnedMesh&&ye.skinning===!1||!Fe.isSkinnedMesh&&ye.skinning===!0||ye.envMap!==oe||fe.fog===!0&&ye.fog!==wt||ye.numClippingPlanes!==void 0&&(ye.numClippingPlanes!==Q.numPlanes||ye.numIntersection!==Q.numIntersection)||ye.vertexAlphas!==pe||ye.vertexTangents!==Se||ye.morphTargets!==Me||ye.morphNormals!==Ke||ye.morphColors!==Je||ye.toneMapping!==tt||re.isWebGL2===!0&&ye.morphTargetsCount!==qe)&&(ut=!0):(ut=!0,ye.__version=fe.version);let pt=ye.currentProgram;ut===!0&&(pt=Gt(fe,Ae,Fe));let Dt=!1,It=!1,Qt=!1;const Tt=pt.getUniforms(),Mt=ye.uniforms;if(me.useProgram(pt.program)&&(Dt=!0,It=!0,Qt=!0),fe.id!==M&&(M=fe.id,It=!0),Dt||E!==$){if(Tt.setValue(Y,"projectionMatrix",$.projectionMatrix),re.logarithmicDepthBuffer&&Tt.setValue(Y,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),E!==$&&(E=$,It=!0,Qt=!0),fe.isShaderMaterial||fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshStandardMaterial||fe.envMap){const Ct=Tt.map.cameraPosition;Ct!==void 0&&Ct.setValue(Y,k.setFromMatrixPosition($.matrixWorld))}(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&Tt.setValue(Y,"isOrthographic",$.isOrthographicCamera===!0),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial||fe.isShadowMaterial||Fe.isSkinnedMesh)&&Tt.setValue(Y,"viewMatrix",$.matrixWorldInverse)}if(Fe.isSkinnedMesh){Tt.setOptional(Y,Fe,"bindMatrix"),Tt.setOptional(Y,Fe,"bindMatrixInverse");const Ct=Fe.skeleton;Ct&&(re.floatVertexTextures?(Ct.boneTexture===null&&Ct.computeBoneTexture(),Tt.setValue(Y,"boneTexture",Ct.boneTexture,se),Tt.setValue(Y,"boneTextureSize",Ct.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Lt=Pe.morphAttributes;if((Lt.position!==void 0||Lt.normal!==void 0||Lt.color!==void 0&&re.isWebGL2===!0)&&we.update(Fe,Pe,pt),(It||ye.receiveShadow!==Fe.receiveShadow)&&(ye.receiveShadow=Fe.receiveShadow,Tt.setValue(Y,"receiveShadow",Fe.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Mt.envMap.value=oe,Mt.flipEnvMap.value=oe.isCubeTexture&&oe.isRenderTargetTexture===!1?-1:1),It&&(Tt.setValue(Y,"toneMappingExposure",v.toneMappingExposure),ye.needsLights&&Dr(Mt,Qt),wt&&fe.fog===!0&&Ye.refreshFogUniforms(Mt,wt),Ye.refreshMaterialUniforms(Mt,fe,N,B,V),l1.upload(Y,ye.uniformsList,Mt,se)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(l1.upload(Y,ye.uniformsList,Mt,se),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&Tt.setValue(Y,"center",Fe.center),Tt.setValue(Y,"modelViewMatrix",Fe.modelViewMatrix),Tt.setValue(Y,"normalMatrix",Fe.normalMatrix),Tt.setValue(Y,"modelMatrix",Fe.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const Ct=fe.uniformsGroups;for(let mn=0,zt=Ct.length;mn<zt;mn++)if(re.isWebGL2){const Sn=Ct[mn];Ie.update(Sn,pt),Ie.bind(Sn,pt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pt}function Dr($,Ae){$.ambientLightColor.needsUpdate=Ae,$.lightProbe.needsUpdate=Ae,$.directionalLights.needsUpdate=Ae,$.directionalLightShadows.needsUpdate=Ae,$.pointLights.needsUpdate=Ae,$.pointLightShadows.needsUpdate=Ae,$.spotLights.needsUpdate=Ae,$.spotLightShadows.needsUpdate=Ae,$.rectAreaLights.needsUpdate=Ae,$.hemisphereLights.needsUpdate=Ae}function un($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function($,Ae,Pe){_e.get($.texture).__webglTexture=Ae,_e.get($.depthTexture).__webglTexture=Pe;const fe=_e.get($);fe.__hasExternalTextures=!0,fe.__hasExternalTextures&&(fe.__autoAllocateDepthBuffer=Pe===void 0,fe.__autoAllocateDepthBuffer||ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,Ae){const Pe=_e.get($);Pe.__webglFramebuffer=Ae,Pe.__useDefaultFramebuffer=Ae===void 0},this.setRenderTarget=function($,Ae=0,Pe=0){x=$,S=Ae,w=Pe;let fe=!0,Fe=null,wt=!1,F=!1;if($){const oe=_e.get($);oe.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(36160,null),fe=!1):oe.__webglFramebuffer===void 0?se.setupRenderTarget($):oe.__hasExternalTextures&&se.rebindTextures($,_e.get($.texture).__webglTexture,_e.get($.depthTexture).__webglTexture);const pe=$.texture;(pe.isData3DTexture||pe.isDataArrayTexture||pe.isCompressedArrayTexture)&&(F=!0);const Se=_e.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Fe=Se[Ae],wt=!0):re.isWebGL2&&$.samples>0&&se.useMultisampledRTT($)===!1?Fe=_e.get($).__webglMultisampledFramebuffer:Fe=Se,C.copy($.viewport),P.copy($.scissor),T=$.scissorTest}else C.copy(D).multiplyScalar(N).floor(),P.copy(U).multiplyScalar(N).floor(),T=W;if(me.bindFramebuffer(36160,Fe)&&re.drawBuffers&&fe&&me.drawBuffers($,Fe),me.viewport(C),me.scissor(P),me.setScissorTest(T),wt){const oe=_e.get($.texture);Y.framebufferTexture2D(36160,36064,34069+Ae,oe.__webglTexture,Pe)}else if(F){const oe=_e.get($.texture),pe=Ae||0;Y.framebufferTextureLayer(36160,36064,oe.__webglTexture,Pe||0,pe)}M=-1},this.readRenderTargetPixels=function($,Ae,Pe,fe,Fe,wt,F){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let X=_e.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&F!==void 0&&(X=X[F]),X){me.bindFramebuffer(36160,X);try{const oe=$.texture,pe=oe.format,Se=oe.type;if(pe!==zn&&ze.convert(pe)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Me=Se===Xn&&(ae.has("EXT_color_buffer_half_float")||re.isWebGL2&&ae.has("EXT_color_buffer_float"));if(Se!==Gn&&ze.convert(Se)!==Y.getParameter(35738)&&!(Se===Pn&&(re.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!Me){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=$.width-fe&&Pe>=0&&Pe<=$.height-Fe&&Y.readPixels(Ae,Pe,fe,Fe,ze.convert(pe),ze.convert(Se),wt)}finally{const oe=x!==null?_e.get(x).__webglFramebuffer:null;me.bindFramebuffer(36160,oe)}}},this.copyFramebufferToTexture=function($,Ae,Pe=0){const fe=Math.pow(2,-Pe),Fe=Math.floor(Ae.image.width*fe),wt=Math.floor(Ae.image.height*fe);se.setTexture2D(Ae,0),Y.copyTexSubImage2D(3553,Pe,0,0,$.x,$.y,Fe,wt),me.unbindTexture()},this.copyTextureToTexture=function($,Ae,Pe,fe=0){const Fe=Ae.image.width,wt=Ae.image.height,F=ze.convert(Pe.format),X=ze.convert(Pe.type);se.setTexture2D(Pe,0),Y.pixelStorei(37440,Pe.flipY),Y.pixelStorei(37441,Pe.premultiplyAlpha),Y.pixelStorei(3317,Pe.unpackAlignment),Ae.isDataTexture?Y.texSubImage2D(3553,fe,$.x,$.y,Fe,wt,F,X,Ae.image.data):Ae.isCompressedTexture?Y.compressedTexSubImage2D(3553,fe,$.x,$.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,F,Ae.mipmaps[0].data):Y.texSubImage2D(3553,fe,$.x,$.y,F,X,Ae.image),fe===0&&Pe.generateMipmaps&&Y.generateMipmap(3553),me.unbindTexture()},this.copyTextureToTexture3D=function($,Ae,Pe,fe,Fe=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const wt=$.max.x-$.min.x+1,F=$.max.y-$.min.y+1,X=$.max.z-$.min.z+1,oe=ze.convert(fe.format),pe=ze.convert(fe.type);let Se;if(fe.isData3DTexture)se.setTexture3D(fe,0),Se=32879;else if(fe.isDataArrayTexture)se.setTexture2DArray(fe,0),Se=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(37440,fe.flipY),Y.pixelStorei(37441,fe.premultiplyAlpha),Y.pixelStorei(3317,fe.unpackAlignment);const Me=Y.getParameter(3314),Ke=Y.getParameter(32878),Je=Y.getParameter(3316),tt=Y.getParameter(3315),nt=Y.getParameter(32877),qe=Pe.isCompressedTexture?Pe.mipmaps[0]:Pe.image;Y.pixelStorei(3314,qe.width),Y.pixelStorei(32878,qe.height),Y.pixelStorei(3316,$.min.x),Y.pixelStorei(3315,$.min.y),Y.pixelStorei(32877,$.min.z),Pe.isDataTexture||Pe.isData3DTexture?Y.texSubImage3D(Se,Fe,Ae.x,Ae.y,Ae.z,wt,F,X,oe,pe,qe.data):Pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(Se,Fe,Ae.x,Ae.y,Ae.z,wt,F,X,oe,qe.data)):Y.texSubImage3D(Se,Fe,Ae.x,Ae.y,Ae.z,wt,F,X,oe,pe,qe),Y.pixelStorei(3314,Me),Y.pixelStorei(32878,Ke),Y.pixelStorei(3316,Je),Y.pixelStorei(3315,tt),Y.pixelStorei(32877,nt),Fe===0&&fe.generateMipmaps&&Y.generateMipmap(Se),me.unbindTexture()},this.initTexture=function($){$.isCubeTexture?se.setTextureCube($,0):$.isData3DTexture?se.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?se.setTexture2DArray($,0):se.setTexture2D($,0),me.unbindTexture()},this.resetState=function(){S=0,w=0,x=null,me.reset(),Ze.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(xv.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}}});class pB extends xv{}pB.prototype.isWebGL1Renderer=!0;class wv{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=n}clone(){return new wv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Sv{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=n,this.far=r}clone(){return new Sv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Xa extends pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class z0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=f0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ws()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ws()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ws()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const bi=new K;class Qi{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)bi.fromBufferAttribute(this,n),bi.applyMatrix4(e),this.setXYZ(n,bi.x,bi.y,bi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)bi.fromBufferAttribute(this,n),bi.applyNormalMatrix(e),this.setXYZ(n,bi.x,bi.y,bi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)bi.fromBufferAttribute(this,n),bi.transformDirection(e),this.setXYZ(n,bi.x,bi.y,bi.z);return this}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Fa(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Fa(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Fa(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Fa(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),r=Fn(r,this.array),i=Fn(i,this.array),s=Fn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new ln(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qi(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class o7 extends pr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let rf;const Rd=new K,sf=new K,of=new K,af=new ve,Dd=new ve,mB=new ht,J2=new K,Bd=new K,Y2=new K,HA=new ve,F6=new ve,VA=new ve;class gB extends pn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",rf===void 0){rf=new Vt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new z0(n,5);rf.setIndex([0,1,2,0,2,3]),rf.setAttribute("position",new Qi(r,3,0,!1)),rf.setAttribute("uv",new Qi(r,2,3,!1))}this.geometry=rf,this.material=e!==void 0?e:new o7,this.center=new ve(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),sf.setFromMatrixScale(this.matrixWorld),mB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),of.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&sf.multiplyScalar(-of.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;K2(J2.set(-.5,-.5,0),of,o,sf,i,s),K2(Bd.set(.5,-.5,0),of,o,sf,i,s),K2(Y2.set(.5,.5,0),of,o,sf,i,s),HA.set(0,0),F6.set(1,0),VA.set(1,1);let a=e.ray.intersectTriangle(J2,Bd,Y2,!1,Rd);if(a===null&&(K2(Bd.set(-.5,.5,0),of,o,sf,i,s),F6.set(0,1),a=e.ray.intersectTriangle(J2,Y2,Bd,!1,Rd),a===null))return;const l=e.ray.origin.distanceTo(Rd);l<e.near||l>e.far||n.push({distance:l,point:Rd.clone(),uv:Hs.getUV(Rd,J2,Bd,Y2,HA,F6,VA,new ve),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function K2(t,e,n,r,i,s){af.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Dd.x=s*af.x-i*af.y,Dd.y=i*af.x+s*af.y):Dd.copy(af),t.copy(e),t.x+=Dd.x,t.y+=Dd.y,t.applyMatrix4(mB)}const Z2=new K,WA=new K;class vB extends pn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Z2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Z2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Z2.setFromMatrixPosition(e.matrixWorld),WA.setFromMatrixPosition(this.matrixWorld);const r=Z2.distanceTo(WA)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const jA=new K,XA=new qt,JA=new qt,PZ=new K,YA=new ht;class a7 extends Un{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ht,this.bindMatrixInverse=new ht}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;XA.fromBufferAttribute(i.attributes.skinIndex,e),JA.fromBufferAttribute(i.attributes.skinWeight,e),jA.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=JA.getComponent(s);if(o!==0){const a=XA.getComponent(s);YA.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(PZ.copy(jA).applyMatrix4(YA),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class _v extends pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qo extends bn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=Nt,c=Nt,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KA=new ht,RZ=new ht;class G0{constructor(e=[],n=[]){this.uuid=ws(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:RZ;KA.multiplyMatrices(a,n[s]),KA.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new G0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=nB(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new qo(n,e,e,zn,Pn);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _v),this.bones.push(o),this.boneInverses.push(new ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class vc extends ln{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ZA=new ht,QA=new ht,Q2=[],DZ=new ht,Id=new Un;class l7 extends Un{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new vc(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,DZ)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Id.geometry=this.geometry,Id.material=this.material,Id.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,ZA),QA.multiplyMatrices(r,ZA),Id.matrixWorld=QA,Id.raycast(e,Q2);for(let o=0,a=Q2.length;o<a;o++){const l=Q2[o];l.instanceId=s,l.object=this,n.push(l)}Q2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new vc(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Si extends pr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const qA=new K,$A=new K,eE=new ht,k6=new Ph,q2=new Cs;let Ja=class extends pn{constructor(e=new Vt,n=new Si){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)qA.fromBufferAttribute(n,i-1),$A.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=qA.distanceTo($A);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),q2.copy(r.boundingSphere),q2.applyMatrix4(i),q2.radius+=s,e.ray.intersectsSphere(q2)===!1)return;eE.copy(i).invert(),k6.copy(e.ray).applyMatrix4(eE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new K,c=new K,f=new K,d=new K,m=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const S=Math.max(0,o.start),w=Math.min(g.count,o.start+o.count);for(let x=S,M=w-1;x<M;x+=m){const E=g.getX(x),C=g.getX(x+1);if(u.fromBufferAttribute(y,E),c.fromBufferAttribute(y,C),k6.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(d);T<e.near||T>e.far||n.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const S=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let x=S,M=w-1;x<M;x+=m){if(u.fromBufferAttribute(y,x),c.fromBufferAttribute(y,x+1),k6.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const tE=new K,nE=new K;class Po extends Ja{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)tE.fromBufferAttribute(n,i),nE.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+tE.distanceTo(nE);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class u7 extends Ja{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Mv extends pr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const rE=new ht,Ly=new Ph,$2=new Cs,em=new K;class c7 extends pn{constructor(e=new Vt,n=new Mv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$2.copy(r.boundingSphere),$2.applyMatrix4(i),$2.radius+=s,e.ray.intersectsSphere($2)===!1)return;rE.copy(i).invert(),Ly.copy(e.ray).applyMatrix4(rE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=d,v=m;g<v;g++){const y=u.getX(g);em.fromBufferAttribute(f,y),iE(em,y,l,i,e,n,this)}}else{const d=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=d,v=m;g<v;g++)em.fromBufferAttribute(f,g),iE(em,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function iE(t,e,n,r,i,s,o){const a=Ly.distanceSqToPoint(t);if(a<n){const l=new K;Ly.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class yB extends bn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:gt,this.magFilter=s!==void 0?s:gt,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Fy extends bn{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Nt,this.minFilter=Nt,this.generateMipmaps=!1,this.needsUpdate=!0}}class f7 extends bn{constructor(e,n,r,i,s,o,a,l,u,c,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class BZ extends f7{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Cr}}class xB extends bn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ro{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],d=r[i+1]-c,m=(o-c)/d;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ve:new K);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new K,i=[],s=[],o=[],a=new K,l=new ht;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new K)}s[0]=new K,o[0]=new K;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(_r(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(_r(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class H0 extends Ro{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new ve,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,m=u-this.aY;l=d*c-m*f+this.aX,u=d*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wB extends H0{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function h7(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let d=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;d*=c,m*=c,i(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const tm=new K,U6=new h7,N6=new h7,O6=new h7;class SB extends Ro{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new K){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(tm.subVectors(i[0],i[1]).add(i[0]),u=tm);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(tm.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=tm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(c),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),U6.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,g,v,y),N6.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,g,v,y),O6.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,g,v,y)}else this.curveType==="catmullrom"&&(U6.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),N6.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),O6.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(U6.calc(l),N6.calc(l),O6.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new K().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function sE(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function IZ(t,e){const n=1-t;return n*n*e}function LZ(t,e){return 2*(1-t)*t*e}function FZ(t,e){return t*t*e}function Mp(t,e,n,r){return IZ(t,e)+LZ(t,n)+FZ(t,r)}function kZ(t,e){const n=1-t;return n*n*n*e}function UZ(t,e){const n=1-t;return 3*n*n*t*e}function NZ(t,e){return 3*(1-t)*t*t*e}function OZ(t,e){return t*t*t*e}function Ap(t,e,n,r,i){return kZ(t,e)+UZ(t,n)+NZ(t,r)+OZ(t,i)}class d7 extends Ro{constructor(e=new ve,n=new ve,r=new ve,i=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ve){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Ap(e,i.x,s.x,o.x,a.x),Ap(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _B extends Ro{constructor(e=new K,n=new K,r=new K,i=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new K){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Ap(e,i.x,s.x,o.x,a.x),Ap(e,i.y,s.y,o.y,a.y),Ap(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Av extends Ro{constructor(e=new ve,n=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ve){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MB extends Ro{constructor(e=new K,n=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new K){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new K){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p7 extends Ro{constructor(e=new ve,n=new ve,r=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ve){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Mp(e,i.x,s.x,o.x),Mp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m7 extends Ro{constructor(e=new K,n=new K,r=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new K){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Mp(e,i.x,s.x,o.x),Mp(e,i.y,s.y,o.y),Mp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class g7 extends Ro{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ve){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(sE(a,l.x,u.x,c.x,f.x),sE(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ve().fromArray(i))}return this}}var v7=Object.freeze({__proto__:null,ArcCurve:wB,CatmullRomCurve3:SB,CubicBezierCurve:d7,CubicBezierCurve3:_B,EllipseCurve:H0,LineCurve:Av,LineCurve3:MB,QuadraticBezierCurve:p7,QuadraticBezierCurve3:m7,SplineCurve:g7});class AB extends Ro{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Av(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new v7[i.type]().fromJSON(i))}return this}}class p0 extends AB{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Av(this.currentPoint.clone(),new ve(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new p7(this.currentPoint.clone(),new ve(e,n),new ve(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new d7(this.currentPoint.clone(),new ve(e,n),new ve(r,i),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new g7(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new H0(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lh extends Vt{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=_r(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new K,d=new ve,m=new K,g=new K,v=new K;let y=0,S=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,m.x=S*1,m.y=-y,m.z=S*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,m.x=S*1,m.y=-y,m.z=S*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let w=0;w<=n;w++){const x=r+w*c*i,M=Math.sin(x),E=Math.cos(x);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*M,f.y=e[C].y,f.z=e[C].x*E,o.push(f.x,f.y,f.z),d.x=w/n,d.y=C/(e.length-1),a.push(d.x,d.y);const P=l[3*C+0]*M,T=l[3*C+1],R=l[3*C+0]*E;u.push(P,T,R)}}for(let w=0;w<n;w++)for(let x=0;x<e.length-1;x++){const M=x+w*e.length,E=M,C=M+e.length,P=M+e.length+1,T=M+1;s.push(E,C,T),s.push(P,T,C)}this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("uv",new St(a,2)),this.setAttribute("normal",new St(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lh(e.points,e.segments,e.phiStart,e.phiLength)}}class V0 extends Lh{constructor(e=1,n=1,r=4,i=8){const s=new p0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new V0(e.radius,e.length,e.capSegments,e.radialSegments)}}class W0 extends Vt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new K,c=new ve;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("normal",new St(a,3)),this.setAttribute("uv",new St(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _c extends Vt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],d=[],m=[];let g=0;const v=[],y=r/2;let S=0;w(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(c),this.setAttribute("position",new St(f,3)),this.setAttribute("normal",new St(d,3)),this.setAttribute("uv",new St(m,2));function w(){const M=new K,E=new K;let C=0;const P=(n-e)/r;for(let T=0;T<=s;T++){const R=[],B=T/s,N=B*(n-e)+e;for(let G=0;G<=i;G++){const J=G/i,D=J*l+a,U=Math.sin(D),W=Math.cos(D);E.x=N*U,E.y=-B*r+y,E.z=N*W,f.push(E.x,E.y,E.z),M.set(U,P,W).normalize(),d.push(M.x,M.y,M.z),m.push(J,1-B),R.push(g++)}v.push(R)}for(let T=0;T<i;T++)for(let R=0;R<s;R++){const B=v[R][T],N=v[R+1][T],G=v[R+1][T+1],J=v[R][T+1];c.push(B,N,J),c.push(N,G,J),C+=6}u.addGroup(S,C,0),S+=C}function x(M){const E=g,C=new ve,P=new K;let T=0;const R=M===!0?e:n,B=M===!0?1:-1;for(let G=1;G<=i;G++)f.push(0,y*B,0),d.push(0,B,0),m.push(.5,.5),g++;const N=g;for(let G=0;G<=i;G++){const D=G/i*l+a,U=Math.cos(D),W=Math.sin(D);P.x=R*W,P.y=y*B,P.z=R*U,f.push(P.x,P.y,P.z),d.push(0,B,0),C.x=U*.5+.5,C.y=W*.5*B+.5,m.push(C.x,C.y),g++}for(let G=0;G<i;G++){const J=E+G,D=N+G;M===!0?c.push(D,D+1,J):c.push(D+1,D,J),T+=3}u.addGroup(S,T,M===!0?1:2),S+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _c(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class j0 extends _c{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new j0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qa extends Vt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new St(s,3)),this.setAttribute("normal",new St(s.slice(),3)),this.setAttribute("uv",new St(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const x=new K,M=new K,E=new K;for(let C=0;C<n.length;C+=3)m(n[C+0],x),m(n[C+1],M),m(n[C+2],E),l(x,M,E,w)}function l(w,x,M,E){const C=E+1,P=[];for(let T=0;T<=C;T++){P[T]=[];const R=w.clone().lerp(M,T/C),B=x.clone().lerp(M,T/C),N=C-T;for(let G=0;G<=N;G++)G===0&&T===C?P[T][G]=R:P[T][G]=R.clone().lerp(B,G/N)}for(let T=0;T<C;T++)for(let R=0;R<2*(C-T)-1;R++){const B=Math.floor(R/2);R%2===0?(d(P[T][B+1]),d(P[T+1][B]),d(P[T][B])):(d(P[T][B+1]),d(P[T+1][B+1]),d(P[T+1][B]))}}function u(w){const x=new K;for(let M=0;M<s.length;M+=3)x.x=s[M+0],x.y=s[M+1],x.z=s[M+2],x.normalize().multiplyScalar(w),s[M+0]=x.x,s[M+1]=x.y,s[M+2]=x.z}function c(){const w=new K;for(let x=0;x<s.length;x+=3){w.x=s[x+0],w.y=s[x+1],w.z=s[x+2];const M=y(w)/2/Math.PI+.5,E=S(w)/Math.PI+.5;o.push(M,1-E)}g(),f()}function f(){for(let w=0;w<o.length;w+=6){const x=o[w+0],M=o[w+2],E=o[w+4],C=Math.max(x,M,E),P=Math.min(x,M,E);C>.9&&P<.1&&(x<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),E<.2&&(o[w+4]+=1))}}function d(w){s.push(w.x,w.y,w.z)}function m(w,x){const M=w*3;x.x=e[M+0],x.y=e[M+1],x.z=e[M+2]}function g(){const w=new K,x=new K,M=new K,E=new K,C=new ve,P=new ve,T=new ve;for(let R=0,B=0;R<s.length;R+=9,B+=6){w.set(s[R+0],s[R+1],s[R+2]),x.set(s[R+3],s[R+4],s[R+5]),M.set(s[R+6],s[R+7],s[R+8]),C.set(o[B+0],o[B+1]),P.set(o[B+2],o[B+3]),T.set(o[B+4],o[B+5]),E.copy(w).add(x).add(M).divideScalar(3);const N=y(E);v(C,B+0,w,N),v(P,B+2,x,N),v(T,B+4,M,N)}}function v(w,x,M,E){E<0&&w.x===1&&(o[x]=w.x-1),M.x===0&&M.z===0&&(o[x]=E/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function S(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qa(e.vertices,e.indices,e.radius,e.details)}}class X0 extends Qa{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new X0(e.radius,e.detail)}}const nm=new K,rm=new K,z6=new K,im=new Hs;class EB extends Vt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(tc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:S}=im;if(v.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),S.fromBufferAttribute(a,u[2]),im.getNormal(z6),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const x=(w+1)%3,M=f[w],E=f[x],C=im[c[w]],P=im[c[x]],T=`${M}_${E}`,R=`${E}_${M}`;R in d&&d[R]?(z6.dot(d[R].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(P.x,P.y,P.z)),d[R]=null):T in d||(d[T]={index0:u[w],index1:u[x],normal:z6.clone()})}}for(const g in d)if(d[g]){const{index0:v,index1:y}=d[g];nm.fromBufferAttribute(a,v),rm.fromBufferAttribute(a,y),m.push(nm.x,nm.y,nm.z),m.push(rm.x,rm.y,rm.z)}this.setAttribute("position",new St(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let ic=class extends p0{constructor(e){super(e),this.uuid=ws(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new p0().fromJSON(i))}return this}};const zZ={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=TB(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,d,m;if(r&&(s=jZ(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)f=t[g],d=t[g+1],f<a&&(a=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return m0(s,o,n,a,l,m,0),o}};function TB(t,e,n,r,i){let s,o;if(i===nQ(t,e,n,r)>0)for(s=e;s<n;s+=r)o=oE(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=oE(s,t[s],t[s+1],o);return o&&Ev(o,o.next)&&(v0(o),o=o.next),o}function yc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Ev(n,n.next)||ir(n.prev,n,n.next)===0)){if(v0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function m0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&ZZ(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?HZ(t,r,i,s):GZ(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),v0(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=VZ(yc(t),e,n),m0(t,e,n,r,i,s,2)):o===2&&WZ(t,e,n,r,i,s):m0(yc(t),e,n,r,i,s,1);break}}}function GZ(t){const e=t.prev,n=t,r=t.next;if(ir(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=d&&g.y>=f&&g.y<=m&&Lf(i,a,s,l,o,u,g.x,g.y)&&ir(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function HZ(t,e,n,r){const i=t.prev,s=t,o=t.next;if(ir(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,d=o.y,m=a<l?a<u?a:u:l<u?l:u,g=c<f?c<d?c:d:f<d?f:d,v=a>l?a>u?a:u:l>u?l:u,y=c>f?c>d?c:d:f>d?f:d,S=ky(m,g,e,n,r),w=ky(v,y,e,n,r);let x=t.prevZ,M=t.nextZ;for(;x&&x.z>=S&&M&&M.z<=w;){if(x.x>=m&&x.x<=v&&x.y>=g&&x.y<=y&&x!==i&&x!==o&&Lf(a,c,l,f,u,d,x.x,x.y)&&ir(x.prev,x,x.next)>=0||(x=x.prevZ,M.x>=m&&M.x<=v&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Lf(a,c,l,f,u,d,M.x,M.y)&&ir(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;x&&x.z>=S;){if(x.x>=m&&x.x<=v&&x.y>=g&&x.y<=y&&x!==i&&x!==o&&Lf(a,c,l,f,u,d,x.x,x.y)&&ir(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;M&&M.z<=w;){if(M.x>=m&&M.x<=v&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Lf(a,c,l,f,u,d,M.x,M.y)&&ir(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function VZ(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Ev(i,s)&&CB(i,r,r.next,s)&&g0(i,s)&&g0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),v0(r),v0(r.next),r=t=s),r=r.next}while(r!==t);return yc(r)}function WZ(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&$Z(o,a)){let l=bB(o,a);o=yc(o,o.next),l=yc(l,l.next),m0(o,e,n,r,i,s,0),m0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function jZ(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=TB(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(qZ(u));for(i.sort(XZ),s=0;s<i.length;s++)n=JZ(i[s],n);return n}function XZ(t,e){return t.x-e.x}function JZ(t,e){const n=YZ(t,e);if(!n)return e;const r=bB(n,t);return yc(r,r.next),yc(n,n.next)}function YZ(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const d=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=s&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Lf(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),g0(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&KZ(i,n)))&&(i=n,c=f)),n=n.next;while(n!==a);return i}function KZ(t,e){return ir(t.prev,t,e.prev)<0&&ir(e.next,t,t.next)<0}function ZZ(t,e,n,r){let i=t;do i.z===0&&(i.z=ky(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,QZ(i)}function QZ(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function ky(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function qZ(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Lf(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function $Z(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!eQ(t,e)&&(g0(t,e)&&g0(e,t)&&tQ(t,e)&&(ir(t.prev,t,e.prev)||ir(t,e.prev,e))||Ev(t,e)&&ir(t.prev,t,t.next)>0&&ir(e.prev,e,e.next)>0)}function ir(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ev(t,e){return t.x===e.x&&t.y===e.y}function CB(t,e,n,r){const i=om(ir(t,e,n)),s=om(ir(t,e,r)),o=om(ir(n,r,t)),a=om(ir(n,r,e));return!!(i!==s&&o!==a||i===0&&sm(t,n,e)||s===0&&sm(t,r,e)||o===0&&sm(n,t,r)||a===0&&sm(n,e,r))}function sm(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function om(t){return t>0?1:t<0?-1:0}function eQ(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&CB(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function g0(t,e){return ir(t.prev,t,t.next)<0?ir(t,e,t.next)>=0&&ir(t,t.prev,e)>=0:ir(t,e,t.prev)<0||ir(t,t.next,e)<0}function tQ(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function bB(t,e){const n=new Uy(t.i,t.x,t.y),r=new Uy(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function oE(t,e,n,r){const i=new Uy(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function v0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Uy(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nQ(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class $o{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return $o.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];aE(e),lE(r,e);let o=e.length;n.forEach(aE);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,lE(r,n[l]);const a=zZ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function aE(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function lE(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class J0 extends Vt{constructor(e=new ic([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new St(i,3)),this.setAttribute("uv",new St(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const S=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:rQ;let x,M=!1,E,C,P,T;S&&(x=S.getSpacedPoints(c),M=!0,d=!1,E=S.computeFrenetFrames(c,!1),C=new K,P=new K,T=new K),d||(y=0,m=0,g=0,v=0);const R=a.extractPoints(u);let B=R.shape;const N=R.holes;if(!$o.isClockWise(B)){B=B.reverse();for(let se=0,xe=N.length;se<xe;se++){const Le=N[se];$o.isClockWise(Le)&&(N[se]=Le.reverse())}}const J=$o.triangulateShape(B,N),D=B;for(let se=0,xe=N.length;se<xe;se++){const Le=N[se];B=B.concat(Le)}function U(se,xe,Le){return xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),se.clone().addScaledVector(xe,Le)}const W=B.length,ie=J.length;function L(se,xe,Le){let Ce,Be,He;const Te=se.x-xe.x,Ye=se.y-xe.y,We=Le.x-se.x,De=Le.y-se.y,Q=Te*Te+Ye*Ye,z=Te*De-Ye*We;if(Math.abs(z)>Number.EPSILON){const ue=Math.sqrt(Q),we=Math.sqrt(We*We+De*De),Ge=xe.x-Ye/ue,Ve=xe.y+Te/ue,ze=Le.x-De/we,Ze=Le.y+We/we,Ie=((ze-Ge)*De-(Ze-Ve)*We)/(Te*De-Ye*We);Ce=Ge+Te*Ie-se.x,Be=Ve+Ye*Ie-se.y;const at=Ce*Ce+Be*Be;if(at<=2)return new ve(Ce,Be);He=Math.sqrt(at/2)}else{let ue=!1;Te>Number.EPSILON?We>Number.EPSILON&&(ue=!0):Te<-Number.EPSILON?We<-Number.EPSILON&&(ue=!0):Math.sign(Ye)===Math.sign(De)&&(ue=!0),ue?(Ce=-Ye,Be=Te,He=Math.sqrt(Q)):(Ce=Te,Be=Ye,He=Math.sqrt(Q/2))}return new ve(Ce/He,Be/He)}const O=[];for(let se=0,xe=D.length,Le=xe-1,Ce=se+1;se<xe;se++,Le++,Ce++)Le===xe&&(Le=0),Ce===xe&&(Ce=0),O[se]=L(D[se],D[Le],D[Ce]);const V=[];let j,k=O.concat();for(let se=0,xe=N.length;se<xe;se++){const Le=N[se];j=[];for(let Ce=0,Be=Le.length,He=Be-1,Te=Ce+1;Ce<Be;Ce++,He++,Te++)He===Be&&(He=0),Te===Be&&(Te=0),j[Ce]=L(Le[Ce],Le[He],Le[Te]);V.push(j),k=k.concat(j)}for(let se=0;se<y;se++){const xe=se/y,Le=m*Math.cos(xe*Math.PI/2),Ce=g*Math.sin(xe*Math.PI/2)+v;for(let Be=0,He=D.length;Be<He;Be++){const Te=U(D[Be],O[Be],Ce);ae(Te.x,Te.y,-Le)}for(let Be=0,He=N.length;Be<He;Be++){const Te=N[Be];j=V[Be];for(let Ye=0,We=Te.length;Ye<We;Ye++){const De=U(Te[Ye],j[Ye],Ce);ae(De.x,De.y,-Le)}}}const q=g+v;for(let se=0;se<W;se++){const xe=d?U(B[se],k[se],q):B[se];M?(P.copy(E.normals[0]).multiplyScalar(xe.x),C.copy(E.binormals[0]).multiplyScalar(xe.y),T.copy(x[0]).add(P).add(C),ae(T.x,T.y,T.z)):ae(xe.x,xe.y,0)}for(let se=1;se<=c;se++)for(let xe=0;xe<W;xe++){const Le=d?U(B[xe],k[xe],q):B[xe];M?(P.copy(E.normals[se]).multiplyScalar(Le.x),C.copy(E.binormals[se]).multiplyScalar(Le.y),T.copy(x[se]).add(P).add(C),ae(T.x,T.y,T.z)):ae(Le.x,Le.y,f/c*se)}for(let se=y-1;se>=0;se--){const xe=se/y,Le=m*Math.cos(xe*Math.PI/2),Ce=g*Math.sin(xe*Math.PI/2)+v;for(let Be=0,He=D.length;Be<He;Be++){const Te=U(D[Be],O[Be],Ce);ae(Te.x,Te.y,f+Le)}for(let Be=0,He=N.length;Be<He;Be++){const Te=N[Be];j=V[Be];for(let Ye=0,We=Te.length;Ye<We;Ye++){const De=U(Te[Ye],j[Ye],Ce);M?ae(De.x,De.y+x[c-1].y,x[c-1].x+Le):ae(De.x,De.y,f+Le)}}}ee(),Y();function ee(){const se=i.length/3;if(d){let xe=0,Le=W*xe;for(let Ce=0;Ce<ie;Ce++){const Be=J[Ce];re(Be[2]+Le,Be[1]+Le,Be[0]+Le)}xe=c+y*2,Le=W*xe;for(let Ce=0;Ce<ie;Ce++){const Be=J[Ce];re(Be[0]+Le,Be[1]+Le,Be[2]+Le)}}else{for(let xe=0;xe<ie;xe++){const Le=J[xe];re(Le[2],Le[1],Le[0])}for(let xe=0;xe<ie;xe++){const Le=J[xe];re(Le[0]+W*c,Le[1]+W*c,Le[2]+W*c)}}r.addGroup(se,i.length/3-se,0)}function Y(){const se=i.length/3;let xe=0;Z(D,xe),xe+=D.length;for(let Le=0,Ce=N.length;Le<Ce;Le++){const Be=N[Le];Z(Be,xe),xe+=Be.length}r.addGroup(se,i.length/3-se,1)}function Z(se,xe){let Le=se.length;for(;--Le>=0;){const Ce=Le;let Be=Le-1;Be<0&&(Be=se.length-1);for(let He=0,Te=c+y*2;He<Te;He++){const Ye=W*He,We=W*(He+1),De=xe+Ce+Ye,Q=xe+Be+Ye,z=xe+Be+We,ue=xe+Ce+We;me(De,Q,z,ue)}}}function ae(se,xe,Le){l.push(se),l.push(xe),l.push(Le)}function re(se,xe,Le){Ee(se),Ee(xe),Ee(Le);const Ce=i.length/3,Be=w.generateTopUV(r,i,Ce-3,Ce-2,Ce-1);_e(Be[0]),_e(Be[1]),_e(Be[2])}function me(se,xe,Le,Ce){Ee(se),Ee(xe),Ee(Ce),Ee(xe),Ee(Le),Ee(Ce);const Be=i.length/3,He=w.generateSideWallUV(r,i,Be-6,Be-3,Be-2,Be-1);_e(He[0]),_e(He[1]),_e(He[3]),_e(He[1]),_e(He[2]),_e(He[3])}function Ee(se){i.push(l[se*3+0]),i.push(l[se*3+1]),i.push(l[se*3+2])}function _e(se){s.push(se.x),s.push(se.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return iQ(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new v7[i.type]().fromJSON(i)),new J0(r,e.options)}}const rQ={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new ve(s,o),new ve(a,l),new ve(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],S=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new ve(o,1-l),new ve(u,1-f),new ve(d,1-g),new ve(v,1-S)]:[new ve(a,1-l),new ve(c,1-f),new ve(m,1-g),new ve(y,1-S)]}};function iQ(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Fh extends Qa{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Fh(e.radius,e.detail)}}class kh extends Qa{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new kh(e.radius,e.detail)}}class Y0 extends Vt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const d=(n-e)/i,m=new K,g=new ve;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const S=s+y/r*o;m.x=f*Math.cos(S),m.y=f*Math.sin(S),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let S=0;S<r;S++){const w=S+y,x=w,M=w+r+1,E=w+r+2,C=w+1;a.push(x,M,C),a.push(M,E,C)}}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(u,3)),this.setAttribute("uv",new St(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Y0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class K0 extends Vt{constructor(e=new ic([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new St(i,3)),this.setAttribute("normal",new St(s,3)),this.setAttribute("uv",new St(o,2));function u(c){const f=i.length/3,d=c.extractPoints(n);let m=d.shape;const g=d.holes;$o.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,S=g.length;y<S;y++){const w=g[y];$o.isClockWise(w)===!0&&(g[y]=w.reverse())}const v=$o.triangulateShape(m,g);for(let y=0,S=g.length;y<S;y++){const w=g[y];m=m.concat(w)}for(let y=0,S=m.length;y<S;y++){const w=m[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,S=v.length;y<S;y++){const w=v[y],x=w[0]+f,M=w[1]+f,E=w[2]+f;r.push(x,M,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return sQ(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new K0(r,e.curveSegments)}}function sQ(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Uh extends Vt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new K,d=new K,m=[],g=[],v=[],y=[];for(let S=0;S<=r;S++){const w=[],x=S/r;let M=0;S==0&&o==0?M=.5/n:S==r&&l==Math.PI&&(M=-.5/n);for(let E=0;E<=n;E++){const C=E/n;f.x=-e*Math.cos(i+C*s)*Math.sin(o+x*a),f.y=e*Math.cos(o+x*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+x*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(C+M,1-x),w.push(u++)}c.push(w)}for(let S=0;S<r;S++)for(let w=0;w<n;w++){const x=c[S][w+1],M=c[S][w],E=c[S+1][w],C=c[S+1][w+1];(S!==0||o>0)&&m.push(x,M,C),(S!==r-1||l<Math.PI)&&m.push(M,E,C)}this.setIndex(m),this.setAttribute("position",new St(g,3)),this.setAttribute("normal",new St(v,3)),this.setAttribute("uv",new St(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Z0 extends Qa{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Z0(e.radius,e.detail)}}class Q0 extends Vt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new K,f=new K,d=new K;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,y=m/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(v),f.y=(e+n*Math.cos(y))*Math.sin(v),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),d.subVectors(f,c).normalize(),l.push(d.x,d.y,d.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,S=(i+1)*(m-1)+g,w=(i+1)*m+g;o.push(v,y,w),o.push(y,S,w)}this.setIndex(o),this.setAttribute("position",new St(a,3)),this.setAttribute("normal",new St(l,3)),this.setAttribute("uv",new St(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Q0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class q0 extends Vt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new K,d=new K,m=new K,g=new K,v=new K,y=new K,S=new K;for(let x=0;x<=r;++x){const M=x/r*s*Math.PI*2;w(M,s,o,e,m),w(M+.01,s,o,e,g),y.subVectors(g,m),S.addVectors(g,m),v.crossVectors(y,S),S.crossVectors(v,y),v.normalize(),S.normalize();for(let E=0;E<=i;++E){const C=E/i*Math.PI*2,P=-n*Math.cos(C),T=n*Math.sin(C);f.x=m.x+(P*S.x+T*v.x),f.y=m.y+(P*S.y+T*v.y),f.z=m.z+(P*S.z+T*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,m).normalize(),u.push(d.x,d.y,d.z),c.push(x/r),c.push(E/i)}}for(let x=1;x<=r;x++)for(let M=1;M<=i;M++){const E=(i+1)*(x-1)+(M-1),C=(i+1)*x+(M-1),P=(i+1)*x+M,T=(i+1)*(x-1)+M;a.push(E,C,T),a.push(C,P,T)}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(u,3)),this.setAttribute("uv",new St(c,2));function w(x,M,E,C,P){const T=Math.cos(x),R=Math.sin(x),B=E/M*x,N=Math.cos(B);P.x=C*(2+N)*.5*T,P.y=C*(2+N)*R*.5,P.z=C*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class $0 extends Vt{constructor(e=new m7(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new K,l=new K,u=new ve;let c=new K;const f=[],d=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new St(f,3)),this.setAttribute("normal",new St(d,3)),this.setAttribute("uv",new St(m,2));function v(){for(let x=0;x<n;x++)y(x);y(s===!1?n:0),w(),S()}function y(x){c=e.getPointAt(x/n,c);const M=o.normals[x],E=o.binormals[x];for(let C=0;C<=i;C++){const P=C/i*Math.PI*2,T=Math.sin(P),R=-Math.cos(P);l.x=R*M.x+T*E.x,l.y=R*M.y+T*E.y,l.z=R*M.z+T*E.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function S(){for(let x=1;x<=n;x++)for(let M=1;M<=i;M++){const E=(i+1)*(x-1)+(M-1),C=(i+1)*x+(M-1),P=(i+1)*x+M,T=(i+1)*(x-1)+M;g.push(E,C,T),g.push(C,P,T)}}function w(){for(let x=0;x<=n;x++)for(let M=0;M<=i;M++)u.x=x/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new $0(new v7[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class y7 extends Vt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new K,s=new K;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],d=f.start,m=f.count;for(let g=d,v=d+m;g<v;g+=3)for(let y=0;y<3;y++){const S=a.getX(g+y),w=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,S),s.fromBufferAttribute(o,w),uE(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),uE(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new St(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function uE(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var cE=Object.freeze({__proto__:null,BoxGeometry:nu,CapsuleGeometry:V0,CircleGeometry:W0,ConeGeometry:j0,CylinderGeometry:_c,DodecahedronGeometry:X0,EdgesGeometry:EB,ExtrudeGeometry:J0,IcosahedronGeometry:Fh,LatheGeometry:Lh,OctahedronGeometry:kh,PlaneGeometry:oa,PolyhedronGeometry:Qa,RingGeometry:Y0,ShapeGeometry:K0,SphereGeometry:Uh,TetrahedronGeometry:Z0,TorusGeometry:Q0,TorusKnotGeometry:q0,TubeGeometry:$0,WireframeGeometry:y7});class PB extends pr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RB extends Ht{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class e3 extends pr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Do extends e3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return _r(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class DB extends pr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=F0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BB extends pr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class x7 extends pr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class w7 extends pr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=F0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IB extends pr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Za,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LB extends Si{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Os(t,e,n){return S7(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Yu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function S7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FB(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function Ny(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function _7(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function oQ(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],d=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){f.push(u.times[m]);for(let v=0;v<c;++v)d.push(u.values[m*c+v])}}f.length!==0&&(u.times=Yu(f,u.times.constructor),u.values=Yu(d,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function aQ(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(S){return S.name===a.name&&S.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const S=c,w=f-c;v=Os(a.values,S,w)}else if(s>=a.times[g]){const S=g*f+c,w=S+f-c;v=Os(a.values,S,w)}else{const S=a.createInterpolant(),w=c,x=f-c;S.evaluate(s),v=Os(S.resultBuffer,w,x)}l==="quaternion"&&new or().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let S=0;S<y;++S){const w=S*m+d;if(l==="quaternion")or.multiplyQuaternionsFlat(u.values,w,v,0,u.values,w);else{const x=m-d*2;for(let M=0;M<x;++M)u.values[w+M]-=v[M]}}}return t.blendMode=Zx,t}const lQ={arraySlice:Os,convertArray:Yu,isTypedArray:S7,getKeyframeOrder:FB,sortedArray:Ny,flattenJSON:_7,subclip:oQ,makeClipAdditive:aQ};class Nh{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class kB extends Nh{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ju,endingEnd:ju}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Xu:s=e,a=2*n-r;break;case c0:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Xu:o=e,l=2*r-n;break;case c0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),v=g*g,y=v*g,S=-d*y+2*d*v-d*g,w=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*g+1,x=(-1-m)*y+(1.5+m)*v+.5*g,M=m*y-m*v;for(let E=0;E!==a;++E)s[E]=S*o[c+E]+w*o[u+E]+x*o[l+E]+M*o[f+E];return s}}class M7 extends Nh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),f=1-c;for(let d=0;d!==a;++d)s[d]=o[u+d]*f+o[l+d]*c;return s}}class UB extends Nh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Bo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yu(n,this.TimeBufferType),this.values=Yu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Yu(e.times,Array),values:Yu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new UB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new M7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new kB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ph:n=this.InterpolantFactoryMethodDiscrete;break;case mc:n=this.InterpolantFactoryMethodLinear;break;case o1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ph;case this.InterpolantFactoryMethodLinear:return mc;case this.InterpolantFactoryMethodSmooth:return o1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Os(r,s,o),this.values=Os(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&S7(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Os(this.times),n=Os(this.values),r=this.getValueSize(),i=this.getInterpolation()===o1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,m=f+r;for(let g=0;g!==r;++g){const v=n[f+g];if(v!==n[d+g]||v!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let m=0;m!==r;++m)n[d+m]=n[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Os(e,0,o),this.values=Os(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Os(this.times,0),n=Os(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Bo.prototype.TimeBufferType=Float32Array;Bo.prototype.ValueBufferType=Float32Array;Bo.prototype.DefaultInterpolation=mc;class Mc extends Bo{}Mc.prototype.ValueTypeName="bool";Mc.prototype.ValueBufferType=Array;Mc.prototype.DefaultInterpolation=ph;Mc.prototype.InterpolantFactoryMethodLinear=void 0;Mc.prototype.InterpolantFactoryMethodSmooth=void 0;class A7 extends Bo{}A7.prototype.ValueTypeName="color";class vh extends Bo{}vh.prototype.ValueTypeName="number";class NB extends Nh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)or.slerpFlat(s,0,o,u-a,o,u,l);return s}}class ql extends Bo{InterpolantFactoryMethodLinear(e){return new NB(this.times,this.values,this.getValueSize(),e)}}ql.prototype.ValueTypeName="quaternion";ql.prototype.DefaultInterpolation=mc;ql.prototype.InterpolantFactoryMethodSmooth=void 0;class Ac extends Bo{}Ac.prototype.ValueTypeName="string";Ac.prototype.ValueBufferType=Array;Ac.prototype.DefaultInterpolation=ph;Ac.prototype.InterpolantFactoryMethodLinear=void 0;Ac.prototype.InterpolantFactoryMethodSmooth=void 0;class yh extends Bo{}yh.prototype.ValueTypeName="vector";class xh{constructor(e,n=-1,r,i=pv){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ws(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(cQ(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Bo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=FB(l);l=Ny(l,1,c),u=Ny(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new vh(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,m,g,v){if(m.length!==0){const y=[],S=[];_7(m,y,S,g),y.length!==0&&v.push(new f(d,y,S))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let v=0;v<d[g].morphTargets.length;v++)m[d[g].morphTargets[v]]=-1;for(const v in m){const y=[],S=[];for(let w=0;w!==d[g].morphTargets.length;++w){const x=d[g];y.push(x.time),S.push(x.morphTarget===v?1:0)}i.push(new vh(".morphTargetInfluence["+v+"]",y,S))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(yh,m+".position",d,"pos",i),r(ql,m+".quaternion",d,"rot",i),r(yh,m+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function uQ(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vh;case"vector":case"vector2":case"vector3":case"vector4":return yh;case"color":return A7;case"quaternion":return ql;case"bool":case"boolean":return Mc;case"string":return Ac}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function cQ(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=uQ(t.type);if(t.times===void 0){const n=[],r=[];_7(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const xc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class E7{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const OB=new E7;class zi{constructor(e){this.manager=e!==void 0?e:OB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const _a={};class fQ extends Error{constructor(e,n){super(e),this.response=n}}class _s extends zi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=xc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(_a[e]!==void 0){_a[e].push({onLoad:n,onProgress:r,onError:i});return}_a[e]=[],_a[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=_a[e],f=u.body.getReader(),d=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=d?parseInt(d):0,g=m!==0;let v=0;const y=new ReadableStream({start(S){w();function w(){f.read().then(({done:x,value:M})=>{if(x)S.close();else{v+=M.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let C=0,P=c.length;C<P;C++){const T=c[C];T.onProgress&&T.onProgress(E)}S.enqueue(M),w()}})}}});return new Response(y)}else throw new fQ(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(d);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{xc.add(e,u);const c=_a[e];delete _a[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=_a[e];if(c===void 0)throw this.manager.itemError(e),u;delete _a[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class hQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _s(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=xh.parse(e[r]);n.push(i)}return n}}class dQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new f7,l=new _s(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(d){const m=s.parse(d,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=gt),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+v]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=gt),a.format=d.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class y0 extends zi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=xc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=d0("img");function l(){c(),xc.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class zB extends zi{constructor(e){super(e)}load(e,n,r,i){const s=new U0,o=new y0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class T7 extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new qo,a=new _s(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Cr,o.wrapT=u.wrapT!==void 0?u.wrapT:Cr,o.magFilter=u.magFilter!==void 0?u.magFilter:gt,o.minFilter=u.minFilter!==void 0?u.minFilter:gt,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=na),u.mipmapCount===1&&(o.minFilter=gt),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class C7 extends zi{constructor(e){super(e)}load(e,n,r,i){const s=new bn,o=new y0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ru extends pn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class GB extends ru{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const G6=new ht,fE=new K,hE=new K;class b7{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gv,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;fE.setFromMatrixPosition(e.matrixWorld),n.position.copy(fE),hE.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(hE),n.updateMatrixWorld(),G6.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G6),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(G6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pQ extends b7{constructor(){super(new In(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=h0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class P7 extends ru{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new pQ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const dE=new ht,Ld=new K,H6=new K;class mQ extends b7{constructor(){super(new In(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ld.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ld),H6.copy(r.position),H6.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(H6),r.updateMatrixWorld(),i.makeTranslation(-Ld.x,-Ld.y,-Ld.z),dE.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dE)}}class R7 extends ru{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new mQ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gQ extends b7{constructor(){super(new xo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class D7 extends ru{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(pn.DEFAULT_UP),this.updateMatrix(),this.target=new pn,this.shadow=new gQ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class HB extends ru{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class VB extends ru{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class WB{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Tv extends ru{constructor(e=new WB,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Cv extends zi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new _s(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=Cv.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new et().setHex(o.value);break;case"v2":i.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":i.uniforms[s].value=new K().fromArray(o.value);break;case"v4":i.uniforms[s].value=new qt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Fr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ht().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:PB,SpriteMaterial:o7,RawShaderMaterial:RB,ShaderMaterial:Ht,PointsMaterial:Mv,MeshPhysicalMaterial:Do,MeshStandardMaterial:e3,MeshPhongMaterial:DB,MeshToonMaterial:BB,MeshNormalMaterial:x7,MeshLambertMaterial:w7,MeshDepthMaterial:Ih,MeshDistanceMaterial:yv,MeshBasicMaterial:Zi,MeshMatcapMaterial:IB,LineDashedMaterial:LB,LineBasicMaterial:Si,Material:pr};return new n[e]}}class ea{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class bv extends Vt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class jB extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _s(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const y=m.interleavedBuffers[g],S=s(m,y.buffer),w=Bf(y.type,S),x=new z0(w,y.stride);return x.uuid=y.uuid,n[g]=x,x}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],S=new Uint32Array(y).buffer;return r[g]=S,S}const o=e.isInstancedBufferGeometry?new bv:new Vt,a=e.data.index;if(a!==void 0){const m=Bf(a.type,a.array);o.setIndex(new ln(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new Qi(y,g.itemSize,g.offset,g.normalized)}else{const y=Bf(g.type,g.array),S=g.isInstancedBufferAttribute?vc:ln;v=new S(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let y=0,S=g.length;y<S;y++){const w=g[y];let x;if(w.isInterleavedBufferAttribute){const M=i(e.data,w.data);x=new Qi(M,w.itemSize,w.offset,w.normalized)}else{const M=Bf(w.type,w.array);x=new ln(M,w.itemSize,w.normalized)}w.name!==void 0&&(x.name=w.name),v.push(x)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const v=f[m];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new K;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new Cs(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class vQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new _s(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new _s(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ic().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new G0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new jB;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in cE?a=cE[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Cv;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=xh.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Bf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new E7(n);s=new y0(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],S=a(y);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new qo(S.data,S.width,S.height)))}i[f.uuid]=new Ju(m)}else{const m=a(f.url);i[f.uuid]=new Ju(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Bf(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new y0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new qo(g.data,g.width,g.height)))}r[l.uuid]=new Ju(c)}else{const c=await s(l.url);r[l.uuid]=new Ju(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new U0,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new qo:c=new bn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,yQ)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],pE),c.wrapT=r(a.wrap[1],pE)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,mE)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,mE)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const y=d[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":o=new Xa,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Sv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new wv(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new In(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new xo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new HB(e.color,e.intensity);break;case"DirectionalLight":o=new D7(e.color,e.intensity);break;case"PointLight":o=new R7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new VB(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new P7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new GB(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Tv().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new a7(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Un(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const d=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new l7(c,f,d),o.instanceMatrix=new vc(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new vc(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new vB;break;case"Line":o=new Ja(a(e.geometry),l(e.material));break;case"LineLoop":o=new u7(a(e.geometry),l(e.material));break;case"LineSegments":o=new Po(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new c7(a(e.geometry),l(e.material));break;case"Sprite":o=new gB(l(e.material));break;case"Group":o=new ka;break;case"Bone":o=new _v;break;default:o=new pn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],n,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const g=d[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const g=d[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const yQ={UVMapping:fv,CubeReflectionMapping:ja,CubeRefractionMapping:Zl,EquirectangularReflectionMapping:hh,EquirectangularRefractionMapping:l0,CubeUVReflectionMapping:bh},pE={RepeatWrapping:xi,ClampToEdgeWrapping:Cr,MirroredRepeatWrapping:dh},mE={NearestFilter:Nt,NearestMipmapNearestFilter:u0,NearestMipmapLinearFilter:Xf,LinearFilter:gt,LinearMipmapNearestFilter:hv,LinearMipmapLinearFilter:na};class XB extends zi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=xc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){xc.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let am;class B7{static getContext(){return am===void 0&&(am=new(window.AudioContext||window.webkitAudioContext)),am}static setContext(e){am=e}}class xQ extends zi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _s(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);B7.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class wQ extends Tv{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new et().set(e),s=new et().set(n),o=new K(i.r,i.g,i.b),a=new K(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class SQ extends Tv{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new et().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const gE=new ht,vE=new ht,Au=new ht;class _Q{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new In,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new In,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Au.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(tc*n.fov*.5)/n.zoom;let a,l;vE.elements[12]=-i,gE.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Au.elements[0]=2*n.near/(l-a),Au.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Au),a=-o*n.aspect-s,l=o*n.aspect-s,Au.elements[0]=2*n.near/(l-a),Au.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Au)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gE)}}class I7{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=yE();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function yE(){return(typeof performance>"u"?Date:performance).now()}const Eu=new K,xE=new or,MQ=new K,Tu=new K;class AQ extends pn{constructor(){super(),this.type="AudioListener",this.context=B7.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new I7}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Eu,xE,MQ),Tu.set(0,0,-1).applyQuaternion(xE),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Eu.x,i),n.positionY.linearRampToValueAtTime(Eu.y,i),n.positionZ.linearRampToValueAtTime(Eu.z,i),n.forwardX.linearRampToValueAtTime(Tu.x,i),n.forwardY.linearRampToValueAtTime(Tu.y,i),n.forwardZ.linearRampToValueAtTime(Tu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Eu.x,Eu.y,Eu.z),n.setOrientation(Tu.x,Tu.y,Tu.z,r.x,r.y,r.z)}}class JB extends pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Cu=new K,wE=new or,EQ=new K,bu=new K;class TQ extends JB{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Cu,wE,EQ),bu.set(0,0,1).applyQuaternion(wE);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Cu.x,r),n.positionY.linearRampToValueAtTime(Cu.y,r),n.positionZ.linearRampToValueAtTime(Cu.z,r),n.orientationX.linearRampToValueAtTime(bu.x,r),n.orientationY.linearRampToValueAtTime(bu.y,r),n.orientationZ.linearRampToValueAtTime(bu.z,r)}else n.setPosition(Cu.x,Cu.y,Cu.z),n.setOrientation(bu.x,bu.y,bu.z)}}class CQ{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class YB{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){or.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;or.multiplyQuaternionsFlat(e,o,e,n,e,r),or.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const L7="\\[\\]\\.:\\/",bQ=new RegExp("["+L7+"]","g"),F7="[^"+L7+"]",PQ="[^"+L7.replace("\\.","")+"]",RQ=/((?:WC+[\/:])*)/.source.replace("WC",F7),DQ=/(WCOD+)?/.source.replace("WCOD",PQ),BQ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",F7),IQ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",F7),LQ=new RegExp("^"+RQ+DQ+BQ+IQ+"$"),FQ=["material","materials","bones","map"];class kQ{constructor(e,n,r){const i=r||vn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class vn{constructor(e,n,r){this.path=n,this.parsedPath=r||vn.parseTrackName(n),this.node=vn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new vn.Composite(e,n,r):new vn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(bQ,"")}static parseTrackName(e){const n=LQ.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);FQ.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=vn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vn.Composite=kQ;vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vn.prototype.GetterByBindingType=[vn.prototype._getValue_direct,vn.prototype._getValue_array,vn.prototype._getValue_arrayElement,vn.prototype._getValue_toArray];vn.prototype.SetterByBindingTypeAndVersioning=[[vn.prototype._setValue_direct,vn.prototype._setValue_direct_setNeedsUpdate,vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_array,vn.prototype._setValue_array_setNeedsUpdate,vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_arrayElement,vn.prototype._setValue_arrayElement_setNeedsUpdate,vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vn.prototype._setValue_fromArray,vn.prototype._setValue_fromArray_setNeedsUpdate,vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class UQ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ws(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(d);for(let v=0,y=o;v!==y;++v)s[v].push(new vn(d,r[v],i[v]))}else if(g<u){a=e[g];const v=--u,y=e[v];n[y.uuid]=g,e[g]=y,n[m]=v,e[v]=d;for(let S=0,w=o;S!==w;++S){const x=s[S],M=x[v];let E=x[g];x[g]=M,E===void 0&&(E=new vn(d,r[S],i[S])),x[v]=E}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,d=e[f];n[d.uuid]=c,e[c]=d,n[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],y=v[f],S=v[c];v[c]=y,v[f]=S}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const d=--s,m=e[d],g=--o,v=e[g];n[m.uuid]=f,e[f]=m,n[v.uuid]=d,e[d]=v,e.pop();for(let y=0,S=i;y!==S;++y){const w=r[y],x=w[d],M=w[g];w[f]=x,w[d]=M,w.pop()}}else{const d=--o,m=e[d];d>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let d=c,m=l.length;d!==m;++d){const g=l[d];f[d]=new vn(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class NQ{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:ju,endingEnd:ju};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Zx:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case pv:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===QD;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===KD){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Xu,i.endingEnd=Xu):(e?i.endingStart=this.zeroSlopeAtStart?Xu:ju:i.endingStart=c0,n?i.endingEnd=this.zeroSlopeAtEnd?Xu:ju:i.endingEnd=c0)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const OQ=new Float32Array(1);class zQ extends Ts{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const d=i[f],m=d.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;g=new YB(vn.create(r,m,v),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new M7(new Float32Array(2),new Float32Array(2),1,OQ),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?xh.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=pv),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new NQ(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?xh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class de{constructor(e){this.value=e}clone(){return new de(this.value.clone===void 0?this.value:this.value.clone())}}let GQ=0;class HQ extends Ts{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:GQ++}),this.name="",this.usage=f0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class wg extends z0{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class VQ{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class k7{constructor(e,n,r=0,i=1/0){this.ray=new Ph(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new rc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Oy(e,this,r,n),r.sort(SE),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Oy(e[i],this,r,n);return r.sort(SE),r}}function SE(t,e){return t.distance-e.distance}function Oy(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)Oy(i[s],e,n,!0)}}class Sg{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(_r(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class WQ{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const _E=new ve;class jQ{constructor(e=new ve(1/0,1/0),n=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=_E.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_E).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ME=new K,lm=new K;class KB{constructor(e=new K,n=new K){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){ME.subVectors(e,this.start),lm.subVectors(this.end,this.start);const r=lm.dot(lm);let s=lm.dot(ME)/r;return n&&(s=_r(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const AE=new K;class XQ extends pn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Vt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new St(i,3));const s=new Si({fog:!1,toneMapped:!1});this.cone=new Po(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),AE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(AE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pl=new K,um=new ht,V6=new ht;class JQ extends Po{constructor(e){const n=ZB(e),r=new Vt,i=[],s=[],o=new et(0,0,1),a=new et(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new St(i,3)),r.setAttribute("color",new St(s,3));const l=new Si({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");V6.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(um.multiplyMatrices(V6,a.matrixWorld),pl.setFromMatrixPosition(um),i.setXYZ(o,pl.x,pl.y,pl.z),um.multiplyMatrices(V6,a.parent.matrixWorld),pl.setFromMatrixPosition(um),i.setXYZ(o+1,pl.x,pl.y,pl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ZB(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,ZB(t.children[n]));return e}class YQ extends Un{constructor(e,n,r){const i=new Uh(n,4,2),s=new Zi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const KQ=new K,EE=new et,TE=new et;class ZQ extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new kh(n);i.rotateY(Math.PI*.5),this.material=new Zi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new ln(o,3)),this.add(new Un(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");EE.copy(this.light.color),TE.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?EE:TE;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(KQ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class QQ extends Po{constructor(e=10,n=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let d=0,m=0,g=-a;d<=n;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=d===s?r:i;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const c=new Vt;c.setAttribute("position",new St(l,3)),c.setAttribute("color",new St(u,3));const f=new Si({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class qQ extends Po{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new et(s),o=new et(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),m=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,S=Math.cos(v)*m;a.push(y,0,S),l.push(d.r,d.g,d.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,S=Math.cos(v)*m,a.push(y,0,S),l.push(d.r,d.g,d.b)}}const u=new Vt;u.setAttribute("position",new St(a,3)),u.setAttribute("color",new St(l,3));const c=new Si({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const CE=new K,cm=new K,bE=new K;class $Q extends pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Vt;i.setAttribute("position",new St([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Si({fog:!1,toneMapped:!1});this.lightPlane=new Ja(i,s),this.add(this.lightPlane),i=new Vt,i.setAttribute("position",new St([0,0,0,0,0,1],3)),this.targetLine=new Ja(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),CE.setFromMatrixPosition(this.light.matrixWorld),cm.setFromMatrixPosition(this.light.target.matrixWorld),bE.subVectors(cm,CE),this.lightPlane.lookAt(cm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cm),this.targetLine.scale.z=bE.length()}}const fm=new K,cr=new Dh;class eq extends Po{constructor(e){const n=new Vt,r=new Si({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new St(i,3)),n.setAttribute("color",new St(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new et(16755200),c=new et(16711680),f=new et(43775),d=new et(16777215),m=new et(3355443);this.setColors(u,c,f,d,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),wr("c",n,e,cr,0,0,-1),wr("t",n,e,cr,0,0,1),wr("n1",n,e,cr,-r,-i,-1),wr("n2",n,e,cr,r,-i,-1),wr("n3",n,e,cr,-r,i,-1),wr("n4",n,e,cr,r,i,-1),wr("f1",n,e,cr,-r,-i,1),wr("f2",n,e,cr,r,-i,1),wr("f3",n,e,cr,-r,i,1),wr("f4",n,e,cr,r,i,1),wr("u1",n,e,cr,r*.7,i*1.1,-1),wr("u2",n,e,cr,-r*.7,i*1.1,-1),wr("u3",n,e,cr,0,i*2,-1),wr("cf1",n,e,cr,-r,0,1),wr("cf2",n,e,cr,r,0,1),wr("cf3",n,e,cr,0,-i,1),wr("cf4",n,e,cr,0,i,1),wr("cn1",n,e,cr,-r,0,-1),wr("cn2",n,e,cr,r,0,-1),wr("cn3",n,e,cr,0,-i,-1),wr("cn4",n,e,cr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function wr(t,e,n,r,i,s,o){fm.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],fm.x,fm.y,fm.z)}}const hm=new rs;class tq extends Po{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Vt;s.setIndex(new ln(r,1)),s.setAttribute("position",new ln(i,3)),super(s,new Si({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&hm.setFromObject(this.object),hm.isEmpty())return;const n=hm.min,r=hm.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nq extends Po{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Vt;s.setIndex(new ln(r,1)),s.setAttribute("position",new St(i,3)),super(s,new Si({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class rq extends Ja{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Vt;o.setAttribute("position",new St(s,3)),o.computeBoundingSphere(),super(o,new Si({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Vt;l.setAttribute("position",new St(a,3)),l.computeBoundingSphere(),this.add(new Un(l,new Zi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const PE=new K;let dm,W6;class iq extends pn{constructor(e=new K(0,0,1),n=new K(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",dm===void 0&&(dm=new Vt,dm.setAttribute("position",new St([0,0,0,0,1,0],3)),W6=new _c(0,.5,1,5,1),W6.translate(0,-.5,0)),this.position.copy(n),this.line=new Ja(dm,new Si({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Un(W6,new Zi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{PE.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(PE,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class sq extends Po{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Vt;i.setAttribute("position",new St(n,3)),i.setAttribute("color",new St(r,3));const s=new Si({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new et,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oq{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new p0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(S){const w=[];for(let x=0,M=S.length;x<M;x++){const E=S[x],C=new ic;C.curves=E.curves,w.push(C)}return w}function r(S,w){const x=w.length;let M=!1;for(let E=x-1,C=0;C<x;E=C++){let P=w[E],T=w[C],R=T.x-P.x,B=T.y-P.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(P=w[C],R=-R,T=w[E],B=-B),S.y<P.y||S.y>T.y)continue;if(S.y===P.y){if(S.x===P.x)return!0}else{const N=B*(S.x-P.x)-R*(S.y-P.y);if(N===0)return!0;if(N<0)continue;M=!M}}else{if(S.y!==P.y)continue;if(T.x<=S.x&&S.x<=P.x||P.x<=S.x&&S.x<=T.x)return!0}}return M}const i=$o.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new ic,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],d=[];let m=[],g=0,v;d[g]=void 0,m[g]=[];for(let S=0,w=s.length;S<w;S++)a=s[S],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!c&&d[g]&&g++,d[g]={s:new ic,p:v},d[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!d[0])return n(s);if(d.length>1){let S=!1,w=0;for(let x=0,M=d.length;x<M;x++)f[x]=[];for(let x=0,M=d.length;x<M;x++){const E=m[x];for(let C=0;C<E.length;C++){const P=E[C];let T=!0;for(let R=0;R<d.length;R++)r(P.p,d[R].p)&&(x!==R&&w++,T?(T=!1,f[R].push(P)):S=!0);T&&f[x].push(P)}}w>0&&S===!1&&(m=f)}let y;for(let S=0,w=d.length;S<w;S++){l=d[S].s,u.push(l),y=m[S];for(let x=0,M=y.length;x<M;x++)l.holes.push(y[x].h)}return u}}const Pa=aq();function aq(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function lq(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=_r(t,-65504,65504),Pa.floatView[0]=t;const e=Pa.uint32View[0],n=e>>23&511;return Pa.baseTable[n]+((e&8388607)>>Pa.shiftTable[n])}function uq(t){const e=t>>10;return Pa.uint32View[0]=Pa.mantissaTable[Pa.offsetTable[e]+(t&1023)]+Pa.exponentTable[e],Pa.floatView[0]}const Ku={toHalfFloat:lq,fromHalfFloat:uq};class cq extends nu{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class fq extends V0{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class hq extends W0{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class dq extends j0{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class pq extends _c{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class mq extends X0{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class gq extends J0{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class vq extends Fh{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class yq extends Lh{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class xq extends kh{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class wq extends oa{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class Sq extends Qa{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class _q extends Y0{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class Mq extends K0{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class Aq extends Uh{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class Eq extends Z0{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class Tq extends Q0{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class Cq extends q0{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class bq extends $0{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:qs}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=qs);const QB=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Jx,AddEquation:Nu,AddOperation:BD,AdditiveAnimationBlendMode:Zx,AdditiveBlending:iy,AlphaFormat:HD,AlwaysDepth:Wx,AlwaysStencilFunc:tB,AmbientLight:HB,AmbientLightProbe:SQ,AnimationClip:xh,AnimationLoader:hQ,AnimationMixer:zQ,AnimationObjectGroup:UQ,AnimationUtils:lQ,ArcCurve:wB,ArrayCamera:dB,ArrowHelper:iq,Audio:JB,AudioAnalyser:CQ,AudioContext:B7,AudioListener:AQ,AudioLoader:xQ,AxesHelper:sq,BackSide:br,BasicDepthPacking:Yr,BasicShadowMap:yD,Bone:_v,BooleanKeyframeTrack:Mc,Box2:jQ,Box3:rs,Box3Helper:nq,BoxBufferGeometry:cq,BoxGeometry:nu,BoxHelper:tq,BufferAttribute:ln,BufferGeometry:Vt,BufferGeometryLoader:jB,ByteType:UD,Cache:xc,Camera:Dh,CameraHelper:eq,CanvasTexture:xB,CapsuleBufferGeometry:fq,CapsuleGeometry:V0,CatmullRomCurve3:SB,CineonToneMapping:FD,CircleBufferGeometry:hq,CircleGeometry:W0,ClampToEdgeWrapping:Cr,Clock:I7,Color:et,ColorKeyframeTrack:A7,ColorManagement:pi,CompressedArrayTexture:BZ,CompressedTexture:f7,CompressedTextureLoader:dQ,ConeBufferGeometry:dq,ConeGeometry:j0,CubeCamera:i7,CubeReflectionMapping:ja,CubeRefractionMapping:Zl,CubeTexture:U0,CubeTextureLoader:zB,CubeUVReflectionMapping:bh,CubicBezierCurve:d7,CubicBezierCurve3:_B,CubicInterpolant:kB,CullFaceBack:ry,CullFaceFront:vD,CullFaceFrontBack:kW,CullFaceNone:gD,Curve:Ro,CurvePath:AB,CustomBlending:xD,CustomToneMapping:kD,CylinderBufferGeometry:pq,CylinderGeometry:_c,Cylindrical:WQ,Data3DTexture:nc,DataArrayTexture:mv,DataTexture:qo,DataTextureLoader:T7,DataUtils:Ku,DecrementStencilOp:jW,DecrementWrapStencilOp:JW,DefaultLoadingManager:OB,DepthFormat:Xl,DepthStencilFormat:Ql,DepthTexture:O0,DirectionalLight:D7,DirectionalLightHelper:$Q,DiscreteInterpolant:UB,DisplayP3ColorSpace:qx,DodecahedronBufferGeometry:mq,DodecahedronGeometry:X0,DoubleSide:ri,DstAlphaFactor:TD,DstColorFactor:bD,DynamicCopyUsage:lj,DynamicDrawUsage:nj,DynamicReadUsage:sj,EdgesGeometry:EB,EllipseCurve:H0,EqualDepth:a0,EqualStencilFunc:QW,EquirectangularReflectionMapping:hh,EquirectangularRefractionMapping:l0,Euler:Rh,EventDispatcher:Ts,ExtrudeBufferGeometry:gq,ExtrudeGeometry:J0,FileLoader:_s,Float16BufferAttribute:Jj,Float32BufferAttribute:St,Float64BufferAttribute:Yj,FloatType:Pn,Fog:Sv,FogExp2:wv,FramebufferTexture:Fy,FrontSide:Zs,Frustum:gv,GLBufferAttribute:VQ,GLSL1:cj,GLSL3:vg,GreaterDepth:Xx,GreaterEqualDepth:jx,GreaterEqualStencilFunc:tj,GreaterStencilFunc:$W,GridHelper:QQ,Group:ka,HalfFloatType:Xn,HemisphereLight:GB,HemisphereLightHelper:ZQ,HemisphereLightProbe:wQ,IcosahedronBufferGeometry:vq,IcosahedronGeometry:Fh,ImageBitmapLoader:XB,ImageLoader:y0,ImageUtils:e7,IncrementStencilOp:WW,IncrementWrapStencilOp:XW,InstancedBufferAttribute:vc,InstancedBufferGeometry:bv,InstancedInterleavedBuffer:wg,InstancedMesh:l7,Int16BufferAttribute:jj,Int32BufferAttribute:Xj,Int8BufferAttribute:Hj,IntType:OD,InterleavedBuffer:z0,InterleavedBufferAttribute:Qi,Interpolant:Nh,InterpolateDiscrete:ph,InterpolateLinear:mc,InterpolateSmooth:o1,InvertStencilOp:YW,KeepStencilOp:a1,KeyframeTrack:Bo,LOD:vB,LatheBufferGeometry:yq,LatheGeometry:Lh,Layers:rc,LessDepth:mg,LessEqualDepth:o0,LessEqualStencilFunc:qW,LessStencilFunc:ZW,Light:ru,LightProbe:Tv,Line:Ja,Line3:KB,LineBasicMaterial:Si,LineCurve:Av,LineCurve3:MB,LineDashedMaterial:LB,LineLoop:u7,LineSegments:Po,LinearEncoding:To,LinearFilter:gt,LinearInterpolant:M7,LinearMipMapLinearFilter:GW,LinearMipMapNearestFilter:zW,LinearMipmapLinearFilter:na,LinearMipmapNearestFilter:hv,LinearSRGBColorSpace:mh,LinearToneMapping:ID,Loader:zi,LoaderUtils:ea,LoadingManager:E7,LoopOnce:KD,LoopPingPong:QD,LoopRepeat:ZD,LuminanceAlphaFormat:VD,LuminanceFormat:dv,MOUSE:Fu,Material:pr,MaterialLoader:Cv,MathUtils:yo,Matrix3:Fr,Matrix4:ht,MaxEquation:ly,Mesh:Un,MeshBasicMaterial:Zi,MeshDepthMaterial:Ih,MeshDistanceMaterial:yv,MeshLambertMaterial:w7,MeshMatcapMaterial:IB,MeshNormalMaterial:x7,MeshPhongMaterial:DB,MeshPhysicalMaterial:Do,MeshStandardMaterial:e3,MeshToonMaterial:BB,MinEquation:ay,MirroredRepeatWrapping:dh,MixOperation:DD,MultiplyBlending:oy,MultiplyOperation:F0,NearestFilter:Nt,NearestMipMapLinearFilter:OW,NearestMipMapNearestFilter:NW,NearestMipmapLinearFilter:Xf,NearestMipmapNearestFilter:u0,NeverDepth:Vx,NeverStencilFunc:KW,NoBlending:Jn,NoColorSpace:eB,NoToneMapping:Mo,NormalAnimationBlendMode:pv,NormalBlending:ec,NotEqualDepth:cv,NotEqualStencilFunc:ej,NumberKeyframeTrack:vh,Object3D:pn,ObjectLoader:vQ,ObjectSpaceNormalMap:$D,OctahedronBufferGeometry:xq,OctahedronGeometry:kh,OneFactor:MD,OneMinusDstAlphaFactor:CD,OneMinusDstColorFactor:PD,OneMinusSrcAlphaFactor:Hx,OneMinusSrcColorFactor:ED,OrthographicCamera:xo,PCFShadowMap:uv,PCFSoftShadowMap:Sp,PMREMGenerator:xg,Path:p0,PerspectiveCamera:In,Plane:Ca,PlaneBufferGeometry:wq,PlaneGeometry:oa,PlaneHelper:rq,PointLight:R7,PointLightHelper:YQ,Points:c7,PointsMaterial:Mv,PolarGridHelper:qQ,PolyhedronBufferGeometry:Sq,PolyhedronGeometry:Qa,PositionalAudio:TQ,PropertyBinding:vn,PropertyMixer:YB,QuadraticBezierCurve:p7,QuadraticBezierCurve3:m7,Quaternion:or,QuaternionKeyframeTrack:ql,QuaternionLinearInterpolant:NB,RED_GREEN_RGTC2_Format:Ry,RED_RGTC1_Format:YD,REVISION:qs,RGBADepthPacking:Co,RGBAFormat:zn,RGBAIntegerFormat:XD,RGBA_ASTC_10x10_Format:Ty,RGBA_ASTC_10x5_Format:My,RGBA_ASTC_10x6_Format:Ay,RGBA_ASTC_10x8_Format:Ey,RGBA_ASTC_12x10_Format:Cy,RGBA_ASTC_12x12_Format:by,RGBA_ASTC_4x4_Format:my,RGBA_ASTC_5x4_Format:gy,RGBA_ASTC_5x5_Format:vy,RGBA_ASTC_6x5_Format:yy,RGBA_ASTC_6x6_Format:xy,RGBA_ASTC_8x5_Format:wy,RGBA_ASTC_8x6_Format:Sy,RGBA_ASTC_8x8_Format:_y,RGBA_BPTC_Format:s1,RGBA_ETC2_EAC_Format:py,RGBA_PVRTC_2BPPV1_Format:hy,RGBA_PVRTC_4BPPV1_Format:fy,RGBA_S3TC_DXT1_Format:n1,RGBA_S3TC_DXT3_Format:r1,RGBA_S3TC_DXT5_Format:i1,RGB_ETC1_Format:JD,RGB_ETC2_Format:dy,RGB_PVRTC_2BPPV1_Format:cy,RGB_PVRTC_4BPPV1_Format:uy,RGB_S3TC_DXT1_Format:t1,RGFormat:Kx,RGIntegerFormat:jD,RawShaderMaterial:RB,Ray:Ph,Raycaster:k7,RectAreaLight:VB,RedFormat:k0,RedIntegerFormat:WD,ReinhardToneMapping:LD,RepeatWrapping:xi,ReplaceStencilOp:VW,ReverseSubtractEquation:SD,RingBufferGeometry:_q,RingGeometry:Y0,SIGNED_RED_GREEN_RGTC2_Format:Dy,SIGNED_RED_RGTC1_Format:Py,SRGBColorSpace:co,Scene:Xa,ShaderChunk:bt,ShaderLib:ho,ShaderMaterial:Ht,ShadowMaterial:PB,Shape:ic,ShapeBufferGeometry:Mq,ShapeGeometry:K0,ShapePath:oq,ShapeUtils:$o,ShortType:ND,Skeleton:G0,SkeletonHelper:JQ,SkinnedMesh:a7,Source:Ju,Sphere:Cs,SphereBufferGeometry:Aq,SphereGeometry:Uh,Spherical:Sg,SphericalHarmonics3:WB,SplineCurve:g7,SpotLight:P7,SpotLightHelper:XQ,Sprite:gB,SpriteMaterial:o7,SrcAlphaFactor:Gx,SrcAlphaSaturateFactor:RD,SrcColorFactor:AD,StaticCopyUsage:aj,StaticDrawUsage:f0,StaticReadUsage:ij,StereoCamera:_Q,StreamCopyUsage:uj,StreamDrawUsage:rj,StreamReadUsage:oj,StringKeyframeTrack:Ac,SubtractEquation:wD,SubtractiveBlending:sy,TOUCH:ku,TangentSpaceNormalMap:Za,TetrahedronBufferGeometry:Eq,TetrahedronGeometry:Z0,Texture:bn,TextureLoader:C7,TorusBufferGeometry:Tq,TorusGeometry:Q0,TorusKnotBufferGeometry:Cq,TorusKnotGeometry:q0,Triangle:Hs,TriangleFanDrawMode:gg,TriangleStripDrawMode:Qx,TrianglesDrawMode:qD,TubeBufferGeometry:bq,TubeGeometry:$0,TwoPassDoubleSide:UW,UVMapping:fv,Uint16BufferAttribute:n7,Uint32BufferAttribute:r7,Uint8BufferAttribute:Vj,Uint8ClampedBufferAttribute:Wj,Uniform:de,UniformsGroup:HQ,UniformsLib:ct,UniformsUtils:gc,UnsignedByteType:Gn,UnsignedInt248Type:jl,UnsignedIntType:La,UnsignedShort4444Type:zD,UnsignedShort5551Type:GD,UnsignedShortType:Yx,VSMShadowMap:Wu,Vector2:ve,Vector3:K,Vector4:qt,VectorKeyframeTrack:yh,VideoTexture:yB,WebGL1Renderer:pB,WebGL3DRenderTarget:Ij,WebGLArrayRenderTarget:Bj,WebGLCubeRenderTarget:N0,WebGLMultipleRenderTargets:t7,WebGLRenderTarget:$t,WebGLRenderer:xv,WebGLUtils:hB,WireframeGeometry:y7,WrapAroundEnding:c0,ZeroCurvatureEnding:ju,ZeroFactor:_D,ZeroSlopeEnding:Xu,ZeroStencilOp:HW,_SRGBAFormat:yg,sRGBEncoding:En},Symbol.toStringTag,{value:"Module"}));var Dl={},Pq={get exports(){return Dl},set exports(t){Dl=t}},Ec={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ec.ConcurrentRoot=1;Ec.ContinuousEventPriority=4;Ec.DefaultEventPriority=16;Ec.DiscreteEventPriority=1;Ec.IdleEventPriority=536870912;Ec.LegacyRoot=0;(function(t){t.exports=Ec})(Pq);function Rq(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,d))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function m(){const g=c(e);if(!f(d,g)){const v=d;u(d=g,v)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Dq=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),RE=Dq?H.useEffect:H.useLayoutEffect;function qB(t){const e=typeof t=="function"?Rq(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=H.useReducer(y=>y+1,0),o=e.getState(),a=H.useRef(o),l=H.useRef(r),u=H.useRef(i),c=H.useRef(!1),f=H.useRef();f.current===void 0&&(f.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),m=!i(f.current,d)),RE(()=>{m&&(f.current=d),a.current=o,l.current=r,u.current=i,c.current=!1});const g=H.useRef(o);RE(()=>{const y=()=>{try{const w=e.getState(),x=l.current(w);u.current(f.current,x)||(a.current=w,f.current=x,s())}catch{c.current=!0,s()}},S=e.subscribe(y);return e.getState()!==g.current&&y(),S},[]);const v=m?d:f.current;return H.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var zy={},Bq={get exports(){return zy},set exports(t){zy=t}},_g={},Iq={get exports(){return _g},set exports(t){_g=t}},j6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function Lq(){return DE||(DE=1,function(t){function e(L,O){var V=L.length;L.push(O);e:for(;0<V;){var j=V-1>>>1,k=L[j];if(0<i(k,O))L[j]=O,L[V]=k,V=j;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var O=L[0],V=L.pop();if(V!==O){L[0]=V;e:for(var j=0,k=L.length,q=k>>>1;j<q;){var ee=2*(j+1)-1,Y=L[ee],Z=ee+1,ae=L[Z];if(0>i(Y,V))Z<k&&0>i(ae,Y)?(L[j]=ae,L[Z]=V,j=Z):(L[j]=Y,L[ee]=V,j=ee);else if(Z<k&&0>i(ae,V))L[j]=ae,L[Z]=V,j=Z;else break e}}return O}function i(L,O){var V=L.sortIndex-O.sortIndex;return V!==0?V:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=L)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function M(L){if(v=!1,x(L),!g)if(n(l)!==null)g=!0,W(E);else{var O=n(u);O!==null&&ie(M,O.startTime-L)}}function E(L,O){g=!1,v&&(v=!1,S(T),T=-1),m=!0;var V=d;try{for(x(O),f=n(l);f!==null&&(!(f.expirationTime>O)||L&&!N());){var j=f.callback;if(typeof j=="function"){f.callback=null,d=f.priorityLevel;var k=j(f.expirationTime<=O);O=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),x(O)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var ee=n(u);ee!==null&&ie(M,ee.startTime-O),q=!1}return q}finally{f=null,d=V,m=!1}}var C=!1,P=null,T=-1,R=5,B=-1;function N(){return!(t.unstable_now()-B<R)}function G(){if(P!==null){var L=t.unstable_now();B=L;var O=!0;try{O=P(!0,L)}finally{O?J():(C=!1,P=null)}}else C=!1}var J;if(typeof w=="function")J=function(){w(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=G,J=function(){U.postMessage(null)}}else J=function(){y(G,0)};function W(L){P=L,C||(C=!0,J())}function ie(L,O){T=y(function(){L(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,W(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var V=d;d=O;try{return L()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=d;d=L;try{return O()}finally{d=V}},t.unstable_scheduleCallback=function(L,O,V){var j=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?j+V:j):V=j,L){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=V+k,L={id:c++,callback:O,priorityLevel:L,startTime:V,expirationTime:k,sortIndex:-1},V>j?(L.sortIndex=V,e(u,L),n(l)===null&&L===n(u)&&(v?(S(T),T=-1):v=!0,ie(M,V-j))):(L.sortIndex=k,e(l,L),g||m||(g=!0,W(E))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var O=d;return function(){var V=d;d=O;try{return L.apply(this,arguments)}finally{d=V}}}}(j6)),j6}var BE;function Fq(){return BE||(BE=1,function(t){t.exports=Lq()}(Iq)),_g}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kq=function(e){var n={},r=H,i=Fq(),s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,_=1;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),E=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=E&&h[E]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case S:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case v:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case w:return p=h.displayName||null,p!==null?p:P(h.type)||"Memo";case x:p=h._payload,h=h._init;try{return P(h(p))}catch{}}return null}function T(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function R(h){var p=h,_=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(_=p.return),h=p.return;while(h)}return p.tag===3?_:null}function B(h){if(R(h)!==h)throw Error(o(188))}function N(h){var p=h.alternate;if(!p){if(p=R(h),p===null)throw Error(o(188));return p!==h?null:h}for(var _=h,A=p;;){var b=_.return;if(b===null)break;var I=b.alternate;if(I===null){if(A=b.return,A!==null){_=A;continue}break}if(b.child===I.child){for(I=b.child;I;){if(I===_)return B(b),h;if(I===A)return B(b),p;I=I.sibling}throw Error(o(188))}if(_.return!==A.return)_=b,A=I;else{for(var te=!1,he=b.child;he;){if(he===_){te=!0,_=b,A=I;break}if(he===A){te=!0,A=b,_=I;break}he=he.sibling}if(!te){for(he=I.child;he;){if(he===_){te=!0,_=I,A=b;break}if(he===A){te=!0,A=I,_=b;break}he=he.sibling}if(!te)throw Error(o(189))}}if(_.alternate!==A)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?h:p}function G(h){return h=N(h),h!==null?J(h):null}function J(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=J(h);if(p!==null)return p;h=h.sibling}return null}function D(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=D(h);if(p!==null)return p}h=h.sibling}return null}var U=Array.isArray,W=e.getPublicInstance,ie=e.getRootHostContext,L=e.getChildHostContext,O=e.prepareForCommit,V=e.resetAfterCommit,j=e.createInstance,k=e.appendInitialChild,q=e.finalizeInitialChildren,ee=e.prepareUpdate,Y=e.shouldSetTextContent,Z=e.createTextInstance,ae=e.scheduleTimeout,re=e.cancelTimeout,me=e.noTimeout,Ee=e.isPrimaryRenderer,_e=e.supportsMutation,se=e.supportsPersistence,xe=e.supportsHydration,Le=e.getInstanceFromNode,Ce=e.preparePortalMount,Be=e.getCurrentEventPriority,He=e.detachDeletedInstance,Te=e.supportsMicrotasks,Ye=e.scheduleMicrotask,We=e.supportsTestSelectors,De=e.findFiberRoot,Q=e.getBoundingRect,z=e.getTextContent,ue=e.isHiddenSubtree,we=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,Ve=e.setupIntersectionObserver,ze=e.appendChild,Ze=e.appendChildToContainer,Ie=e.commitTextUpdate,at=e.commitMount,Qe=e.commitUpdate,st=e.insertBefore,je=e.insertInContainerBefore,Xe=e.removeChild,le=e.removeChildFromContainer,Re=e.resetTextContent,$e=e.hideInstance,ne=e.hideTextInstance,ce=e.unhideInstance,Oe=e.unhideTextInstance,it=e.clearContainer,dt=e.cloneInstance,Kt=e.createContainerChildSet,Ot=e.appendChildToContainerChildSet,Wt=e.finalizeContainerChildren,jt=e.replaceContainerChildren,on=e.cloneHiddenInstance,Gt=e.cloneHiddenTextInstance,Zt=e.canHydrateInstance,Zr=e.canHydrateTextInstance,Dr=e.canHydrateSuspenseInstance,un=e.isSuspenseInstancePending,$=e.isSuspenseInstanceFallback,Ae=e.registerSuspenseInstanceRetry,Pe=e.getNextHydratableSibling,fe=e.getFirstHydratableChild,Fe=e.getFirstHydratableChildWithinContainer,wt=e.getFirstHydratableChildWithinSuspenseInstance,F=e.hydrateInstance,X=e.hydrateTextInstance,oe=e.hydrateSuspenseInstance,pe=e.getNextHydratableInstanceAfterSuspenseInstance,Se=e.commitHydratedContainer,Me=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Je=e.clearSuspenseBoundaryFromContainer,tt=e.shouldDeleteUnhydratedTailInstances,nt=e.didNotMatchHydratedContainerTextInstance,qe=e.didNotMatchHydratedTextInstance,ye;function nn(h){if(ye===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);ye=p&&p[1]||""}return`
`+ye+h}var ut=!1;function pt(h,p){if(!h||ut)return"";ut=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ot){var A=ot}Reflect.construct(h,[],p)}else{try{p.call()}catch(ot){A=ot}h.call(p.prototype)}else{try{throw Error()}catch(ot){A=ot}h()}}catch(ot){if(ot&&A&&typeof ot.stack=="string"){for(var b=ot.stack.split(`
`),I=A.stack.split(`
`),te=b.length-1,he=I.length-1;1<=te&&0<=he&&b[te]!==I[he];)he--;for(;1<=te&&0<=he;te--,he--)if(b[te]!==I[he]){if(te!==1||he!==1)do if(te--,he--,0>he||b[te]!==I[he]){var Ue=`
`+b[te].replace(" at new "," at ");return h.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",h.displayName)),Ue}while(1<=te&&0<=he);break}}}finally{ut=!1,Error.prepareStackTrace=_}return(h=h?h.displayName||h.name:"")?nn(h):""}var Dt=Object.prototype.hasOwnProperty,It=[],Qt=-1;function Tt(h){return{current:h}}function Mt(h){0>Qt||(h.current=It[Qt],It[Qt]=null,Qt--)}function Lt(h,p){Qt++,It[Qt]=h.current,h.current=p}var Ct={},mn=Tt(Ct),zt=Tt(!1),Sn=Ct;function lr(h,p){var _=h.type.contextTypes;if(!_)return Ct;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var b={},I;for(I in _)b[I]=p[I];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=b),b}function Yn(h){return h=h.childContextTypes,h!=null}function Kn(){Mt(zt),Mt(mn)}function gn(h,p,_){if(mn.current!==Ct)throw Error(o(168));Lt(mn,p),Lt(zt,_)}function qn(h,p,_){var A=h.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return _;A=A.getChildContext();for(var b in A)if(!(b in p))throw Error(o(108,T(h)||"Unknown",b));return s({},_,A)}function xn(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ct,Sn=mn.current,Lt(mn,h),Lt(zt,zt.current),!0}function Xt(h,p,_){var A=h.stateNode;if(!A)throw Error(o(169));_?(h=qn(h,p,Sn),A.__reactInternalMemoizedMergedChildContext=h,Mt(zt),Mt(mn),Lt(mn,h)):Mt(zt),Lt(zt,_)}var Nn=Math.clz32?Math.clz32:is,Gi=Math.log,gr=Math.LN2;function is(h){return h>>>=0,h===0?32:31-(Gi(h)/gr|0)|0}var aa=64,la=4194304;function ua(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function iu(h,p){var _=h.pendingLanes;if(_===0)return 0;var A=0,b=h.suspendedLanes,I=h.pingedLanes,te=_&268435455;if(te!==0){var he=te&~b;he!==0?A=ua(he):(I&=te,I!==0&&(A=ua(I)))}else te=_&~b,te!==0?A=ua(te):I!==0&&(A=ua(I));if(A===0)return 0;if(p!==0&&p!==A&&!(p&b)&&(b=A&-A,I=p&-p,b>=I||b===16&&(I&4194240)!==0))return p;if(A&4&&(A|=_&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=A;0<p;)_=31-Nn(p),b=1<<_,A|=h[_],p&=~b;return A}function f3(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(h,p){for(var _=h.suspendedLanes,A=h.pingedLanes,b=h.expirationTimes,I=h.pendingLanes;0<I;){var te=31-Nn(I),he=1<<te,Ue=b[te];Ue===-1?(!(he&_)||he&A)&&(b[te]=f3(he,p)):Ue<=p&&(h.expiredLanes|=he),I&=~he}}function ca(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function bc(h){for(var p=[],_=0;31>_;_++)p.push(h);return p}function Io(h,p,_){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Nn(p),h[p]=_}function $a(h,p){var _=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<_;){var b=31-Nn(_),I=1<<b;p[b]=0,A[b]=-1,h[b]=-1,_&=~I}}function Lo(h,p){var _=h.entangledLanes|=p;for(h=h.entanglements;_;){var A=31-Nn(_),b=1<<A;b&p|h[A]&p&&(h[A]|=p),_&=~b}}var an=0;function Wh(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var fa=i.unstable_scheduleCallback,Pc=i.unstable_cancelCallback,jh=i.unstable_shouldYield,h3=i.unstable_requestPaint,$n=i.unstable_now,su=i.unstable_ImmediatePriority,d3=i.unstable_UserBlockingPriority,_i=i.unstable_NormalPriority,Xh=i.unstable_IdlePriority,ou=null,ss=null;function Jh(h){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(ou,h,void 0,(h.current.flags&128)===128)}catch{}}function p3(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var os=typeof Object.is=="function"?Object.is:p3,Mi=null,Fo=!1,bs=!1;function Yh(h){Mi===null?Mi=[h]:Mi.push(h)}function Kh(h){Fo=!0,Yh(h)}function Hi(){if(!bs&&Mi!==null){bs=!0;var h=0,p=an;try{var _=Mi;for(an=1;h<_.length;h++){var A=_[h];do A=A(!0);while(A!==null)}Mi=null,Fo=!1}catch(b){throw Mi!==null&&(Mi=Mi.slice(h+1)),fa(su,Hi),b}finally{an=p,bs=!1}}return null}var au=a.ReactCurrentBatchConfig;function lu(h,p){if(os(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var _=Object.keys(h),A=Object.keys(p);if(_.length!==A.length)return!1;for(A=0;A<_.length;A++){var b=_[A];if(!Dt.call(p,b)||!os(h[b],p[b]))return!1}return!0}function uu(h){switch(h.tag){case 5:return nn(h.type);case 16:return nn("Lazy");case 13:return nn("Suspense");case 19:return nn("SuspenseList");case 0:case 2:case 15:return h=pt(h.type,!1),h;case 11:return h=pt(h.type.render,!1),h;case 1:return h=pt(h.type,!0),h;default:return""}}function Ai(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var _ in h)p[_]===void 0&&(p[_]=h[_]);return p}return p}var zr=Tt(null),Rc=null,eo=null,el=null;function Dc(){el=eo=Rc=null}function m3(h,p,_){Ee?(Lt(zr,p._currentValue),p._currentValue=_):(Lt(zr,p._currentValue2),p._currentValue2=_)}function Gr(h){var p=zr.current;Mt(zr),Ee?h._currentValue=p:h._currentValue2=p}function Ei(h,p,_){for(;h!==null;){var A=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),h===_)break;h=h.return}}function vr(h,p){Rc=h,el=eo=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(cs=!0),h.firstContext=null)}function yr(h){var p=Ee?h._currentValue:h._currentValue2;if(el!==h)if(h={context:h,memoizedValue:p,next:null},eo===null){if(Rc===null)throw Error(o(308));eo=h,Rc.dependencies={lanes:0,firstContext:h}}else eo=eo.next=h;return p}var as=null,tl=!1;function kv(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pw(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ha(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function nl(h,p){var _=h.updateQueue;_!==null&&(_=_.shared,Mr!==null&&h.mode&1&&!(rn&2)?(h=_.interleaved,h===null?(p.next=p,as===null?as=[_]:as.push(_)):(p.next=h.next,h.next=p),_.interleaved=p):(h=_.pending,h===null?p.next=p:(p.next=h.next,h.next=p),_.pending=p))}function g3(h,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194240)!==0)){var A=p.lanes;A&=h.pendingLanes,_|=A,p.lanes=_,Lo(h,_)}}function mw(h,p){var _=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,_===A)){var b=null,I=null;if(_=_.firstBaseUpdate,_!==null){do{var te={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};I===null?b=I=te:I=I.next=te,_=_.next}while(_!==null);I===null?b=I=p:I=I.next=p}else b=I=p;_={baseState:A.baseState,firstBaseUpdate:b,lastBaseUpdate:I,shared:A.shared,effects:A.effects},h.updateQueue=_;return}h=_.lastBaseUpdate,h===null?_.firstBaseUpdate=p:h.next=p,_.lastBaseUpdate=p}function v3(h,p,_,A){var b=h.updateQueue;tl=!1;var I=b.firstBaseUpdate,te=b.lastBaseUpdate,he=b.shared.pending;if(he!==null){b.shared.pending=null;var Ue=he,ot=Ue.next;Ue.next=null,te===null?I=ot:te.next=ot,te=Ue;var xt=h.alternate;xt!==null&&(xt=xt.updateQueue,he=xt.lastBaseUpdate,he!==te&&(he===null?xt.firstBaseUpdate=ot:he.next=ot,xt.lastBaseUpdate=Ue))}if(I!==null){var Jt=b.baseState;te=0,xt=ot=Ue=null,he=I;do{var Bt=he.lane,Ln=he.eventTime;if((A&Bt)===Bt){xt!==null&&(xt=xt.next={eventTime:Ln,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var Et=h,ui=he;switch(Bt=p,Ln=_,ui.tag){case 1:if(Et=ui.payload,typeof Et=="function"){Jt=Et.call(Ln,Jt,Bt);break e}Jt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=ui.payload,Bt=typeof Et=="function"?Et.call(Ln,Jt,Bt):Et,Bt==null)break e;Jt=s({},Jt,Bt);break e;case 2:tl=!0}}he.callback!==null&&he.lane!==0&&(h.flags|=64,Bt=b.effects,Bt===null?b.effects=[he]:Bt.push(he))}else Ln={eventTime:Ln,lane:Bt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},xt===null?(ot=xt=Ln,Ue=Jt):xt=xt.next=Ln,te|=Bt;if(he=he.next,he===null){if(he=b.shared.pending,he===null)break;Bt=he,he=Bt.next,Bt.next=null,b.lastBaseUpdate=Bt,b.shared.pending=null}}while(1);if(xt===null&&(Ue=Jt),b.baseState=Ue,b.firstBaseUpdate=ot,b.lastBaseUpdate=xt,p=b.shared.interleaved,p!==null){b=p;do te|=b.lane,b=b.next;while(b!==p)}else I===null&&(b.shared.lanes=0);zc|=te,h.lanes=te,h.memoizedState=Jt}}function gw(h,p,_){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var A=h[p],b=A.callback;if(b!==null){if(A.callback=null,A=_,typeof b!="function")throw Error(o(191,b));b.call(A)}}}var vw=new r.Component().refs;function Uv(h,p,_,A){p=h.memoizedState,_=_(A,p),_=_==null?p:s({},p,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}var y3={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,p,_){h=h._reactInternals;var A=Ci(),b=sl(h),I=ha(A,b);I.payload=p,_!=null&&(I.callback=_),nl(h,I),p=Is(h,b,A),p!==null&&g3(p,h,b)},enqueueReplaceState:function(h,p,_){h=h._reactInternals;var A=Ci(),b=sl(h),I=ha(A,b);I.tag=1,I.payload=p,_!=null&&(I.callback=_),nl(h,I),p=Is(h,b,A),p!==null&&g3(p,h,b)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var _=Ci(),A=sl(h),b=ha(_,A);b.tag=2,p!=null&&(b.callback=p),nl(h,b),p=Is(h,A,_),p!==null&&g3(p,h,A)}};function yw(h,p,_,A,b,I,te){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,I,te):p.prototype&&p.prototype.isPureReactComponent?!lu(_,A)||!lu(b,I):!0}function xw(h,p,_){var A=!1,b=Ct,I=p.contextType;return typeof I=="object"&&I!==null?I=yr(I):(b=Yn(p)?Sn:mn.current,A=p.contextTypes,I=(A=A!=null)?lr(h,b):Ct),p=new p(_,I),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=y3,h.stateNode=p,p._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=b,h.__reactInternalMemoizedMaskedChildContext=I),p}function ww(h,p,_,A){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,A),p.state!==h&&y3.enqueueReplaceState(p,p.state,null)}function Nv(h,p,_,A){var b=h.stateNode;b.props=_,b.state=h.memoizedState,b.refs=vw,kv(h);var I=p.contextType;typeof I=="object"&&I!==null?b.context=yr(I):(I=Yn(p)?Sn:mn.current,b.context=lr(h,I)),b.state=h.memoizedState,I=p.getDerivedStateFromProps,typeof I=="function"&&(Uv(h,p,I,_),b.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(p=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),p!==b.state&&y3.enqueueReplaceState(b,b.state,null),v3(h,_,b,A),b.state=h.memoizedState),typeof b.componentDidMount=="function"&&(h.flags|=4194308)}var Bc=[],Ic=0,x3=null,w3=0,Ps=[],Rs=0,cu=null,da=1,pa="";function fu(h,p){Bc[Ic++]=w3,Bc[Ic++]=x3,x3=h,w3=p}function Sw(h,p,_){Ps[Rs++]=da,Ps[Rs++]=pa,Ps[Rs++]=cu,cu=h;var A=da;h=pa;var b=32-Nn(A)-1;A&=~(1<<b),_+=1;var I=32-Nn(p)+b;if(30<I){var te=b-b%5;I=(A&(1<<te)-1).toString(32),A>>=te,b-=te,da=1<<32-Nn(p)+b|_<<b|A,pa=I+h}else da=1<<I|_<<b|A,pa=h}function Ov(h){h.return!==null&&(fu(h,1),Sw(h,1,0))}function zv(h){for(;h===x3;)x3=Bc[--Ic],Bc[Ic]=null,w3=Bc[--Ic],Bc[Ic]=null;for(;h===cu;)cu=Ps[--Rs],Ps[Rs]=null,pa=Ps[--Rs],Ps[Rs]=null,da=Ps[--Rs],Ps[Rs]=null}var ls=null,us=null,Zn=!1,Zh=!1,to=null;function _w(h,p){var _=Ls(5,null,null,0);_.elementType="DELETED",_.stateNode=p,_.return=h,p=h.deletions,p===null?(h.deletions=[_],h.flags|=16):p.push(_)}function Mw(h,p){switch(h.tag){case 5:return p=Zt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,ls=h,us=fe(p),!0):!1;case 6:return p=Zr(p,h.pendingProps),p!==null?(h.stateNode=p,ls=h,us=null,!0):!1;case 13:if(p=Dr(p),p!==null){var _=cu!==null?{id:da,overflow:pa}:null;return h.memoizedState={dehydrated:p,treeContext:_,retryLane:1073741824},_=Ls(18,null,null,0),_.stateNode=p,_.return=h,h.child=_,ls=h,us=null,!0}return!1;default:return!1}}function Gv(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Hv(h){if(Zn){var p=us;if(p){var _=p;if(!Mw(h,p)){if(Gv(h))throw Error(o(418));p=Pe(_);var A=ls;p&&Mw(h,p)?_w(A,_):(h.flags=h.flags&-4097|2,Zn=!1,ls=h)}}else{if(Gv(h))throw Error(o(418));h.flags=h.flags&-4097|2,Zn=!1,ls=h}}}function Aw(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ls=h}function Qh(h){if(!xe||h!==ls)return!1;if(!Zn)return Aw(h),Zn=!0,!1;if(h.tag!==3&&(h.tag!==5||tt(h.type)&&!Y(h.type,h.memoizedProps))){var p=us;if(p){if(Gv(h)){for(h=us;h;)h=Pe(h);throw Error(o(418))}for(;p;)_w(h,p),p=Pe(p)}}if(Aw(h),h.tag===13){if(!xe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));us=pe(h)}else us=ls?Pe(h.stateNode):null;return!0}function Lc(){xe&&(us=ls=null,Zh=Zn=!1)}function Vv(h){to===null?to=[h]:to.push(h)}function qh(h,p,_){if(h=_.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var A=_.stateNode}if(!A)throw Error(o(147,h));var b=A,I=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===I?p.ref:(p=function(te){var he=b.refs;he===vw&&(he=b.refs={}),te===null?delete he[I]:he[I]=te},p._stringRef=I,p)}if(typeof h!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,h))}return h}function S3(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function Ew(h){var p=h._init;return p(h._payload)}function Tw(h){function p(be,ge){if(h){var ke=be.deletions;ke===null?(be.deletions=[ge],be.flags|=16):ke.push(ge)}}function _(be,ge){if(!h)return null;for(;ge!==null;)p(be,ge),ge=ge.sibling;return null}function A(be,ge){for(be=new Map;ge!==null;)ge.key!==null?be.set(ge.key,ge):be.set(ge.index,ge),ge=ge.sibling;return be}function b(be,ge){return be=al(be,ge),be.index=0,be.sibling=null,be}function I(be,ge,ke){return be.index=ke,h?(ke=be.alternate,ke!==null?(ke=ke.index,ke<ge?(be.flags|=2,ge):ke):(be.flags|=2,ge)):(be.flags|=1048576,ge)}function te(be){return h&&be.alternate===null&&(be.flags|=2),be}function he(be,ge,ke,mt){return ge===null||ge.tag!==6?(ge=T5(ke,be.mode,mt),ge.return=be,ge):(ge=b(ge,ke),ge.return=be,ge)}function Ue(be,ge,ke,mt){var At=ke.type;return At===c?xt(be,ge,ke.props.children,mt,ke.key):ge!==null&&(ge.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===x&&Ew(At)===ge.type)?(mt=b(ge,ke.props),mt.ref=qh(be,ge,ke),mt.return=be,mt):(mt=q3(ke.type,ke.key,ke.props,null,be.mode,mt),mt.ref=qh(be,ge,ke),mt.return=be,mt)}function ot(be,ge,ke,mt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==ke.containerInfo||ge.stateNode.implementation!==ke.implementation?(ge=C5(ke,be.mode,mt),ge.return=be,ge):(ge=b(ge,ke.children||[]),ge.return=be,ge)}function xt(be,ge,ke,mt,At){return ge===null||ge.tag!==7?(ge=yu(ke,be.mode,mt,At),ge.return=be,ge):(ge=b(ge,ke),ge.return=be,ge)}function Jt(be,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=T5(""+ge,be.mode,ke),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ke=q3(ge.type,ge.key,ge.props,null,be.mode,ke),ke.ref=qh(be,null,ge),ke.return=be,ke;case u:return ge=C5(ge,be.mode,ke),ge.return=be,ge;case x:var mt=ge._init;return Jt(be,mt(ge._payload),ke)}if(U(ge)||C(ge))return ge=yu(ge,be.mode,ke,null),ge.return=be,ge;S3(be,ge)}return null}function Bt(be,ge,ke,mt){var At=ge!==null?ge.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return At!==null?null:he(be,ge,""+ke,mt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:return ke.key===At?Ue(be,ge,ke,mt):null;case u:return ke.key===At?ot(be,ge,ke,mt):null;case x:return At=ke._init,Bt(be,ge,At(ke._payload),mt)}if(U(ke)||C(ke))return At!==null?null:xt(be,ge,ke,mt,null);S3(be,ke)}return null}function Ln(be,ge,ke,mt,At){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return be=be.get(ke)||null,he(ge,be,""+mt,At);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case l:return be=be.get(mt.key===null?ke:mt.key)||null,Ue(ge,be,mt,At);case u:return be=be.get(mt.key===null?ke:mt.key)||null,ot(ge,be,mt,At);case x:var tn=mt._init;return Ln(be,ge,ke,tn(mt._payload),At)}if(U(mt)||C(mt))return be=be.get(ke)||null,xt(ge,be,mt,At,null);S3(ge,mt)}return null}function Et(be,ge,ke,mt){for(var At=null,tn=null,Yt=ge,_n=ge=0,Vr=null;Yt!==null&&_n<ke.length;_n++){Yt.index>_n?(Vr=Yt,Yt=null):Vr=Yt.sibling;var Mn=Bt(be,Yt,ke[_n],mt);if(Mn===null){Yt===null&&(Yt=Vr);break}h&&Yt&&Mn.alternate===null&&p(be,Yt),ge=I(Mn,ge,_n),tn===null?At=Mn:tn.sibling=Mn,tn=Mn,Yt=Vr}if(_n===ke.length)return _(be,Yt),Zn&&fu(be,_n),At;if(Yt===null){for(;_n<ke.length;_n++)Yt=Jt(be,ke[_n],mt),Yt!==null&&(ge=I(Yt,ge,_n),tn===null?At=Yt:tn.sibling=Yt,tn=Yt);return Zn&&fu(be,_n),At}for(Yt=A(be,Yt);_n<ke.length;_n++)Vr=Ln(Yt,be,_n,ke[_n],mt),Vr!==null&&(h&&Vr.alternate!==null&&Yt.delete(Vr.key===null?_n:Vr.key),ge=I(Vr,ge,_n),tn===null?At=Vr:tn.sibling=Vr,tn=Vr);return h&&Yt.forEach(function(ll){return p(be,ll)}),Zn&&fu(be,_n),At}function ui(be,ge,ke,mt){var At=C(ke);if(typeof At!="function")throw Error(o(150));if(ke=At.call(ke),ke==null)throw Error(o(151));for(var tn=At=null,Yt=ge,_n=ge=0,Vr=null,Mn=ke.next();Yt!==null&&!Mn.done;_n++,Mn=ke.next()){Yt.index>_n?(Vr=Yt,Yt=null):Vr=Yt.sibling;var ll=Bt(be,Yt,Mn.value,mt);if(ll===null){Yt===null&&(Yt=Vr);break}h&&Yt&&ll.alternate===null&&p(be,Yt),ge=I(ll,ge,_n),tn===null?At=ll:tn.sibling=ll,tn=ll,Yt=Vr}if(Mn.done)return _(be,Yt),Zn&&fu(be,_n),At;if(Yt===null){for(;!Mn.done;_n++,Mn=ke.next())Mn=Jt(be,Mn.value,mt),Mn!==null&&(ge=I(Mn,ge,_n),tn===null?At=Mn:tn.sibling=Mn,tn=Mn);return Zn&&fu(be,_n),At}for(Yt=A(be,Yt);!Mn.done;_n++,Mn=ke.next())Mn=Ln(Yt,be,_n,Mn.value,mt),Mn!==null&&(h&&Mn.alternate!==null&&Yt.delete(Mn.key===null?_n:Mn.key),ge=I(Mn,ge,_n),tn===null?At=Mn:tn.sibling=Mn,tn=Mn);return h&&Yt.forEach(function(dF){return p(be,dF)}),Zn&&fu(be,_n),At}function Fs(be,ge,ke,mt){if(typeof ke=="object"&&ke!==null&&ke.type===c&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:e:{for(var At=ke.key,tn=ge;tn!==null;){if(tn.key===At){if(At=ke.type,At===c){if(tn.tag===7){_(be,tn.sibling),ge=b(tn,ke.props.children),ge.return=be,be=ge;break e}}else if(tn.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===x&&Ew(At)===tn.type){_(be,tn.sibling),ge=b(tn,ke.props),ge.ref=qh(be,tn,ke),ge.return=be,be=ge;break e}_(be,tn);break}else p(be,tn);tn=tn.sibling}ke.type===c?(ge=yu(ke.props.children,be.mode,mt,ke.key),ge.return=be,be=ge):(mt=q3(ke.type,ke.key,ke.props,null,be.mode,mt),mt.ref=qh(be,ge,ke),mt.return=be,be=mt)}return te(be);case u:e:{for(tn=ke.key;ge!==null;){if(ge.key===tn)if(ge.tag===4&&ge.stateNode.containerInfo===ke.containerInfo&&ge.stateNode.implementation===ke.implementation){_(be,ge.sibling),ge=b(ge,ke.children||[]),ge.return=be,be=ge;break e}else{_(be,ge);break}else p(be,ge);ge=ge.sibling}ge=C5(ke,be.mode,mt),ge.return=be,be=ge}return te(be);case x:return tn=ke._init,Fs(be,ge,tn(ke._payload),mt)}if(U(ke))return Et(be,ge,ke,mt);if(C(ke))return ui(be,ge,ke,mt);S3(be,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,ge!==null&&ge.tag===6?(_(be,ge.sibling),ge=b(ge,ke),ge.return=be,be=ge):(_(be,ge),ge=T5(ke,be.mode,mt),ge.return=be,be=ge),te(be)):_(be,ge)}return Fs}var Fc=Tw(!0),Cw=Tw(!1),$h={},Ds=Tt($h),ed=Tt($h),kc=Tt($h);function ko(h){if(h===$h)throw Error(o(174));return h}function Wv(h,p){Lt(kc,p),Lt(ed,h),Lt(Ds,$h),h=ie(p),Mt(Ds),Lt(Ds,h)}function Uc(){Mt(Ds),Mt(ed),Mt(kc)}function bw(h){var p=ko(kc.current),_=ko(Ds.current);p=L(_,h.type,p),_!==p&&(Lt(ed,h),Lt(Ds,p))}function jv(h){ed.current===h&&(Mt(Ds),Mt(ed))}var er=Tt(0);function _3(h){for(var p=h;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||un(_)||$(_)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Xv=[];function Jv(){for(var h=0;h<Xv.length;h++){var p=Xv[h];Ee?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Xv.length=0}var M3=a.ReactCurrentDispatcher,Bs=a.ReactCurrentBatchConfig,Nc=0,ur=null,oi=null,Hr=null,A3=!1,td=!1,nd=0,NL=0;function ai(){throw Error(o(321))}function Yv(h,p){if(p===null)return!1;for(var _=0;_<p.length&&_<h.length;_++)if(!os(h[_],p[_]))return!1;return!0}function Kv(h,p,_,A,b,I){if(Nc=I,ur=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,M3.current=h===null||h.memoizedState===null?HL:VL,h=_(A,b),td){I=0;do{if(td=!1,nd=0,25<=I)throw Error(o(301));I+=1,Hr=oi=null,p.updateQueue=null,M3.current=WL,h=_(A,b)}while(td)}if(M3.current=P3,p=oi!==null&&oi.next!==null,Nc=0,Hr=oi=ur=null,A3=!1,p)throw Error(o(300));return h}function Zv(){var h=nd!==0;return nd=0,h}function ma(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?ur.memoizedState=Hr=h:Hr=Hr.next=h,Hr}function Uo(){if(oi===null){var h=ur.alternate;h=h!==null?h.memoizedState:null}else h=oi.next;var p=Hr===null?ur.memoizedState:Hr.next;if(p!==null)Hr=p,oi=h;else{if(h===null)throw Error(o(310));oi=h,h={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},Hr===null?ur.memoizedState=Hr=h:Hr=Hr.next=h}return Hr}function hu(h,p){return typeof p=="function"?p(h):p}function E3(h){var p=Uo(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var A=oi,b=A.baseQueue,I=_.pending;if(I!==null){if(b!==null){var te=b.next;b.next=I.next,I.next=te}A.baseQueue=b=I,_.pending=null}if(b!==null){I=b.next,A=A.baseState;var he=te=null,Ue=null,ot=I;do{var xt=ot.lane;if((Nc&xt)===xt)Ue!==null&&(Ue=Ue.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),A=ot.hasEagerState?ot.eagerState:h(A,ot.action);else{var Jt={lane:xt,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};Ue===null?(he=Ue=Jt,te=A):Ue=Ue.next=Jt,ur.lanes|=xt,zc|=xt}ot=ot.next}while(ot!==null&&ot!==I);Ue===null?te=A:Ue.next=he,os(A,p.memoizedState)||(cs=!0),p.memoizedState=A,p.baseState=te,p.baseQueue=Ue,_.lastRenderedState=A}if(h=_.interleaved,h!==null){b=h;do I=b.lane,ur.lanes|=I,zc|=I,b=b.next;while(b!==h)}else b===null&&(_.lanes=0);return[p.memoizedState,_.dispatch]}function T3(h){var p=Uo(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=h;var A=_.dispatch,b=_.pending,I=p.memoizedState;if(b!==null){_.pending=null;var te=b=b.next;do I=h(I,te.action),te=te.next;while(te!==b);os(I,p.memoizedState)||(cs=!0),p.memoizedState=I,p.baseQueue===null&&(p.baseState=I),_.lastRenderedState=I}return[I,A]}function Pw(){}function Rw(h,p){var _=ur,A=Uo(),b=p(),I=!os(A.memoizedState,b);if(I&&(A.memoizedState=b,cs=!0),A=A.queue,id(Iw.bind(null,_,A,h),[h]),A.getSnapshot!==p||I||Hr!==null&&Hr.memoizedState.tag&1){if(_.flags|=2048,rd(9,Bw.bind(null,_,A,b,p),void 0,null),Mr===null)throw Error(o(349));Nc&30||Dw(_,p,b)}return b}function Dw(h,p,_){h.flags|=16384,h={getSnapshot:p,value:_},p=ur.updateQueue,p===null?(p={lastEffect:null,stores:null},ur.updateQueue=p,p.stores=[h]):(_=p.stores,_===null?p.stores=[h]:_.push(h))}function Bw(h,p,_,A){p.value=_,p.getSnapshot=A,Lw(p)&&Is(h,1,-1)}function Iw(h,p,_){return _(function(){Lw(p)&&Is(h,1,-1)})}function Lw(h){var p=h.getSnapshot;h=h.value;try{var _=p();return!os(h,_)}catch{return!0}}function Qv(h){var p=ma();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:h},p.queue=h,h=h.dispatch=GL.bind(null,ur,h),[p.memoizedState,h]}function rd(h,p,_,A){return h={tag:h,create:p,destroy:_,deps:A,next:null},p=ur.updateQueue,p===null?(p={lastEffect:null,stores:null},ur.updateQueue=p,p.lastEffect=h.next=h):(_=p.lastEffect,_===null?p.lastEffect=h.next=h:(A=_.next,_.next=h,h.next=A,p.lastEffect=h)),h}function Fw(){return Uo().memoizedState}function C3(h,p,_,A){var b=ma();ur.flags|=h,b.memoizedState=rd(1|p,_,void 0,A===void 0?null:A)}function b3(h,p,_,A){var b=Uo();A=A===void 0?null:A;var I=void 0;if(oi!==null){var te=oi.memoizedState;if(I=te.destroy,A!==null&&Yv(A,te.deps)){b.memoizedState=rd(p,_,I,A);return}}ur.flags|=h,b.memoizedState=rd(1|p,_,I,A)}function qv(h,p){return C3(8390656,8,h,p)}function id(h,p){return b3(2048,8,h,p)}function kw(h,p){return b3(4,2,h,p)}function Uw(h,p){return b3(4,4,h,p)}function Nw(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Ow(h,p,_){return _=_!=null?_.concat([h]):null,b3(4,4,Nw.bind(null,p,h),_)}function $v(){}function zw(h,p){var _=Uo();p=p===void 0?null:p;var A=_.memoizedState;return A!==null&&p!==null&&Yv(p,A[1])?A[0]:(_.memoizedState=[h,p],h)}function Gw(h,p){var _=Uo();p=p===void 0?null:p;var A=_.memoizedState;return A!==null&&p!==null&&Yv(p,A[1])?A[0]:(h=h(),_.memoizedState=[h,p],h)}function OL(h,p){var _=an;an=_!==0&&4>_?_:4,h(!0);var A=Bs.transition;Bs.transition={};try{h(!1),p()}finally{an=_,Bs.transition=A}}function Hw(){return Uo().memoizedState}function zL(h,p,_){var A=sl(h);_={lane:A,action:_,hasEagerState:!1,eagerState:null,next:null},Vw(h)?Ww(p,_):(jw(h,p,_),_=Ci(),h=Is(h,A,_),h!==null&&Xw(h,p,A))}function GL(h,p,_){var A=sl(h),b={lane:A,action:_,hasEagerState:!1,eagerState:null,next:null};if(Vw(h))Ww(p,b);else{jw(h,p,b);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=p.lastRenderedReducer,I!==null))try{var te=p.lastRenderedState,he=I(te,_);if(b.hasEagerState=!0,b.eagerState=he,os(he,te))return}catch{}finally{}_=Ci(),h=Is(h,A,_),h!==null&&Xw(h,p,A)}}function Vw(h){var p=h.alternate;return h===ur||p!==null&&p===ur}function Ww(h,p){td=A3=!0;var _=h.pending;_===null?p.next=p:(p.next=_.next,_.next=p),h.pending=p}function jw(h,p,_){Mr!==null&&h.mode&1&&!(rn&2)?(h=p.interleaved,h===null?(_.next=_,as===null?as=[p]:as.push(p)):(_.next=h.next,h.next=_),p.interleaved=_):(h=p.pending,h===null?_.next=_:(_.next=h.next,h.next=_),p.pending=_)}function Xw(h,p,_){if(_&4194240){var A=p.lanes;A&=h.pendingLanes,_|=A,p.lanes=_,Lo(h,_)}}var P3={readContext:yr,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},HL={readContext:yr,useCallback:function(h,p){return ma().memoizedState=[h,p===void 0?null:p],h},useContext:yr,useEffect:qv,useImperativeHandle:function(h,p,_){return _=_!=null?_.concat([h]):null,C3(4194308,4,Nw.bind(null,p,h),_)},useLayoutEffect:function(h,p){return C3(4194308,4,h,p)},useInsertionEffect:function(h,p){return C3(4,2,h,p)},useMemo:function(h,p){var _=ma();return p=p===void 0?null:p,h=h(),_.memoizedState=[h,p],h},useReducer:function(h,p,_){var A=ma();return p=_!==void 0?_(p):p,A.memoizedState=A.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},A.queue=h,h=h.dispatch=zL.bind(null,ur,h),[A.memoizedState,h]},useRef:function(h){var p=ma();return h={current:h},p.memoizedState=h},useState:Qv,useDebugValue:$v,useDeferredValue:function(h){var p=Qv(h),_=p[0],A=p[1];return qv(function(){var b=Bs.transition;Bs.transition={};try{A(h)}finally{Bs.transition=b}},[h]),_},useTransition:function(){var h=Qv(!1),p=h[0];return h=OL.bind(null,h[1]),ma().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,_){var A=ur,b=ma();if(Zn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=p(),Mr===null)throw Error(o(349));Nc&30||Dw(A,p,_)}b.memoizedState=_;var I={value:_,getSnapshot:p};return b.queue=I,qv(Iw.bind(null,A,I,h),[h]),A.flags|=2048,rd(9,Bw.bind(null,A,I,_,p),void 0,null),_},useId:function(){var h=ma(),p=Mr.identifierPrefix;if(Zn){var _=pa,A=da;_=(A&~(1<<32-Nn(A)-1)).toString(32)+_,p=":"+p+"R"+_,_=nd++,0<_&&(p+="H"+_.toString(32)),p+=":"}else _=NL++,p=":"+p+"r"+_.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},VL={readContext:yr,useCallback:zw,useContext:yr,useEffect:id,useImperativeHandle:Ow,useInsertionEffect:kw,useLayoutEffect:Uw,useMemo:Gw,useReducer:E3,useRef:Fw,useState:function(){return E3(hu)},useDebugValue:$v,useDeferredValue:function(h){var p=E3(hu),_=p[0],A=p[1];return id(function(){var b=Bs.transition;Bs.transition={};try{A(h)}finally{Bs.transition=b}},[h]),_},useTransition:function(){var h=E3(hu)[0],p=Uo().memoizedState;return[h,p]},useMutableSource:Pw,useSyncExternalStore:Rw,useId:Hw,unstable_isNewReconciler:!1},WL={readContext:yr,useCallback:zw,useContext:yr,useEffect:id,useImperativeHandle:Ow,useInsertionEffect:kw,useLayoutEffect:Uw,useMemo:Gw,useReducer:T3,useRef:Fw,useState:function(){return T3(hu)},useDebugValue:$v,useDeferredValue:function(h){var p=T3(hu),_=p[0],A=p[1];return id(function(){var b=Bs.transition;Bs.transition={};try{A(h)}finally{Bs.transition=b}},[h]),_},useTransition:function(){var h=T3(hu)[0],p=Uo().memoizedState;return[h,p]},useMutableSource:Pw,useSyncExternalStore:Rw,useId:Hw,unstable_isNewReconciler:!1};function e5(h,p){try{var _="",A=p;do _+=uu(A),A=A.return;while(A);var b=_}catch(I){b=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:p,stack:b}}function t5(h,p){try{console.error(p.value)}catch(_){setTimeout(function(){throw _})}}var jL=typeof WeakMap=="function"?WeakMap:Map;function Jw(h,p,_){_=ha(-1,_),_.tag=3,_.payload={element:null};var A=p.value;return _.callback=function(){j3||(j3=!0,x5=A),t5(h,p)},_}function Yw(h,p,_){_=ha(-1,_),_.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var b=p.value;_.payload=function(){return A(b)},_.callback=function(){t5(h,p)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(_.callback=function(){t5(h,p),typeof A!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var te=p.stack;this.componentDidCatch(p.value,{componentStack:te!==null?te:""})}),_}function Kw(h,p,_){var A=h.pingCache;if(A===null){A=h.pingCache=new jL;var b=new Set;A.set(p,b)}else b=A.get(p),b===void 0&&(b=new Set,A.set(p,b));b.has(_)||(b.add(_),h=sF.bind(null,h,p,_),p.then(h,h))}function Zw(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function Qw(h,p,_,A,b){return h.mode&1?(h.flags|=65536,h.lanes=b,h):(h===p?h.flags|=65536:(h.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(p=ha(-1,1),p.tag=2,nl(_,p))),_.lanes|=1),h)}function No(h){h.flags|=4}function qw(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var sd,od,R3,D3;if(_e)sd=function(h,p){for(var _=p.child;_!==null;){if(_.tag===5||_.tag===6)k(h,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},od=function(){},R3=function(h,p,_,A,b){if(h=h.memoizedProps,h!==A){var I=p.stateNode,te=ko(Ds.current);_=ee(I,_,h,A,b,te),(p.updateQueue=_)&&No(p)}},D3=function(h,p,_,A){_!==A&&No(p)};else if(se){sd=function(h,p,_,A){for(var b=p.child;b!==null;){if(b.tag===5){var I=b.stateNode;_&&A&&(I=on(I,b.type,b.memoizedProps,b)),k(h,I)}else if(b.tag===6)I=b.stateNode,_&&A&&(I=Gt(I,b.memoizedProps,b)),k(h,I);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)I=b.child,I!==null&&(I.return=b),sd(h,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var $w=function(h,p,_,A){for(var b=p.child;b!==null;){if(b.tag===5){var I=b.stateNode;_&&A&&(I=on(I,b.type,b.memoizedProps,b)),Ot(h,I)}else if(b.tag===6)I=b.stateNode,_&&A&&(I=Gt(I,b.memoizedProps,b)),Ot(h,I);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)I=b.child,I!==null&&(I.return=b),$w(h,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};od=function(h,p){var _=p.stateNode;if(!qw(h,p)){h=_.containerInfo;var A=Kt(h);$w(A,p,!1,!1),_.pendingChildren=A,No(p),Wt(h,A)}},R3=function(h,p,_,A,b){var I=h.stateNode,te=h.memoizedProps;if((h=qw(h,p))&&te===A)p.stateNode=I;else{var he=p.stateNode,Ue=ko(Ds.current),ot=null;te!==A&&(ot=ee(he,_,te,A,b,Ue)),h&&ot===null?p.stateNode=I:(I=dt(I,ot,_,te,A,p,h,he),q(I,_,A,b,Ue)&&No(p),p.stateNode=I,h?No(p):sd(I,p,!1,!1))}},D3=function(h,p,_,A){_!==A?(h=ko(kc.current),_=ko(Ds.current),p.stateNode=Z(A,h,_,p),No(p)):p.stateNode=h.stateNode}}else od=function(){},R3=function(){},D3=function(){};function ad(h,p){if(!Zn)switch(h.tailMode){case"hidden":p=h.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function li(h){var p=h.alternate!==null&&h.alternate.child===h.child,_=0,A=0;if(p)for(var b=h.child;b!==null;)_|=b.lanes|b.childLanes,A|=b.subtreeFlags&14680064,A|=b.flags&14680064,b.return=h,b=b.sibling;else for(b=h.child;b!==null;)_|=b.lanes|b.childLanes,A|=b.subtreeFlags,A|=b.flags,b.return=h,b=b.sibling;return h.subtreeFlags|=A,h.childLanes=_,p}function XL(h,p,_){var A=p.pendingProps;switch(zv(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(p),null;case 1:return Yn(p.type)&&Kn(),li(p),null;case 3:return A=p.stateNode,Uc(),Mt(zt),Mt(mn),Jv(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(Qh(p)?No(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,to!==null&&(_5(to),to=null))),od(h,p),li(p),null;case 5:jv(p),_=ko(kc.current);var b=p.type;if(h!==null&&p.stateNode!=null)R3(h,p,b,A,_),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(o(166));return li(p),null}if(h=ko(Ds.current),Qh(p)){if(!xe)throw Error(o(175));h=F(p.stateNode,p.type,p.memoizedProps,_,h,p,!Zh),p.updateQueue=h,h!==null&&No(p)}else{var I=j(b,A,_,h,p);sd(I,p,!1,!1),p.stateNode=I,q(I,b,A,_,h)&&No(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return li(p),null;case 6:if(h&&p.stateNode!=null)D3(h,p,h.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(o(166));if(h=ko(kc.current),_=ko(Ds.current),Qh(p)){if(!xe)throw Error(o(176));if(h=p.stateNode,A=p.memoizedProps,(_=X(h,A,p,!Zh))&&(b=ls,b!==null))switch(I=(b.mode&1)!==0,b.tag){case 3:nt(b.stateNode.containerInfo,h,A,I);break;case 5:qe(b.type,b.memoizedProps,b.stateNode,h,A,I)}_&&No(p)}else p.stateNode=Z(A,h,_,p)}return li(p),null;case 13:if(Mt(er),A=p.memoizedState,Zn&&us!==null&&p.mode&1&&!(p.flags&128)){for(h=us;h;)h=Pe(h);return Lc(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=Qh(p),h===null){if(!A)throw Error(o(318));if(!xe)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));oe(h,p)}else Lc(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return li(p),null}return to!==null&&(_5(to),to=null),p.flags&128?(p.lanes=_,p):(A=A!==null,_=!1,h===null?Qh(p):_=h.memoizedState!==null,A&&!_&&(p.child.flags|=8192,p.mode&1&&(h===null||er.current&1?Br===0&&(Br=3):A5())),p.updateQueue!==null&&(p.flags|=4),li(p),null);case 4:return Uc(),od(h,p),h===null&&Ce(p.stateNode.containerInfo),li(p),null;case 10:return Gr(p.type._context),li(p),null;case 17:return Yn(p.type)&&Kn(),li(p),null;case 19:if(Mt(er),b=p.memoizedState,b===null)return li(p),null;if(A=(p.flags&128)!==0,I=b.rendering,I===null)if(A)ad(b,!1);else{if(Br!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(I=_3(h),I!==null){for(p.flags|=128,ad(b,!1),h=I.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=_,A=p.child;A!==null;)_=A,b=h,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=b,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,b=I.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),A=A.sibling;return Lt(er,er.current&1|2),p.child}h=h.sibling}b.tail!==null&&$n()>y5&&(p.flags|=128,A=!0,ad(b,!1),p.lanes=4194304)}else{if(!A)if(h=_3(I),h!==null){if(p.flags|=128,A=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),ad(b,!0),b.tail===null&&b.tailMode==="hidden"&&!I.alternate&&!Zn)return li(p),null}else 2*$n()-b.renderingStartTime>y5&&_!==1073741824&&(p.flags|=128,A=!0,ad(b,!1),p.lanes=4194304);b.isBackwards?(I.sibling=p.child,p.child=I):(h=b.last,h!==null?h.sibling=I:p.child=I,b.last=I)}return b.tail!==null?(p=b.tail,b.rendering=p,b.tail=p.sibling,b.renderingStartTime=$n(),p.sibling=null,h=er.current,Lt(er,A?h&1|2:h&1),p):(li(p),null);case 22:case 23:return M5(),A=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?fs&1073741824&&(li(p),_e&&p.subtreeFlags&6&&(p.flags|=8192)):li(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var JL=a.ReactCurrentOwner,cs=!1;function Ti(h,p,_,A){p.child=h===null?Cw(p,null,_,A):Fc(p,h.child,_,A)}function eS(h,p,_,A,b){_=_.render;var I=p.ref;return vr(p,b),A=Kv(h,p,_,A,I,b),_=Zv(),h!==null&&!cs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~b,ga(h,p,b)):(Zn&&_&&Ov(p),p.flags|=1,Ti(h,p,A,b),p.child)}function tS(h,p,_,A,b){if(h===null){var I=_.type;return typeof I=="function"&&!E5(I)&&I.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(p.tag=15,p.type=I,nS(h,p,I,A,b)):(h=q3(_.type,null,A,p,p.mode,b),h.ref=p.ref,h.return=p,p.child=h)}if(I=h.child,!(h.lanes&b)){var te=I.memoizedProps;if(_=_.compare,_=_!==null?_:lu,_(te,A)&&h.ref===p.ref)return ga(h,p,b)}return p.flags|=1,h=al(I,A),h.ref=p.ref,h.return=p,p.child=h}function nS(h,p,_,A,b){if(h!==null&&lu(h.memoizedProps,A)&&h.ref===p.ref)if(cs=!1,(h.lanes&b)!==0)h.flags&131072&&(cs=!0);else return p.lanes=h.lanes,ga(h,p,b);return n5(h,p,_,A,b)}function rS(h,p,_){var A=p.pendingProps,b=A.children,I=h!==null?h.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Lt(Oc,fs),fs|=_;else if(_&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=I!==null?I.baseLanes:_,Lt(Oc,fs),fs|=A;else return h=I!==null?I.baseLanes|_:_,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,Lt(Oc,fs),fs|=h,null;else I!==null?(A=I.baseLanes|_,p.memoizedState=null):A=_,Lt(Oc,fs),fs|=A;return Ti(h,p,b,_),p.child}function iS(h,p){var _=p.ref;(h===null&&_!==null||h!==null&&h.ref!==_)&&(p.flags|=512,p.flags|=2097152)}function n5(h,p,_,A,b){var I=Yn(_)?Sn:mn.current;return I=lr(p,I),vr(p,b),_=Kv(h,p,_,A,I,b),A=Zv(),h!==null&&!cs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~b,ga(h,p,b)):(Zn&&A&&Ov(p),p.flags|=1,Ti(h,p,_,b),p.child)}function sS(h,p,_,A,b){if(Yn(_)){var I=!0;xn(p)}else I=!1;if(vr(p,b),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),xw(p,_,A),Nv(p,_,A,b),A=!0;else if(h===null){var te=p.stateNode,he=p.memoizedProps;te.props=he;var Ue=te.context,ot=_.contextType;typeof ot=="object"&&ot!==null?ot=yr(ot):(ot=Yn(_)?Sn:mn.current,ot=lr(p,ot));var xt=_.getDerivedStateFromProps,Jt=typeof xt=="function"||typeof te.getSnapshotBeforeUpdate=="function";Jt||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(he!==A||Ue!==ot)&&ww(p,te,A,ot),tl=!1;var Bt=p.memoizedState;te.state=Bt,v3(p,A,te,b),Ue=p.memoizedState,he!==A||Bt!==Ue||zt.current||tl?(typeof xt=="function"&&(Uv(p,_,xt,A),Ue=p.memoizedState),(he=tl||yw(p,_,he,A,Bt,Ue,ot))?(Jt||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(p.flags|=4194308)):(typeof te.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=Ue),te.props=A,te.state=Ue,te.context=ot,A=he):(typeof te.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{te=p.stateNode,pw(h,p),he=p.memoizedProps,ot=p.type===p.elementType?he:Ai(p.type,he),te.props=ot,Jt=p.pendingProps,Bt=te.context,Ue=_.contextType,typeof Ue=="object"&&Ue!==null?Ue=yr(Ue):(Ue=Yn(_)?Sn:mn.current,Ue=lr(p,Ue));var Ln=_.getDerivedStateFromProps;(xt=typeof Ln=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(he!==Jt||Bt!==Ue)&&ww(p,te,A,Ue),tl=!1,Bt=p.memoizedState,te.state=Bt,v3(p,A,te,b);var Et=p.memoizedState;he!==Jt||Bt!==Et||zt.current||tl?(typeof Ln=="function"&&(Uv(p,_,Ln,A),Et=p.memoizedState),(ot=tl||yw(p,_,ot,A,Bt,Et,Ue)||!1)?(xt||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(A,Et,Ue),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(A,Et,Ue)),typeof te.componentDidUpdate=="function"&&(p.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof te.componentDidUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=Et),te.props=A,te.state=Et,te.context=Ue,A=ot):(typeof te.componentDidUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Bt===h.memoizedState||(p.flags|=1024),A=!1)}return r5(h,p,_,A,I,b)}function r5(h,p,_,A,b,I){iS(h,p);var te=(p.flags&128)!==0;if(!A&&!te)return b&&Xt(p,_,!1),ga(h,p,I);A=p.stateNode,JL.current=p;var he=te&&typeof _.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,h!==null&&te?(p.child=Fc(p,h.child,null,I),p.child=Fc(p,null,he,I)):Ti(h,p,he,I),p.memoizedState=A.state,b&&Xt(p,_,!0),p.child}function oS(h){var p=h.stateNode;p.pendingContext?gn(h,p.pendingContext,p.pendingContext!==p.context):p.context&&gn(h,p.context,!1),Wv(h,p.containerInfo)}function aS(h,p,_,A,b){return Lc(),Vv(b),p.flags|=256,Ti(h,p,_,A),p.child}var B3={dehydrated:null,treeContext:null,retryLane:0};function I3(h){return{baseLanes:h,cachePool:null}}function lS(h,p,_){var A=p.pendingProps,b=er.current,I=!1,te=(p.flags&128)!==0,he;if((he=te)||(he=h!==null&&h.memoizedState===null?!1:(b&2)!==0),he?(I=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(b|=1),Lt(er,b&1),h===null)return Hv(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?$(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(b=A.children,h=A.fallback,I?(A=p.mode,I=p.child,b={mode:"hidden",children:b},!(A&1)&&I!==null?(I.childLanes=0,I.pendingProps=b):I=$3(b,A,0,null),h=yu(h,A,_,null),I.return=p,h.return=p,I.sibling=h,p.child=I,p.child.memoizedState=I3(_),p.memoizedState=B3,h):i5(p,b));if(b=h.memoizedState,b!==null){if(he=b.dehydrated,he!==null){if(te)return p.flags&256?(p.flags&=-257,L3(h,p,_,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(I=A.fallback,b=p.mode,A=$3({mode:"visible",children:A.children},b,0,null),I=yu(I,b,_,null),I.flags|=2,A.return=p,I.return=p,A.sibling=I,p.child=A,p.mode&1&&Fc(p,h.child,null,_),p.child.memoizedState=I3(_),p.memoizedState=B3,I);if(!(p.mode&1))p=L3(h,p,_,null);else if($(he))p=L3(h,p,_,Error(o(419)));else if(A=(_&h.childLanes)!==0,cs||A){if(A=Mr,A!==null){switch(_&-_){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}A=I&(A.suspendedLanes|_)?0:I,A!==0&&A!==b.retryLane&&(b.retryLane=A,Is(h,A,-1))}A5(),p=L3(h,p,_,Error(o(421)))}else un(he)?(p.flags|=128,p.child=h.child,p=oF.bind(null,h),Ae(he,p),p=null):(_=b.treeContext,xe&&(us=wt(he),ls=p,Zn=!0,to=null,Zh=!1,_!==null&&(Ps[Rs++]=da,Ps[Rs++]=pa,Ps[Rs++]=cu,da=_.id,pa=_.overflow,cu=p)),p=i5(p,p.pendingProps.children),p.flags|=4096);return p}return I?(A=cS(h,p,A.children,A.fallback,_),I=p.child,b=h.child.memoizedState,I.memoizedState=b===null?I3(_):{baseLanes:b.baseLanes|_,cachePool:null},I.childLanes=h.childLanes&~_,p.memoizedState=B3,A):(_=uS(h,p,A.children,_),p.memoizedState=null,_)}return I?(A=cS(h,p,A.children,A.fallback,_),I=p.child,b=h.child.memoizedState,I.memoizedState=b===null?I3(_):{baseLanes:b.baseLanes|_,cachePool:null},I.childLanes=h.childLanes&~_,p.memoizedState=B3,A):(_=uS(h,p,A.children,_),p.memoizedState=null,_)}function i5(h,p){return p=$3({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function uS(h,p,_,A){var b=h.child;return h=b.sibling,_=al(b,{mode:"visible",children:_}),!(p.mode&1)&&(_.lanes=A),_.return=p,_.sibling=null,h!==null&&(A=p.deletions,A===null?(p.deletions=[h],p.flags|=16):A.push(h)),p.child=_}function cS(h,p,_,A,b){var I=p.mode;h=h.child;var te=h.sibling,he={mode:"hidden",children:_};return!(I&1)&&p.child!==h?(_=p.child,_.childLanes=0,_.pendingProps=he,p.deletions=null):(_=al(h,he),_.subtreeFlags=h.subtreeFlags&14680064),te!==null?A=al(te,A):(A=yu(A,I,b,null),A.flags|=2),A.return=p,_.return=p,_.sibling=A,p.child=_,A}function L3(h,p,_,A){return A!==null&&Vv(A),Fc(p,h.child,null,_),h=i5(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function fS(h,p,_){h.lanes|=p;var A=h.alternate;A!==null&&(A.lanes|=p),Ei(h.return,p,_)}function s5(h,p,_,A,b){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:_,tailMode:b}:(I.isBackwards=p,I.rendering=null,I.renderingStartTime=0,I.last=A,I.tail=_,I.tailMode=b)}function hS(h,p,_){var A=p.pendingProps,b=A.revealOrder,I=A.tail;if(Ti(h,p,A.children,_),A=er.current,A&2)A=A&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&fS(h,_,p);else if(h.tag===19)fS(h,_,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(Lt(er,A),!(p.mode&1))p.memoizedState=null;else switch(b){case"forwards":for(_=p.child,b=null;_!==null;)h=_.alternate,h!==null&&_3(h)===null&&(b=_),_=_.sibling;_=b,_===null?(b=p.child,p.child=null):(b=_.sibling,_.sibling=null),s5(p,!1,b,_,I);break;case"backwards":for(_=null,b=p.child,p.child=null;b!==null;){if(h=b.alternate,h!==null&&_3(h)===null){p.child=b;break}h=b.sibling,b.sibling=_,_=b,b=h}s5(p,!0,_,null,I);break;case"together":s5(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ga(h,p,_){if(h!==null&&(p.dependencies=h.dependencies),zc|=p.lanes,!(_&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,_=al(h,h.pendingProps),p.child=_,_.return=p;h.sibling!==null;)h=h.sibling,_=_.sibling=al(h,h.pendingProps),_.return=p;_.sibling=null}return p.child}function YL(h,p,_){switch(p.tag){case 3:oS(p),Lc();break;case 5:bw(p);break;case 1:Yn(p.type)&&xn(p);break;case 4:Wv(p,p.stateNode.containerInfo);break;case 10:m3(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(Lt(er,er.current&1),p.flags|=128,null):_&p.child.childLanes?lS(h,p,_):(Lt(er,er.current&1),h=ga(h,p,_),h!==null?h.sibling:null);Lt(er,er.current&1);break;case 19:if(A=(_&p.childLanes)!==0,h.flags&128){if(A)return hS(h,p,_);p.flags|=128}var b=p.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Lt(er,er.current),A)break;return null;case 22:case 23:return p.lanes=0,rS(h,p,_)}return ga(h,p,_)}function KL(h,p){switch(zv(p),p.tag){case 1:return Yn(p.type)&&Kn(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Uc(),Mt(zt),Mt(mn),Jv(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return jv(p),null;case 13:if(Mt(er),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Lc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Mt(er),null;case 4:return Uc(),null;case 10:return Gr(p.type._context),null;case 22:case 23:return M5(),null;case 24:return null;default:return null}}var F3=!1,du=!1,ZL=typeof WeakSet=="function"?WeakSet:Set,ft=null;function k3(h,p){var _=h.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(A){ji(h,p,A)}else _.current=null}function o5(h,p,_){try{_()}catch(A){ji(h,p,A)}}var dS=!1;function QL(h,p){for(O(h.containerInfo),ft=p;ft!==null;)if(h=ft,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,ft=p;else for(;ft!==null;){h=ft;try{var _=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var A=_.memoizedProps,b=_.memoizedState,I=h.stateNode,te=I.getSnapshotBeforeUpdate(h.elementType===h.type?A:Ai(h.type,A),b);I.__reactInternalSnapshotBeforeUpdate=te}break;case 3:_e&&it(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){ji(h,h.return,he)}if(p=h.sibling,p!==null){p.return=h.return,ft=p;break}ft=h.return}return _=dS,dS=!1,_}function pu(h,p,_){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var b=A=A.next;do{if((b.tag&h)===h){var I=b.destroy;b.destroy=void 0,I!==void 0&&o5(p,_,I)}b=b.next}while(b!==A)}}function ld(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&h)===h){var A=_.create;_.destroy=A()}_=_.next}while(_!==p)}}function a5(h){var p=h.ref;if(p!==null){var _=h.stateNode;switch(h.tag){case 5:h=W(_);break;default:h=_}typeof p=="function"?p(h):p.current=h}}function pS(h,p,_){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(ou,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var b=A,I=b.destroy;b=b.tag,I!==void 0&&(b&2||b&4)&&o5(p,_,I),A=A.next}while(A!==h)}break;case 1:if(k3(p,_),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(te){ji(p,_,te)}break;case 5:k3(p,_);break;case 4:_e?wS(h,p,_):se&&se&&(p=p.stateNode.containerInfo,_=Kt(p),jt(p,_))}}function mS(h,p,_){for(var A=p;;)if(pS(h,A,_),A.child===null||_e&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function gS(h){var p=h.alternate;p!==null&&(h.alternate=null,gS(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&He(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function vS(h){return h.tag===5||h.tag===3||h.tag===4}function yS(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||vS(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function xS(h){if(_e){e:{for(var p=h.return;p!==null;){if(vS(p))break e;p=p.return}throw Error(o(160))}var _=p;switch(_.tag){case 5:p=_.stateNode,_.flags&32&&(Re(p),_.flags&=-33),_=yS(h),u5(h,_,p);break;case 3:case 4:p=_.stateNode.containerInfo,_=yS(h),l5(h,_,p);break;default:throw Error(o(161))}}}function l5(h,p,_){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?je(_,h,p):Ze(_,h);else if(A!==4&&(h=h.child,h!==null))for(l5(h,p,_),h=h.sibling;h!==null;)l5(h,p,_),h=h.sibling}function u5(h,p,_){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?st(_,h,p):ze(_,h);else if(A!==4&&(h=h.child,h!==null))for(u5(h,p,_),h=h.sibling;h!==null;)u5(h,p,_),h=h.sibling}function wS(h,p,_){for(var A=p,b=!1,I,te;;){if(!b){b=A.return;e:for(;;){if(b===null)throw Error(o(160));switch(I=b.stateNode,b.tag){case 5:te=!1;break e;case 3:I=I.containerInfo,te=!0;break e;case 4:I=I.containerInfo,te=!0;break e}b=b.return}b=!0}if(A.tag===5||A.tag===6)mS(h,A,_),te?le(I,A.stateNode):Xe(I,A.stateNode);else if(A.tag===18)te?Je(I,A.stateNode):Ke(I,A.stateNode);else if(A.tag===4){if(A.child!==null){I=A.stateNode.containerInfo,te=!0,A.child.return=A,A=A.child;continue}}else if(pS(h,A,_),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(b=!1)}A.sibling.return=A.return,A=A.sibling}}function c5(h,p){if(_e){switch(p.tag){case 0:case 11:case 14:case 15:pu(3,p,p.return),ld(3,p),pu(5,p,p.return);return;case 1:return;case 5:var _=p.stateNode;if(_!=null){var A=p.memoizedProps;h=h!==null?h.memoizedProps:A;var b=p.type,I=p.updateQueue;p.updateQueue=null,I!==null&&Qe(_,I,b,h,A,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));_=p.memoizedProps,Ie(p.stateNode,h!==null?h.memoizedProps:_,_);return;case 3:xe&&h!==null&&h.memoizedState.isDehydrated&&Se(p.stateNode.containerInfo);return;case 12:return;case 13:U3(p);return;case 19:U3(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:pu(3,p,p.return),ld(3,p),pu(5,p,p.return);return;case 12:return;case 13:U3(p);return;case 19:U3(p);return;case 3:xe&&h!==null&&h.memoizedState.isDehydrated&&Se(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(se){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,jt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function U3(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var _=h.stateNode;_===null&&(_=h.stateNode=new ZL),p.forEach(function(A){var b=aF.bind(null,h,A);_.has(A)||(_.add(A),A.then(b,b))})}}function qL(h,p){for(ft=p;ft!==null;){p=ft;var _=p.deletions;if(_!==null)for(var A=0;A<_.length;A++){var b=_[A];try{var I=h;_e?wS(I,b,p):mS(I,b,p);var te=b.alternate;te!==null&&(te.return=null),b.return=null}catch(At){ji(b,p,At)}}if(_=p.child,p.subtreeFlags&12854&&_!==null)_.return=p,ft=_;else for(;ft!==null;){p=ft;try{var he=p.flags;if(he&32&&_e&&Re(p.stateNode),he&512){var Ue=p.alternate;if(Ue!==null){var ot=Ue.ref;ot!==null&&(typeof ot=="function"?ot(null):ot.current=null)}}if(he&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var xt=p.alternate;(xt===null||xt.memoizedState===null)&&(v5=$n())}break;case 22:var Jt=p.memoizedState!==null,Bt=p.alternate,Ln=Bt!==null&&Bt.memoizedState!==null;if(_=p,_e){e:if(A=_,b=Jt,I=null,_e)for(var Et=A;;){if(Et.tag===5){if(I===null){I=Et;var ui=Et.stateNode;b?$e(ui):ce(Et.stateNode,Et.memoizedProps)}}else if(Et.tag===6){if(I===null){var Fs=Et.stateNode;b?ne(Fs):Oe(Fs,Et.memoizedProps)}}else if((Et.tag!==22&&Et.tag!==23||Et.memoizedState===null||Et===A)&&Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===A)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===A)break e;I===Et&&(I=null),Et=Et.return}I===Et&&(I=null),Et.sibling.return=Et.return,Et=Et.sibling}}if(Jt&&!Ln&&_.mode&1){ft=_;for(var be=_.child;be!==null;){for(_=ft=be;ft!==null;){A=ft;var ge=A.child;switch(A.tag){case 0:case 11:case 14:case 15:pu(4,A,A.return);break;case 1:k3(A,A.return);var ke=A.stateNode;if(typeof ke.componentWillUnmount=="function"){var mt=A.return;try{ke.props=A.memoizedProps,ke.state=A.memoizedState,ke.componentWillUnmount()}catch(At){ji(A,mt,At)}}break;case 5:k3(A,A.return);break;case 22:if(A.memoizedState!==null){MS(_);continue}}ge!==null?(ge.return=A,ft=ge):MS(_)}be=be.sibling}}}switch(he&4102){case 2:xS(p),p.flags&=-3;break;case 6:xS(p),p.flags&=-3,c5(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,c5(p.alternate,p);break;case 4:c5(p.alternate,p)}}catch(At){ji(p,p.return,At)}if(_=p.sibling,_!==null){_.return=p.return,ft=_;break}ft=p.return}}}function $L(h,p,_){ft=h,SS(h)}function SS(h,p,_){for(var A=(h.mode&1)!==0;ft!==null;){var b=ft,I=b.child;if(b.tag===22&&A){var te=b.memoizedState!==null||F3;if(!te){var he=b.alternate,Ue=he!==null&&he.memoizedState!==null||du;he=F3;var ot=du;if(F3=te,(du=Ue)&&!ot)for(ft=b;ft!==null;)te=ft,Ue=te.child,te.tag===22&&te.memoizedState!==null?AS(b):Ue!==null?(Ue.return=te,ft=Ue):AS(b);for(;I!==null;)ft=I,SS(I),I=I.sibling;ft=b,F3=he,du=ot}_S(h)}else b.subtreeFlags&8772&&I!==null?(I.return=b,ft=I):_S(h)}}function _S(h){for(;ft!==null;){var p=ft;if(p.flags&8772){var _=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:du||ld(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!du)if(_===null)A.componentDidMount();else{var b=p.elementType===p.type?_.memoizedProps:Ai(p.type,_.memoizedProps);A.componentDidUpdate(b,_.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var I=p.updateQueue;I!==null&&gw(p,I,A);break;case 3:var te=p.updateQueue;if(te!==null){if(_=null,p.child!==null)switch(p.child.tag){case 5:_=W(p.child.stateNode);break;case 1:_=p.child.stateNode}gw(p,te,_)}break;case 5:var he=p.stateNode;_===null&&p.flags&4&&at(he,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(xe&&p.memoizedState===null){var Ue=p.alternate;if(Ue!==null){var ot=Ue.memoizedState;if(ot!==null){var xt=ot.dehydrated;xt!==null&&Me(xt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}du||p.flags&512&&a5(p)}catch(Jt){ji(p,p.return,Jt)}}if(p===h){ft=null;break}if(_=p.sibling,_!==null){_.return=p.return,ft=_;break}ft=p.return}}function MS(h){for(;ft!==null;){var p=ft;if(p===h){ft=null;break}var _=p.sibling;if(_!==null){_.return=p.return,ft=_;break}ft=p.return}}function AS(h){for(;ft!==null;){var p=ft;try{switch(p.tag){case 0:case 11:case 15:var _=p.return;try{ld(4,p)}catch(Ue){ji(p,_,Ue)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var b=p.return;try{A.componentDidMount()}catch(Ue){ji(p,b,Ue)}}var I=p.return;try{a5(p)}catch(Ue){ji(p,I,Ue)}break;case 5:var te=p.return;try{a5(p)}catch(Ue){ji(p,te,Ue)}}}catch(Ue){ji(p,p.return,Ue)}if(p===h){ft=null;break}var he=p.sibling;if(he!==null){he.return=p.return,ft=he;break}ft=p.return}}var N3=0,O3=1,z3=2,G3=3,H3=4;if(typeof Symbol=="function"&&Symbol.for){var ud=Symbol.for;N3=ud("selector.component"),O3=ud("selector.has_pseudo_class"),z3=ud("selector.role"),G3=ud("selector.test_id"),H3=ud("selector.text")}function f5(h){var p=Le(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=De(h),h===null)throw Error(o(362));return h.stateNode.current}function h5(h,p){switch(p.$$typeof){case N3:if(h.type===p.value)return!0;break;case O3:e:{p=p.value,h=[h,0];for(var _=0;_<h.length;){var A=h[_++],b=h[_++],I=p[b];if(A.tag!==5||!ue(A)){for(;I!=null&&h5(A,I);)b++,I=p[b];if(b===p.length){p=!0;break e}else for(A=A.child;A!==null;)h.push(A,b),A=A.sibling}}p=!1}return p;case z3:if(h.tag===5&&we(h.stateNode,p.value))return!0;break;case H3:if((h.tag===5||h.tag===6)&&(h=z(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case G3:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function d5(h){switch(h.$$typeof){case N3:return"<"+(P(h.value)||"Unknown")+">";case O3:return":has("+(d5(h)||"")+")";case z3:return'[role="'+h.value+'"]';case H3:return'"'+h.value+'"';case G3:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function ES(h,p){var _=[];h=[h,0];for(var A=0;A<h.length;){var b=h[A++],I=h[A++],te=p[I];if(b.tag!==5||!ue(b)){for(;te!=null&&h5(b,te);)I++,te=p[I];if(I===p.length)_.push(b);else for(b=b.child;b!==null;)h.push(b,I),b=b.sibling}}return _}function p5(h,p){if(!We)throw Error(o(363));h=f5(h),h=ES(h,p),p=[],h=Array.from(h);for(var _=0;_<h.length;){var A=h[_++];if(A.tag===5)ue(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return p}var eF=Math.ceil,V3=a.ReactCurrentDispatcher,m5=a.ReactCurrentOwner,xr=a.ReactCurrentBatchConfig,rn=0,Mr=null,Ar=null,Qr=0,fs=0,Oc=Tt(0),Br=0,cd=null,zc=0,W3=0,g5=0,fd=null,Vi=null,v5=0,y5=1/0;function Gc(){y5=$n()+500}var j3=!1,x5=null,rl=null,X3=!1,il=null,J3=0,hd=0,w5=null,Y3=-1,K3=0;function Ci(){return rn&6?$n():Y3!==-1?Y3:Y3=$n()}function sl(h){return h.mode&1?rn&2&&Qr!==0?Qr&-Qr:au.transition!==null?(K3===0&&(h=aa,aa<<=1,!(aa&4194240)&&(aa=64),K3=h),K3):(h=an,h!==0?h:Be()):1}function Is(h,p,_){if(50<hd)throw hd=0,w5=null,Error(o(185));var A=Z3(h,p);return A===null?null:(Io(A,p,_),(!(rn&2)||A!==Mr)&&(A===Mr&&(!(rn&2)&&(W3|=p),Br===4&&ol(A,Qr)),Wi(A,_),p===1&&rn===0&&!(h.mode&1)&&(Gc(),Fo&&Hi())),A)}function Z3(h,p){h.lanes|=p;var _=h.alternate;for(_!==null&&(_.lanes|=p),_=h,h=h.return;h!==null;)h.childLanes|=p,_=h.alternate,_!==null&&(_.childLanes|=p),_=h,h=h.return;return _.tag===3?_.stateNode:null}function Wi(h,p){var _=h.callbackNode;Vh(h,p);var A=iu(h,h===Mr?Qr:0);if(A===0)_!==null&&Pc(_),h.callbackNode=null,h.callbackPriority=0;else if(p=A&-A,h.callbackPriority!==p){if(_!=null&&Pc(_),p===1)h.tag===0?Kh(CS.bind(null,h)):Yh(CS.bind(null,h)),Te?Ye(function(){rn===0&&Hi()}):fa(su,Hi),_=null;else{switch(Wh(A)){case 1:_=su;break;case 4:_=d3;break;case 16:_=_i;break;case 536870912:_=Xh;break;default:_=_i}_=kS(_,TS.bind(null,h))}h.callbackPriority=p,h.callbackNode=_}}function TS(h,p){if(Y3=-1,K3=0,rn&6)throw Error(o(327));var _=h.callbackNode;if(vu()&&h.callbackNode!==_)return null;var A=iu(h,h===Mr?Qr:0);if(A===0)return null;if(A&30||A&h.expiredLanes||p)p=Q3(h,A);else{p=A;var b=rn;rn|=2;var I=RS();(Mr!==h||Qr!==p)&&(Gc(),mu(h,p));do try{rF();break}catch(he){PS(h,he)}while(1);Dc(),V3.current=I,rn=b,Ar!==null?p=0:(Mr=null,Qr=0,p=Br)}if(p!==0){if(p===2&&(b=ca(h),b!==0&&(A=b,p=S5(h,b))),p===1)throw _=cd,mu(h,0),ol(h,A),Wi(h,$n()),_;if(p===6)ol(h,A);else{if(b=h.current.alternate,!(A&30)&&!tF(b)&&(p=Q3(h,A),p===2&&(I=ca(h),I!==0&&(A=I,p=S5(h,I))),p===1))throw _=cd,mu(h,0),ol(h,A),Wi(h,$n()),_;switch(h.finishedWork=b,h.finishedLanes=A,p){case 0:case 1:throw Error(o(345));case 2:gu(h,Vi);break;case 3:if(ol(h,A),(A&130023424)===A&&(p=v5+500-$n(),10<p)){if(iu(h,0)!==0)break;if(b=h.suspendedLanes,(b&A)!==A){Ci(),h.pingedLanes|=h.suspendedLanes&b;break}h.timeoutHandle=ae(gu.bind(null,h,Vi),p);break}gu(h,Vi);break;case 4:if(ol(h,A),(A&4194240)===A)break;for(p=h.eventTimes,b=-1;0<A;){var te=31-Nn(A);I=1<<te,te=p[te],te>b&&(b=te),A&=~I}if(A=b,A=$n()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*eF(A/1960))-A,10<A){h.timeoutHandle=ae(gu.bind(null,h,Vi),A);break}gu(h,Vi);break;case 5:gu(h,Vi);break;default:throw Error(o(329))}}}return Wi(h,$n()),h.callbackNode===_?TS.bind(null,h):null}function S5(h,p){var _=fd;return h.current.memoizedState.isDehydrated&&(mu(h,p).flags|=256),h=Q3(h,p),h!==2&&(p=Vi,Vi=_,p!==null&&_5(p)),h}function _5(h){Vi===null?Vi=h:Vi.push.apply(Vi,h)}function tF(h){for(var p=h;;){if(p.flags&16384){var _=p.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var A=0;A<_.length;A++){var b=_[A],I=b.getSnapshot;b=b.value;try{if(!os(I(),b))return!1}catch{return!1}}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ol(h,p){for(p&=~g5,p&=~W3,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var _=31-Nn(p),A=1<<_;h[_]=-1,p&=~A}}function CS(h){if(rn&6)throw Error(o(327));vu();var p=iu(h,0);if(!(p&1))return Wi(h,$n()),null;var _=Q3(h,p);if(h.tag!==0&&_===2){var A=ca(h);A!==0&&(p=A,_=S5(h,A))}if(_===1)throw _=cd,mu(h,0),ol(h,p),Wi(h,$n()),_;if(_===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,gu(h,Vi),Wi(h,$n()),null}function bS(h){il!==null&&il.tag===0&&!(rn&6)&&vu();var p=rn;rn|=1;var _=xr.transition,A=an;try{if(xr.transition=null,an=1,h)return h()}finally{an=A,xr.transition=_,rn=p,!(rn&6)&&Hi()}}function M5(){fs=Oc.current,Mt(Oc)}function mu(h,p){h.finishedWork=null,h.finishedLanes=0;var _=h.timeoutHandle;if(_!==me&&(h.timeoutHandle=me,re(_)),Ar!==null)for(_=Ar.return;_!==null;){var A=_;switch(zv(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Kn();break;case 3:Uc(),Mt(zt),Mt(mn),Jv();break;case 5:jv(A);break;case 4:Uc();break;case 13:Mt(er);break;case 19:Mt(er);break;case 10:Gr(A.type._context);break;case 22:case 23:M5()}_=_.return}if(Mr=h,Ar=h=al(h.current,null),Qr=fs=p,Br=0,cd=null,g5=W3=zc=0,Vi=fd=null,as!==null){for(p=0;p<as.length;p++)if(_=as[p],A=_.interleaved,A!==null){_.interleaved=null;var b=A.next,I=_.pending;if(I!==null){var te=I.next;I.next=b,A.next=te}_.pending=A}as=null}return h}function PS(h,p){do{var _=Ar;try{if(Dc(),M3.current=P3,A3){for(var A=ur.memoizedState;A!==null;){var b=A.queue;b!==null&&(b.pending=null),A=A.next}A3=!1}if(Nc=0,Hr=oi=ur=null,td=!1,nd=0,m5.current=null,_===null||_.return===null){Br=1,cd=p,Ar=null;break}e:{var I=h,te=_.return,he=_,Ue=p;if(p=Qr,he.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var ot=Ue,xt=he,Jt=xt.tag;if(!(xt.mode&1)&&(Jt===0||Jt===11||Jt===15)){var Bt=xt.alternate;Bt?(xt.updateQueue=Bt.updateQueue,xt.memoizedState=Bt.memoizedState,xt.lanes=Bt.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var Ln=Zw(te);if(Ln!==null){Ln.flags&=-257,Qw(Ln,te,he,I,p),Ln.mode&1&&Kw(I,ot,p),p=Ln,Ue=ot;var Et=p.updateQueue;if(Et===null){var ui=new Set;ui.add(Ue),p.updateQueue=ui}else Et.add(Ue);break e}else{if(!(p&1)){Kw(I,ot,p),A5();break e}Ue=Error(o(426))}}else if(Zn&&he.mode&1){var Fs=Zw(te);if(Fs!==null){!(Fs.flags&65536)&&(Fs.flags|=256),Qw(Fs,te,he,I,p),Vv(Ue);break e}}I=Ue,Br!==4&&(Br=2),fd===null?fd=[I]:fd.push(I),Ue=e5(Ue,he),he=te;do{switch(he.tag){case 3:he.flags|=65536,p&=-p,he.lanes|=p;var be=Jw(he,Ue,p);mw(he,be);break e;case 1:I=Ue;var ge=he.type,ke=he.stateNode;if(!(he.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(rl===null||!rl.has(ke)))){he.flags|=65536,p&=-p,he.lanes|=p;var mt=Yw(he,I,p);mw(he,mt);break e}}he=he.return}while(he!==null)}BS(_)}catch(At){p=At,Ar===_&&_!==null&&(Ar=_=_.return);continue}break}while(1)}function RS(){var h=V3.current;return V3.current=P3,h===null?P3:h}function A5(){(Br===0||Br===3||Br===2)&&(Br=4),Mr===null||!(zc&268435455)&&!(W3&268435455)||ol(Mr,Qr)}function Q3(h,p){var _=rn;rn|=2;var A=RS();Mr===h&&Qr===p||mu(h,p);do try{nF();break}catch(b){PS(h,b)}while(1);if(Dc(),rn=_,V3.current=A,Ar!==null)throw Error(o(261));return Mr=null,Qr=0,Br}function nF(){for(;Ar!==null;)DS(Ar)}function rF(){for(;Ar!==null&&!jh();)DS(Ar)}function DS(h){var p=FS(h.alternate,h,fs);h.memoizedProps=h.pendingProps,p===null?BS(h):Ar=p,m5.current=null}function BS(h){var p=h;do{var _=p.alternate;if(h=p.return,p.flags&32768){if(_=KL(_,p),_!==null){_.flags&=32767,Ar=_;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Br=6,Ar=null;return}}else if(_=XL(_,p,fs),_!==null){Ar=_;return}if(p=p.sibling,p!==null){Ar=p;return}Ar=p=h}while(p!==null);Br===0&&(Br=5)}function gu(h,p){var _=an,A=xr.transition;try{xr.transition=null,an=1,iF(h,p,_)}finally{xr.transition=A,an=_}return null}function iF(h,p,_){do vu();while(il!==null);if(rn&6)throw Error(o(327));var A=h.finishedWork,b=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var I=A.lanes|A.childLanes;if($a(h,I),h===Mr&&(Ar=Mr=null,Qr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||X3||(X3=!0,kS(_i,function(){return vu(),null})),I=(A.flags&15990)!==0,A.subtreeFlags&15990||I){I=xr.transition,xr.transition=null;var te=an;an=1;var he=rn;rn|=4,m5.current=null,QL(h,A),qL(h,A),V(h.containerInfo),h.current=A,$L(A),h3(),rn=he,an=te,xr.transition=I}else h.current=A;if(X3&&(X3=!1,il=h,J3=b),I=h.pendingLanes,I===0&&(rl=null),Jh(A.stateNode),Wi(h,$n()),p!==null)for(_=h.onRecoverableError,A=0;A<p.length;A++)_(p[A]);if(j3)throw j3=!1,h=x5,x5=null,h;return J3&1&&h.tag!==0&&vu(),I=h.pendingLanes,I&1?h===w5?hd++:(hd=0,w5=h):hd=0,Hi(),null}function vu(){if(il!==null){var h=Wh(J3),p=xr.transition,_=an;try{if(xr.transition=null,an=16>h?16:h,il===null)var A=!1;else{if(h=il,il=null,J3=0,rn&6)throw Error(o(331));var b=rn;for(rn|=4,ft=h.current;ft!==null;){var I=ft,te=I.child;if(ft.flags&16){var he=I.deletions;if(he!==null){for(var Ue=0;Ue<he.length;Ue++){var ot=he[Ue];for(ft=ot;ft!==null;){var xt=ft;switch(xt.tag){case 0:case 11:case 15:pu(8,xt,I)}var Jt=xt.child;if(Jt!==null)Jt.return=xt,ft=Jt;else for(;ft!==null;){xt=ft;var Bt=xt.sibling,Ln=xt.return;if(gS(xt),xt===ot){ft=null;break}if(Bt!==null){Bt.return=Ln,ft=Bt;break}ft=Ln}}}var Et=I.alternate;if(Et!==null){var ui=Et.child;if(ui!==null){Et.child=null;do{var Fs=ui.sibling;ui.sibling=null,ui=Fs}while(ui!==null)}}ft=I}}if(I.subtreeFlags&2064&&te!==null)te.return=I,ft=te;else e:for(;ft!==null;){if(I=ft,I.flags&2048)switch(I.tag){case 0:case 11:case 15:pu(9,I,I.return)}var be=I.sibling;if(be!==null){be.return=I.return,ft=be;break e}ft=I.return}}var ge=h.current;for(ft=ge;ft!==null;){te=ft;var ke=te.child;if(te.subtreeFlags&2064&&ke!==null)ke.return=te,ft=ke;else e:for(te=ge;ft!==null;){if(he=ft,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:ld(9,he)}}catch(At){ji(he,he.return,At)}if(he===te){ft=null;break e}var mt=he.sibling;if(mt!==null){mt.return=he.return,ft=mt;break e}ft=he.return}}if(rn=b,Hi(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(ou,h)}catch{}A=!0}return A}finally{an=_,xr.transition=p}}return!1}function IS(h,p,_){p=e5(_,p),p=Jw(h,p,1),nl(h,p),p=Ci(),h=Z3(h,1),h!==null&&(Io(h,1,p),Wi(h,p))}function ji(h,p,_){if(h.tag===3)IS(h,h,_);else for(;p!==null;){if(p.tag===3){IS(p,h,_);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(rl===null||!rl.has(A))){h=e5(_,h),h=Yw(p,h,1),nl(p,h),h=Ci(),p=Z3(p,1),p!==null&&(Io(p,1,h),Wi(p,h));break}}p=p.return}}function sF(h,p,_){var A=h.pingCache;A!==null&&A.delete(p),p=Ci(),h.pingedLanes|=h.suspendedLanes&_,Mr===h&&(Qr&_)===_&&(Br===4||Br===3&&(Qr&130023424)===Qr&&500>$n()-v5?mu(h,0):g5|=_),Wi(h,p)}function LS(h,p){p===0&&(h.mode&1?(p=la,la<<=1,!(la&130023424)&&(la=4194304)):p=1);var _=Ci();h=Z3(h,p),h!==null&&(Io(h,p,_),Wi(h,_))}function oF(h){var p=h.memoizedState,_=0;p!==null&&(_=p.retryLane),LS(h,_)}function aF(h,p){var _=0;switch(h.tag){case 13:var A=h.stateNode,b=h.memoizedState;b!==null&&(_=b.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(p),LS(h,_)}var FS;FS=function(h,p,_){if(h!==null)if(h.memoizedProps!==p.pendingProps||zt.current)cs=!0;else{if(!(h.lanes&_)&&!(p.flags&128))return cs=!1,YL(h,p,_);cs=!!(h.flags&131072)}else cs=!1,Zn&&p.flags&1048576&&Sw(p,w3,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var b=lr(p,mn.current);vr(p,_),b=Kv(null,p,A,h,b,_);var I=Zv();return p.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Yn(A)?(I=!0,xn(p)):I=!1,p.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,kv(p),b.updater=y3,p.stateNode=b,b._reactInternals=p,Nv(p,A,h,_),p=r5(null,p,A,!0,I,_)):(p.tag=0,Zn&&I&&Ov(p),Ti(null,p,b,_),p=p.child),p;case 16:A=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,b=A._init,A=b(A._payload),p.type=A,b=p.tag=uF(A),h=Ai(A,h),b){case 0:p=n5(null,p,A,h,_);break e;case 1:p=sS(null,p,A,h,_);break e;case 11:p=eS(null,p,A,h,_);break e;case 14:p=tS(null,p,A,Ai(A.type,h),_);break e}throw Error(o(306,A,""))}return p;case 0:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),n5(h,p,A,b,_);case 1:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),sS(h,p,A,b,_);case 3:e:{if(oS(p),h===null)throw Error(o(387));A=p.pendingProps,I=p.memoizedState,b=I.element,pw(h,p),v3(p,A,null,_);var te=p.memoizedState;if(A=te.element,xe&&I.isDehydrated)if(I={element:A,isDehydrated:!1,cache:te.cache,transitions:te.transitions},p.updateQueue.baseState=I,p.memoizedState=I,p.flags&256){b=Error(o(423)),p=aS(h,p,A,_,b);break e}else if(A!==b){b=Error(o(424)),p=aS(h,p,A,_,b);break e}else for(xe&&(us=Fe(p.stateNode.containerInfo),ls=p,Zn=!0,to=null,Zh=!1),_=Cw(p,null,A,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Lc(),A===b){p=ga(h,p,_);break e}Ti(h,p,A,_)}p=p.child}return p;case 5:return bw(p),h===null&&Hv(p),A=p.type,b=p.pendingProps,I=h!==null?h.memoizedProps:null,te=b.children,Y(A,b)?te=null:I!==null&&Y(A,I)&&(p.flags|=32),iS(h,p),Ti(h,p,te,_),p.child;case 6:return h===null&&Hv(p),null;case 13:return lS(h,p,_);case 4:return Wv(p,p.stateNode.containerInfo),A=p.pendingProps,h===null?p.child=Fc(p,null,A,_):Ti(h,p,A,_),p.child;case 11:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),eS(h,p,A,b,_);case 7:return Ti(h,p,p.pendingProps,_),p.child;case 8:return Ti(h,p,p.pendingProps.children,_),p.child;case 12:return Ti(h,p,p.pendingProps.children,_),p.child;case 10:e:{if(A=p.type._context,b=p.pendingProps,I=p.memoizedProps,te=b.value,m3(p,A,te),I!==null)if(os(I.value,te)){if(I.children===b.children&&!zt.current){p=ga(h,p,_);break e}}else for(I=p.child,I!==null&&(I.return=p);I!==null;){var he=I.dependencies;if(he!==null){te=I.child;for(var Ue=he.firstContext;Ue!==null;){if(Ue.context===A){if(I.tag===1){Ue=ha(-1,_&-_),Ue.tag=2;var ot=I.updateQueue;if(ot!==null){ot=ot.shared;var xt=ot.pending;xt===null?Ue.next=Ue:(Ue.next=xt.next,xt.next=Ue),ot.pending=Ue}}I.lanes|=_,Ue=I.alternate,Ue!==null&&(Ue.lanes|=_),Ei(I.return,_,p),he.lanes|=_;break}Ue=Ue.next}}else if(I.tag===10)te=I.type===p.type?null:I.child;else if(I.tag===18){if(te=I.return,te===null)throw Error(o(341));te.lanes|=_,he=te.alternate,he!==null&&(he.lanes|=_),Ei(te,_,p),te=I.sibling}else te=I.child;if(te!==null)te.return=I;else for(te=I;te!==null;){if(te===p){te=null;break}if(I=te.sibling,I!==null){I.return=te.return,te=I;break}te=te.return}I=te}Ti(h,p,b.children,_),p=p.child}return p;case 9:return b=p.type,A=p.pendingProps.children,vr(p,_),b=yr(b),A=A(b),p.flags|=1,Ti(h,p,A,_),p.child;case 14:return A=p.type,b=Ai(A,p.pendingProps),b=Ai(A.type,b),tS(h,p,A,b,_);case 15:return nS(h,p,p.type,p.pendingProps,_);case 17:return A=p.type,b=p.pendingProps,b=p.elementType===A?b:Ai(A,b),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Yn(A)?(h=!0,xn(p)):h=!1,vr(p,_),xw(p,A,b),Nv(p,A,b,_),r5(null,p,A,!0,h,_);case 19:return hS(h,p,_);case 22:return rS(h,p,_)}throw Error(o(156,p.tag))};function kS(h,p){return fa(h,p)}function lF(h,p,_,A){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(h,p,_,A){return new lF(h,p,_,A)}function E5(h){return h=h.prototype,!(!h||!h.isReactComponent)}function uF(h){if(typeof h=="function")return E5(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===w)return 14}return 2}function al(h,p){var _=h.alternate;return _===null?(_=Ls(h.tag,p,h.key,h.mode),_.elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=p,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=h.flags&14680064,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,p=h.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_}function q3(h,p,_,A,b,I){var te=2;if(A=h,typeof h=="function")E5(h)&&(te=1);else if(typeof h=="string")te=5;else e:switch(h){case c:return yu(_.children,b,I,p);case f:te=8,b|=8;break;case d:return h=Ls(12,_,p,b|2),h.elementType=d,h.lanes=I,h;case y:return h=Ls(13,_,p,b),h.elementType=y,h.lanes=I,h;case S:return h=Ls(19,_,p,b),h.elementType=S,h.lanes=I,h;case M:return $3(_,b,I,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:te=10;break e;case g:te=9;break e;case v:te=11;break e;case w:te=14;break e;case x:te=16,A=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=Ls(te,_,p,b),p.elementType=h,p.type=A,p.lanes=I,p}function yu(h,p,_,A){return h=Ls(7,h,A,p),h.lanes=_,h}function $3(h,p,_,A){return h=Ls(22,h,A,p),h.elementType=M,h.lanes=_,h.stateNode={},h}function T5(h,p,_){return h=Ls(6,h,null,p),h.lanes=_,h}function C5(h,p,_){return p=Ls(4,h.children!==null?h.children:[],h.key,p),p.lanes=_,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function cF(h,p,_,A,b){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bc(0),this.expirationTimes=bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.identifierPrefix=A,this.onRecoverableError=b,xe&&(this.mutableSourceEagerHydrationData=null)}function US(h,p,_,A,b,I,te,he,Ue){return h=new cF(h,p,_,he,Ue),p===1?(p=1,I===!0&&(p|=8)):p=0,I=Ls(3,null,null,p),h.current=I,I.stateNode=h,I.memoizedState={element:A,isDehydrated:_,cache:null,transitions:null},kv(I),h}function NS(h){if(!h)return Ct;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Yn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var _=h.type;if(Yn(_))return qn(h,_,p)}return p}function OS(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=G(p),h===null?null:h.stateNode}function zS(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<p?_:p}}function b5(h,p){zS(h,p),(h=h.alternate)&&zS(h,p)}function fF(h){return h=G(h),h===null?null:h.stateNode}function hF(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var p=Ci();Is(h,134217728,p),b5(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Ci(),_=sl(h);Is(h,_,p),b5(h,_)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var _=ua(p.pendingLanes);_!==0&&(Lo(p,_|1),Wi(p,$n()),!(rn&6)&&(Gc(),Hi()))}break;case 13:var A=Ci();bS(function(){return Is(h,1,A)}),b5(h,1)}},n.batchedUpdates=function(h,p){var _=rn;rn|=1;try{return h(p)}finally{rn=_,rn===0&&(Gc(),Fo&&Hi())}},n.createComponentSelector=function(h){return{$$typeof:N3,value:h}},n.createContainer=function(h,p,_,A,b,I,te){return US(h,p,!1,null,_,A,b,I,te)},n.createHasPseudoClassSelector=function(h){return{$$typeof:O3,value:h}},n.createHydrationContainer=function(h,p,_,A,b,I,te,he,Ue){return h=US(_,A,!0,h,b,I,te,he,Ue),h.context=NS(null),_=h.current,A=Ci(),b=sl(_),I=ha(A,b),I.callback=p??null,nl(_,I),h.current.lanes=b,Io(h,b,A),Wi(h,A),h},n.createPortal=function(h,p,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:h,containerInfo:p,implementation:_}},n.createRoleSelector=function(h){return{$$typeof:z3,value:h}},n.createTestNameSelector=function(h){return{$$typeof:G3,value:h}},n.createTextSelector=function(h){return{$$typeof:H3,value:h}},n.deferredUpdates=function(h){var p=an,_=xr.transition;try{return xr.transition=null,an=16,h()}finally{an=p,xr.transition=_}},n.discreteUpdates=function(h,p,_,A,b){var I=an,te=xr.transition;try{return xr.transition=null,an=1,h(p,_,A,b)}finally{an=I,xr.transition=te,rn===0&&Gc()}},n.findAllNodes=p5,n.findBoundingRects=function(h,p){if(!We)throw Error(o(363));p=p5(h,p),h=[];for(var _=0;_<p.length;_++)h.push(Q(p[_]));for(p=h.length-1;0<p;p--){_=h[p];for(var A=_.x,b=A+_.width,I=_.y,te=I+_.height,he=p-1;0<=he;he--)if(p!==he){var Ue=h[he],ot=Ue.x,xt=ot+Ue.width,Jt=Ue.y,Bt=Jt+Ue.height;if(A>=ot&&I>=Jt&&b<=xt&&te<=Bt){h.splice(p,1);break}else if(A!==ot||_.width!==Ue.width||Bt<I||Jt>te){if(!(I!==Jt||_.height!==Ue.height||xt<A||ot>b)){ot>A&&(Ue.width+=ot-A,Ue.x=A),xt<b&&(Ue.width=b-ot),h.splice(p,1);break}}else{Jt>I&&(Ue.height+=Jt-I,Ue.y=I),Bt<te&&(Ue.height=te-Jt),h.splice(p,1);break}}}return h},n.findHostInstance=OS,n.findHostInstanceWithNoPortals=function(h){return h=N(h),h=h!==null?D(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return OS(h)},n.flushControlled=function(h){var p=rn;rn|=1;var _=xr.transition,A=an;try{xr.transition=null,an=1,h()}finally{an=A,xr.transition=_,rn=p,rn===0&&(Gc(),Hi())}},n.flushPassiveEffects=vu,n.flushSync=bS,n.focusWithin=function(h,p){if(!We)throw Error(o(363));for(h=f5(h),p=ES(h,p),p=Array.from(p),h=0;h<p.length;){var _=p[h++];if(!ue(_)){if(_.tag===5&&Ge(_.stateNode))return!0;for(_=_.child;_!==null;)p.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return an},n.getFindAllNodesFailureDescription=function(h,p){if(!We)throw Error(o(363));var _=0,A=[];h=[f5(h),0];for(var b=0;b<h.length;){var I=h[b++],te=h[b++],he=p[te];if((I.tag!==5||!ue(I))&&(h5(I,he)&&(A.push(d5(he)),te++,te>_&&(_=te)),te<p.length))for(I=I.child;I!==null;)h.push(I,te),I=I.sibling}if(_<p.length){for(h=[];_<p.length;_++)h.push(d5(p[_]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return W(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:fF,findFiberByHostInstance:h.findFiberByHostInstance||hF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{ou=p.inject(h),ss=p}catch{}h=!!p.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,p,_,A){if(!We)throw Error(o(363));h=p5(h,p);var b=Ve(h,_,A).disconnect;return{disconnect:function(){b()}}},n.registerMutableSourceForHydration=function(h,p){var _=p._getVersion;_=_(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,_]:h.mutableSourceEagerHydrationData.push(p,_)},n.runWithPriority=function(h,p){var _=an;try{return an=h,p()}finally{an=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,p,_,A){var b=p.current,I=Ci(),te=sl(b);return _=NS(_),p.context===null?p.context=_:p.pendingContext=_,p=ha(I,te),p.payload={element:h},A=A===void 0?null:A,A!==null&&(p.callback=A),nl(b,p),h=Is(b,te,I),h!==null&&g3(h,b,te),te},n};(function(t){t.exports=kq})(Bq);const Uq=bC(zy);var Mg={},Nq={get exports(){return Mg},set exports(t){Mg=t}},$B={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,O){var V=L.length;L.push(O);e:for(;0<V;){var j=V-1>>>1,k=L[j];if(0<i(k,O))L[j]=O,L[V]=k,V=j;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var O=L[0],V=L.pop();if(V!==O){L[0]=V;e:for(var j=0,k=L.length,q=k>>>1;j<q;){var ee=2*(j+1)-1,Y=L[ee],Z=ee+1,ae=L[Z];if(0>i(Y,V))Z<k&&0>i(ae,Y)?(L[j]=ae,L[Z]=V,j=Z):(L[j]=Y,L[ee]=V,j=ee);else if(Z<k&&0>i(ae,V))L[j]=ae,L[Z]=V,j=Z;else break e}}return O}function i(L,O){var V=L.sortIndex-O.sortIndex;return V!==0?V:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=L)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function M(L){if(v=!1,x(L),!g)if(n(l)!==null)g=!0,W(E);else{var O=n(u);O!==null&&ie(M,O.startTime-L)}}function E(L,O){g=!1,v&&(v=!1,S(T),T=-1),m=!0;var V=d;try{for(x(O),f=n(l);f!==null&&(!(f.expirationTime>O)||L&&!N());){var j=f.callback;if(typeof j=="function"){f.callback=null,d=f.priorityLevel;var k=j(f.expirationTime<=O);O=t.unstable_now(),typeof k=="function"?f.callback=k:f===n(l)&&r(l),x(O)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var ee=n(u);ee!==null&&ie(M,ee.startTime-O),q=!1}return q}finally{f=null,d=V,m=!1}}var C=!1,P=null,T=-1,R=5,B=-1;function N(){return!(t.unstable_now()-B<R)}function G(){if(P!==null){var L=t.unstable_now();B=L;var O=!0;try{O=P(!0,L)}finally{O?J():(C=!1,P=null)}}else C=!1}var J;if(typeof w=="function")J=function(){w(G)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=G,J=function(){U.postMessage(null)}}else J=function(){y(G,0)};function W(L){P=L,C||(C=!0,J())}function ie(L,O){T=y(function(){L(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,W(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var V=d;d=O;try{return L()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=d;d=L;try{return O()}finally{d=V}},t.unstable_scheduleCallback=function(L,O,V){var j=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?j+V:j):V=j,L){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=V+k,L={id:c++,callback:O,priorityLevel:L,startTime:V,expirationTime:k,sortIndex:-1},V>j?(L.sortIndex=V,e(u,L),n(l)===null&&L===n(u)&&(v?(S(T),T=-1):v=!0,ie(M,V-j))):(L.sortIndex=k,e(l,L),g||m||(g=!0,W(E))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var O=d;return function(){var V=d;d=O;try{return L.apply(this,arguments)}finally{d=V}}}})($B);(function(t){t.exports=$B})(Nq);const Oq=t=>typeof t=="object"&&typeof t.then=="function",Zu=[];function eI(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function tI(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Zu)if(eI(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Zu.indexOf(i);s!==-1&&Zu.splice(s,1)},promise:(Oq(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Zu.push(i),!n)throw i.promise}const nI=(t,e,n)=>tI(t,e,!1,n),zq=(t,e,n)=>void tI(t,e,!0,n),Gq=t=>{if(t===void 0||t.length===0)Zu.splice(0,Zu.length);else{const e=Zu.find(n=>eI(t,n.keys,n.equal));e&&e.remove()}},U7={},Pv=t=>void Object.assign(U7,t);function Hq(t,e){function n(c,{args:f=[],attach:d,...m},g){let v=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const S=m.object;y=pf(S,{type:c,root:g,attach:d,primitive:!0})}else{const S=U7[v];if(!S)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=pf(new S(...f),{type:c,root:g,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof Vt?y.__r3f.attach="geometry":y instanceof pr&&(y.__r3f.attach="material")),v!=="inject"&&Y6(y,m),y}function r(c,f){let d=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?J6(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||pf(f,{}),f.__r3f.parent=c,Hy(f),mf(f)}}function i(c,f,d){let m=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)J6(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const y=c.children.filter(w=>w!==f),S=y.indexOf(d);c.children=[...y.slice(0,S),f,...y.slice(S)],m=!0}m||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||pf(f,{}),f.__r3f.parent=c,Hy(f),mf(f)}}function s(c,f,d=!1){c&&[...c].forEach(m=>o(f,m,d))}function o(c,f,d){if(f){var m,g,v;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==f)),(g=f.__r3f)!=null&&g.attach)UE(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&Kq(f.__r3f.root,f)}const w=(v=f.__r3f)==null?void 0:v.primitive,x=d===void 0?f.dispose!==null&&!w:d;if(!w){var S;s((S=f.__r3f)==null?void 0:S.objects,f,x),s(f.children,f,x)}delete f.__r3f,x&&f.dispose&&f.type!=="Scene"&&Mg.unstable_scheduleCallback(Mg.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),mf(c)}}function a(c,f,d,m){var g;const v=(g=c.__r3f)==null?void 0:g.parent;if(!v)return;const y=n(f,d,c.__r3f.root);if(c.children){for(const S of c.children)S.__r3f&&r(y,S);c.children=c.children.filter(S=>!S.__r3f)}c.__r3f.objects.forEach(S=>r(y,S)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(v,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[m,m.alternate].forEach(S=>{S!==null&&(S.stateNode=y,S.ref&&(typeof S.ref=="function"?S.ref(y):S.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Uq({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;d.__r3f&&(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const m=c.getState().scene;m.__r3f&&i(m,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;const d=(f=c==null?void 0:c.__r3f)!=null?f:{};return Boolean(d.handlers)},prepareUpdate(c,f,d,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:S,...w}=m,{args:x=[],children:M,...E}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,T)=>P!==x[T]))return[!0];const C=uI(c,w,E,!0);return C.changes.length?[!1,C]:null}},commitUpdate(c,[f,d],m,g,v,y){f?a(c,m,v,y):Y6(c,d)},commitMount(c,f,d,m){var g;const v=(g=c.__r3f)!=null?g:{};c.raycast&&v.handlers&&v.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>pf(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:m}=(f=c.__r3f)!=null?f:{};d&&m&&UE(m,c,d),c.isObject3D&&(c.visible=!1),mf(c)},unhideInstance(c,f){var d;const{attach:m,parent:g}=(d=c.__r3f)!=null?d:{};m&&g&&J6(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),mf(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Dl.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Vn.fun(performance.now)?performance.now:Vn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Y6}}var IE,LE;const X6=t=>"colorSpace"in t||"outputColorSpace"in t,rI=()=>{var t;return(t=U7.ColorManagement)!=null?t:null},iI=t=>t&&t.isOrthographicCamera,Vq=t=>t&&t.hasOwnProperty("current"),Oh=typeof window<"u"&&((IE=window.document)!=null&&IE.createElement||((LE=window.navigator)==null?void 0:LE.product)==="ReactNative")?H.useLayoutEffect:H.useEffect;function sI(t){const e=H.useRef(t);return Oh(()=>void(e.current=t),[t]),e}function Wq({set:t}){return Oh(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class oI extends H.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}oI.getDerivedStateFromError=()=>({error:!0});const aI="__default",FE=new Map,jq=t=>t&&!!t.memoized&&!!t.changes;function lI(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Fd=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Vn={obj:t=>t===Object(t)&&!Vn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Vn.str(t)||Vn.num(t))return t===e;const s=Vn.obj(t);if(s&&r==="reference")return t===e;const o=Vn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Vn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Vn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Xq(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Jq(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function pf(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Gy(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const kE=/-\d+$/;function J6(t,e,n){if(Vn.str(n)){if(kE.test(n)){const s=n.replace(kE,""),{target:o,key:a}=Gy(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Gy(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function UE(t,e,n){var r,i;if(Vn.str(n)){const{target:s,key:o}=Gy(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function uI(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},d=Object.entries(i),m=[];if(u){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||d.unshift([v[y],aI+"remove"])}d.forEach(([v,y])=>{var S;if((S=t.__r3f)!=null&&S.primitive&&v==="object"||Vn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,y,!0,[]]);let w=[];v.includes("-")&&(w=v.split("-")),m.push([v,y,!1,w]);for(const x in i){const M=i[x];x.startsWith(`${v}-`)&&m.push([x,M,!1,x.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:m}}function Y6(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=jq(e)?e:uI(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let d=0;d<u.length;d++){let[m,g,v,y]=u[d];if(X6(t)){const M="srgb",E="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?M:E):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?M:E)}let S=t,w=S[m];if(y.length&&(w=y.reduce((x,M)=>x[M],t),!(w&&w.set))){const[x,...M]=y.reverse();S=M.reverse().reduce((E,C)=>E[C],t),m=x}if(g===aI+"remove")if(S.constructor){let x=FE.get(S.constructor);x||(x=new S.constructor,FE.set(S.constructor,x)),g=x[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof rc)){if(Array.isArray(g))w.fromArray?w.fromArray(g):w.set(...g);else if(w.copy&&g&&g.constructor&&w.constructor===g.constructor)w.copy(g);else if(g!==void 0){const x=w instanceof et;!x&&w.setScalar?w.setScalar(g):w instanceof rc&&g instanceof rc?w.mask=g.mask:w.set(g),!rI()&&!a.linear&&x&&w.convertSRGBToLinear()}}else if(S[m]=g,S[m]instanceof bn&&S[m].format===zn&&S[m].type===Gn){const x=S[m];X6(x)&&X6(a.gl)?x.colorSpace=a.gl.outputColorSpace:x.encoding=a.gl.outputEncoding}mf(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const d=a.internal.interaction.indexOf(t);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&Hy(t),t}function mf(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function Hy(t){t.onUpdate==null||t.onUpdate(t)}function cI(t,e){t.manual||(iI(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function pm(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Yq(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Dl.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Dl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Dl.ContinuousEventPriority;default:return Dl.DefaultEventPriority}}function fI(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Kq(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{fI(n.capturedMap,e,r,i)})}function Zq(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,d=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let S=0;S<m.length;S++){const w=Fd(m[S]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(S){const w=Fd(S);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var x;w.events.compute==null||w.events.compute(l,w,(x=w.previousRoot)==null?void 0:x.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(S,!0):[]}let v=m.flatMap(g).sort((S,w)=>{const x=Fd(S.object),M=Fd(w.object);return!x||!M?S.distance-w.distance:M.events.priority-x.events.priority||S.distance-w.distance}).filter(S=>{const w=pm(S);return f.has(w)?!1:(f.add(w),!0)});c.events.filter&&(v=c.events.filter(v,c));for(const S of v){let w=S.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&d.push({...S,eventObject:w}),w=w.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let S of c.internal.capturedMap.get(l.pointerId).values())f.has(pm(S.intersection))||d.push(S.intersection);return d}function i(l,u,c,f){const d=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=Fd(g.object)||d,{raycaster:y,pointer:S,camera:w,internal:x}=v,M=new K(S.x,S.y,0).unproject(w),E=B=>{var N,G;return(N=(G=x.capturedMap.get(B))==null?void 0:G.has(g.eventObject))!=null?N:!1},C=B=>{const N={intersection:g,target:u.target};x.capturedMap.has(B)?x.capturedMap.get(B).set(g.eventObject,N):x.capturedMap.set(B,new Map([[g.eventObject,N]])),u.target.setPointerCapture(B)},P=B=>{const N=x.capturedMap.get(B);N&&fI(x.capturedMap,g.eventObject,N,B)};let T={};for(let B in u){let N=u[B];typeof N!="function"&&(T[B]=N)}let R={...g,...T,pointer:S,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:y.ray,camera:w,stopPropagation(){const B="pointerId"in u&&x.capturedMap.get(u.pointerId);if((!B||B.has(g.eventObject))&&(R.stopped=m.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(N=>N.eventObject===g.eventObject))){const N=l.slice(0,l.indexOf(g));s([...N,g])}},target:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:P},currentTarget:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:P},nativeEvent:u};if(f(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,m=d==null?void 0:d.handlers;if(u.hovered.delete(pm(c)),d!=null&&d.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),S=g?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=y.map(x=>x.eventObject)),g&&!y.length&&S<=2&&(o(c,d.interaction),f&&f(c)),m&&s(y);function w(x){const M=x.eventObject,E=M.__r3f,C=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const P=pm(x),T=d.hovered.get(P);T?T.stopped&&x.stopPropagation():(d.hovered.set(P,x),C.onPointerOver==null||C.onPointerOver(x),C.onPointerEnter==null||C.onPointerEnter(x))}C.onPointerMove==null||C.onPointerMove(x)}else{const P=C[l];P?(!g||d.initialHits.includes(M))&&(o(c,d.interaction.filter(T=>!d.initialHits.includes(T))),P(x)):g&&d.initialHits.includes(M)&&o(c,d.interaction.filter(T=>!d.initialHits.includes(T)))}}i(y,c,S,w)}}return{handlePointer:a}}const Qq=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],hI=t=>!!(t!=null&&t.render),N7=H.createContext(null),qq=(t,e)=>{const n=qB((a,l)=>{const u=new K,c=new K,f=new K;function d(S=l().camera,w=c,x=l().size){const{width:M,height:E,top:C,left:P}=x,T=M/E;w instanceof K?f.copy(w):f.set(...w);const R=S.getWorldPosition(u).distanceTo(f);if(iI(S))return{width:M/S.zoom,height:E/S.zoom,top:C,left:P,factor:1,distance:R,aspect:T};{const B=S.fov*Math.PI/180,N=2*Math.tan(B/2)*R,G=N*(M/E);return{width:G,height:N,top:C,left:P,factor:M/G,distance:R,aspect:T}}}let m;const g=S=>a(w=>({performance:{...w.performance,current:S}})),v=new ve;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(S=1)=>t(l(),S),advance:(S,w)=>e(S,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new I7,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=l();m&&clearTimeout(m),S.performance.current!==S.performance.min&&g(S.performance.min),m=setTimeout(()=>g(l().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:S=>a(w=>({...w,events:{...w.events,...S}})),setSize:(S,w,x,M,E)=>{const C=l().camera,P={width:S,height:w,top:M||0,left:E||0,updateStyle:x};a(T=>({size:P,viewport:{...T.viewport,...d(C,c,P)}}))},setDpr:S=>a(w=>{const x=lI(S);return{viewport:{...w.viewport,dpr:x,initialDpr:w.viewport.initialDpr||x}}}),setFrameloop:(S="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,S!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:S}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:H.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(S,w,x)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:S,priority:w,store:x}),M.subscribers=M.subscribers.sort((E,C)=>E.priority-C.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(w>0?1:0),E.subscribers=E.subscribers.filter(C=>C.ref!==S))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l!==i||u.dpr!==s){var d;i=l,s=u.dpr,cI(a,l),c.setPixelRatio(u.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function $q(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let mm,dI=new Set,e$=new Set,t$=new Set;const n$=t=>$q(t,dI);function K6(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function kd(t,e){switch(t){case"before":return K6(dI,e);case"after":return K6(e$,e);case"tail":return K6(t$,e)}}let Z6,Q6;function q6(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),Z6=e.internal.subscribers,mm=0;mm<Z6.length;mm++)Q6=Z6[mm],Q6.ref.current(Q6.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function r$(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,kd("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=q6(l,i))}if(kd("after",l),n===0)return kd("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&kd("before",l),c)q6(l,c,f);else for(const d of t.values())q6(l,d.store.getState());u&&kd("after",l)}return{loop:s,invalidate:o,advance:a}}function i$(t){const e=H.useRef(null);return Oh(()=>void(e.current=t.current.__r3f),[t]),e}function O7(){const t=H.useContext(N7);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function en(t=n=>n,e){return O7()(t,e)}function $s(t,e=0){const n=O7(),r=n.getState().internal.subscribe,i=sI(t);return Oh(()=>r(i,e,n),[e,r,n]),null}const NE=new WeakMap;function pI(t,e){return function(n,...r){let i=NE.get(n);return i||(i=new n,NE.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Xq(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Tc(t,e,n,r){const i=Array.isArray(e)?e:[e],s=nI(pI(n,r),[t,...i],{equal:Vn.equ});return Array.isArray(e)?s:s[0]}Tc.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return zq(pI(n),[t,...r])};Tc.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Gq([t,...n])};const wh=new Map,{invalidate:OE,advance:zE}=r$(wh),{reconciler:x0,applyProps:Ml}=Hq(wh,Yq),lf={objects:"shallow",strict:!1},s$=(t,e)=>{const n=typeof t=="function"?t(e):t;return hI(n)?n:new xv({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function o$(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function a$(t){const e=wh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||qq(OE,zE),o=n||x0.createContainer(s,Dl.ConcurrentRoot,null,!1,null,"",i,null);e||wh.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:d,scene:m,events:g,onCreated:v,shadows:y=!1,linear:S=!1,flat:w=!1,legacy:x=!1,orthographic:M=!1,frameloop:E="always",dpr:C=[1,2],performance:P,raycaster:T,camera:R,onPointerMissed:B}=c,N=s.getState(),G=N.gl;N.gl||N.set({gl:G=s$(f,t)});let J=N.raycaster;J||N.set({raycaster:J=new k7});const{params:D,...U}=T||{};if(Vn.equ(U,J,lf)||Ml(J,{...U}),Vn.equ(D,J.params,lf)||Ml(J,{params:{...J.params,...D}}),!N.camera||N.camera===u&&!Vn.equ(u,R,lf)){u=R;const k=R instanceof Dh,q=k?R:M?new xo(0,0,0,0,.1,1e3):new In(75,0,.1,1e3);k||(q.position.z=5,R&&Ml(q,R),!N.camera&&!(R!=null&&R.rotation)&&q.lookAt(0,0,0)),N.set({camera:q})}if(!N.scene){let k;m instanceof Xa?k=m:(k=new Xa,m&&Ml(k,m)),N.set({scene:pf(k)})}if(!N.xr){var W;const k=(Y,Z)=>{const ae=s.getState();ae.frameloop!=="never"&&zE(Y,!0,ae,Z)},q=()=>{const Y=s.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?k:null),Y.gl.xr.isPresenting||OE(Y)},ee={connect(){const Y=s.getState().gl;Y.xr.addEventListener("sessionstart",q),Y.xr.addEventListener("sessionend",q)},disconnect(){const Y=s.getState().gl;Y.xr.removeEventListener("sessionstart",q),Y.xr.removeEventListener("sessionend",q)}};typeof((W=G.xr)==null?void 0:W.addEventListener)=="function"&&ee.connect(),N.set({xr:ee})}if(G.shadowMap){const k=G.shadowMap.enabled,q=G.shadowMap.type;if(G.shadowMap.enabled=!!y,Vn.boo(y))G.shadowMap.type=Sp;else if(Vn.str(y)){var ie;const ee={basic:yD,percentage:uv,soft:Sp,variance:Wu};G.shadowMap.type=(ie=ee[y])!=null?ie:Sp}else Vn.obj(y)&&Object.assign(G.shadowMap,y);(k!==G.shadowMap.enabled||q!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const L=rI();L&&("enabled"in L?L.enabled=!x:"legacyMode"in L&&(L.legacyMode=x)),Ml(G,{outputEncoding:S?3e3:3001,toneMapping:w?Mo:Jx}),N.legacy!==x&&N.set(()=>({legacy:x})),N.linear!==S&&N.set(()=>({linear:S})),N.flat!==w&&N.set(()=>({flat:w})),f&&!Vn.fun(f)&&!hI(f)&&!Vn.equ(f,G,lf)&&Ml(G,f),g&&!N.events.handlers&&N.set({events:g(s)});const j=o$(t,d);return Vn.equ(j,N.size,lf)||N.setSize(j.width,j.height,j.updateStyle,j.top,j.left),C&&N.viewport.dpr!==lI(C)&&N.setDpr(C),N.frameloop!==E&&N.setFrameloop(E),N.onPointerMissed||N.set({onPointerMissed:B}),P&&!Vn.equ(P,N.performance,lf)&&N.set(k=>({performance:{...k.performance,...P}})),a=v,l=!0,this},render(c){return l||this.configure(),x0.updateContainer(H.createElement(l$,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){mI(t)}}}function l$({store:t,children:e,onCreated:n,rootElement:r}){return Oh(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),H.createElement(N7.Provider,{value:t},e)}function mI(t,e){const n=wh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),x0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Jq(i),wh.delete(t),e&&e(t)}catch{}},500)})}}function z7(t,e,n){return H.createElement(u$,{key:e.uuid,children:t,container:e,state:n})}function u$({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=O7(),[a]=H.useState(()=>new k7),[l]=H.useState(()=>new ve),u=H.useCallback((f,d)=>{const m={...f};Object.keys(f).forEach(v=>{(Qq.includes(v)||f[v]!==d[v]&&d[v])&&delete m[v]});let g;if(d&&i){const v=d.camera;g=f.viewport.getCurrentViewport(v,new K,i),v!==f.camera&&cI(v,i)}return{...m,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...d==null?void 0:d.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...g},...s}},[t]),[c]=H.useState(()=>{const f=o.getState();return qB((m,g)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:g,setEvents:v=>m(y=>({...y,events:{...y.events,...v}}))}))});return H.useEffect(()=>{const f=o.subscribe(d=>c.setState(m=>u(d,m)));return()=>{f(),c.destroy()}},[]),H.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),H.createElement(H.Fragment,null,x0.createPortal(H.createElement(N7.Provider,{value:c},e),c,null))}x0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version});function Pr(){return Pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pr.apply(this,arguments)}function Vy(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}Vy.debounce=Vy;var GE=Vy;function c$(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=H.useRef(!1);H.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,m,g]=H.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:x,top:M,width:E,height:C,bottom:P,right:T,x:R,y:B}=l.current.element.getBoundingClientRect(),N={left:x,top:M,width:E,height:C,bottom:P,right:T,x:R,y:B};l.current.element instanceof HTMLElement&&i&&(N.height=l.current.element.offsetHeight,N.width=l.current.element.offsetWidth),Object.freeze(N),f.current&&!p$(l.current.lastBounds,N)&&a(l.current.lastBounds=N)};return[w,c?GE(w,c):w,u?GE(w,u):w]},[a,i,u,c]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",g,{capture:!0,passive:!0})))}const S=w=>{!w||w===l.current.element||(v(),l.current.element=w,l.current.scrollContainers=gI(w),y())};return h$(g,Boolean(n)),f$(m),H.useEffect(()=>{v(),y()},[n,g,m]),H.useEffect(()=>v,[]),[S,o,d]}function f$(t){H.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function h$(t,e){H.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function gI(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...gI(t.parentElement)]}const d$=["x","y","top","bottom","left","right","width","height"],p$=(t,e)=>d$.every(n=>t[n]===e[n]);var m$=Object.defineProperty,g$=Object.defineProperties,v$=Object.getOwnPropertyDescriptors,HE=Object.getOwnPropertySymbols,y$=Object.prototype.hasOwnProperty,x$=Object.prototype.propertyIsEnumerable,VE=(t,e,n)=>e in t?m$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WE=(t,e)=>{for(var n in e||(e={}))y$.call(e,n)&&VE(t,n,e[n]);if(HE)for(var n of HE(e))x$.call(e,n)&&VE(t,n,e[n]);return t},w$=(t,e)=>g$(t,v$(e));function vI(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=vI(r,e,n);if(i)return i;r=e?null:r.sibling}}function yI(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const G7=yI(H.createContext(null));class xI extends H.Component{render(){return H.createElement(G7.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:jE,ReactCurrentDispatcher:XE}=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function S$(){const t=H.useContext(G7);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const r of[jE==null?void 0:jE.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=vI(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function _$(){var t,e;const n=S$(),[r]=H.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==G7&&!r.has(s)&&r.set(s,(e=XE==null?void 0:XE.current)==null?void 0:e.readContext(yI(s))),i=i.return}return r}function M$(){const t=_$();return H.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>H.createElement(e,null,H.createElement(n.Provider,w$(WE({},r),{value:t.get(n)}))),e=>H.createElement(xI,WE({},e))),[t])}const $6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function A$(t){const{handlePointer:e}=Zq(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys($6).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=$6[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=$6[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const E$=H.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=A$,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:S,camera:w,scene:x,onPointerMissed:M,onCreated:E,...C},P){H.useMemo(()=>Pv(QB),[]);const T=M$(),[R,B]=c$({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=H.useRef(null),G=H.useRef(null);H.useImperativeHandle(P,()=>N.current);const J=sI(M),[D,U]=H.useState(!1),[W,ie]=H.useState(!1);if(D)throw D;if(W)throw W;const L=H.useRef(null);Oh(()=>{const V=N.current;B.width>0&&B.height>0&&V&&(L.current||(L.current=a$(V)),L.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:S,camera:w,scene:x,size:B,onPointerMissed:(...j)=>J.current==null?void 0:J.current(...j),onCreated:j=>{j.events.connect==null||j.events.connect(a?Vq(a)?a.current:a:G.current),l&&j.setEvents({compute:(k,q)=>{const ee=k[l+"X"],Y=k[l+"Y"];q.pointer.set(ee/q.size.width*2-1,-(Y/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),E==null||E(j)}}),L.current.render(H.createElement(T,null,H.createElement(oI,{set:ie},H.createElement(H.Suspense,{fallback:H.createElement(Wq,{set:U})},e)))))}),H.useEffect(()=>{const V=N.current;if(V)return()=>mI(V)},[]);const O=a?"none":"auto";return H.createElement("div",Pr({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...i}},C),H.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},H.createElement("canvas",{ref:N,style:{display:"block"}},n)))}),t3=H.forwardRef(function(e,n){return H.createElement(xI,null,H.createElement(E$,Pr({},e,{ref:n})))});function T$(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}let H7=r3();const yn=t=>n3(t,H7);let V7=r3();yn.write=t=>n3(t,V7);let Rv=r3();yn.onStart=t=>n3(t,Rv);let W7=r3();yn.onFrame=t=>n3(t,W7);let j7=r3();yn.onFinish=t=>n3(t,j7);let Yf=[];yn.setTimeout=(t,e)=>{let n=yn.now()+e,r=()=>{let s=Yf.findIndex(o=>o.cancel==r);~s&&Yf.splice(s,1),Il-=~s?1:0},i={time:n,handler:t,cancel:r};return Yf.splice(wI(n),0,i),Il+=1,SI(),i};let wI=t=>~(~Yf.findIndex(e=>e.time>t)||~Yf.length);yn.cancel=t=>{Rv.delete(t),W7.delete(t),j7.delete(t),H7.delete(t),V7.delete(t)};yn.sync=t=>{Wy=!0,yn.batchedUpdates(t),Wy=!1};yn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,yn.onStart(n)}return r.handler=t,r.cancel=()=>{Rv.delete(n),e=null},r};let X7=typeof window<"u"?window.requestAnimationFrame:()=>{};yn.use=t=>X7=t;yn.now=typeof performance<"u"?()=>performance.now():Date.now;yn.batchedUpdates=t=>t();yn.catch=console.error;yn.frameLoop="always";yn.advance=()=>{yn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):MI()};let Bl=-1,Il=0,Wy=!1;function n3(t,e){Wy?(e.delete(t),t(0)):(e.add(t),SI())}function SI(){Bl<0&&(Bl=0,yn.frameLoop!=="demand"&&X7(_I))}function C$(){Bl=-1}function _I(){~Bl&&(X7(_I),yn.batchedUpdates(MI))}function MI(){let t=Bl;Bl=yn.now();let e=wI(Bl);if(e&&(AI(Yf.splice(0,e),n=>n.handler()),Il-=e),!Il){C$();return}Rv.flush(),H7.flush(t?Math.min(64,Bl-t):16.667),W7.flush(),V7.flush(),j7.flush()}function r3(){let t=new Set,e=t;return{add(n){Il+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Il-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Il-=e.size,AI(e,r=>r(n)&&t.add(r)),Il+=t.size,e=t)}}}function AI(t,e){t.forEach(n=>{try{e(n)}catch(r){yn.catch(r)}})}function b$(){}const P$=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),mr={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function R$(t,e){if(mr.arr(t)){if(!mr.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const Na=(t,e)=>t.forEach(e);function jy(t,e,n){if(mr.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}const gm=t=>mr.und(t)?[]:mr.arr(t)?t:[t],J7=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Y7,EI,Jl=null,TI=!1,K7=b$;const D$=t=>{t.to&&(EI=t.to),t.now&&(yn.now=t.now),t.colors!==void 0&&(Jl=t.colors),t.skipAnimation!=null&&(TI=t.skipAnimation),t.createStringInterpolator&&(Y7=t.createStringInterpolator),t.requestAnimationFrame&&yn.use(t.requestAnimationFrame),t.batchedUpdates&&(yn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(K7=t.willAdvance),t.frameLoop&&(yn.frameLoop=t.frameLoop)};var w0=Object.freeze({__proto__:null,get createStringInterpolator(){return Y7},get to(){return EI},get colors(){return Jl},get skipAnimation(){return TI},get willAdvance(){return K7},assign:D$});const Ep=new Set;let Vs=[],e4=[],Ag=0;const Z7={get idle(){return!Ep.size&&!Vs.length},start(t){Ag>t.priority?(Ep.add(t),yn.onStart(B$)):(CI(t),yn(Xy))},advance:Xy,sort(t){if(Ag)yn.onFrame(()=>Z7.sort(t));else{const e=Vs.indexOf(t);~e&&(Vs.splice(e,1),bI(t))}},clear(){Vs=[],Ep.clear()}};function B$(){Ep.forEach(CI),Ep.clear(),yn(Xy)}function CI(t){Vs.includes(t)||bI(t)}function bI(t){Vs.splice(I$(Vs,e=>e.priority>t.priority),0,t)}function Xy(t){const e=e4;for(let n=0;n<Vs.length;n++){const r=Vs[n];Ag=r.priority,r.idle||(K7(r),r.advance(t),r.idle||e.push(r))}return Ag=0,e4=Vs,e4.length=0,Vs=e,Vs.length>0}function I$(t,e){const n=t.findIndex(e);return n<0?t.length:n}const L$=(t,e,n)=>Math.min(Math.max(n,t),e),F$={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},wo="[-+]?\\d*\\.?\\d+",Eg=wo+"%";function Dv(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const k$=new RegExp("rgb"+Dv(wo,wo,wo)),U$=new RegExp("rgba"+Dv(wo,wo,wo,wo)),N$=new RegExp("hsl"+Dv(wo,Eg,Eg)),O$=new RegExp("hsla"+Dv(wo,Eg,Eg,wo)),z$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,G$=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,H$=/^#([0-9a-fA-F]{6})$/,V$=/^#([0-9a-fA-F]{8})$/;function W$(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=H$.exec(t))?parseInt(e[1]+"ff",16)>>>0:Jl&&Jl[t]!==void 0?Jl[t]:(e=k$.exec(t))?(uf(e[1])<<24|uf(e[2])<<16|uf(e[3])<<8|255)>>>0:(e=U$.exec(t))?(uf(e[1])<<24|uf(e[2])<<16|uf(e[3])<<8|KE(e[4]))>>>0:(e=z$.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=V$.exec(t))?parseInt(e[1],16)>>>0:(e=G$.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=N$.exec(t))?(JE(YE(e[1]),vm(e[2]),vm(e[3]))|255)>>>0:(e=O$.exec(t))?(JE(YE(e[1]),vm(e[2]),vm(e[3]))|KE(e[4]))>>>0:null}function t4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JE(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=t4(i,r,t+1/3),o=t4(i,r,t),a=t4(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function uf(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function YE(t){return(parseFloat(t)%360+360)%360/360}function KE(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function vm(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function ZE(t){let e=W$(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}const S0=(t,e,n)=>{if(mr.fun(t))return t;if(mr.arr(t))return S0({range:t,output:e,extrapolate:n});if(mr.str(t.output[0]))return Y7(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=X$(u,s);return j$(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function j$(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function X$(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}const J$=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return L$(0,1,i/t)},Tg=1.70158,ym=Tg*1.525,QE=Tg+1,qE=2*Math.PI/3,$E=2*Math.PI/4.5,xm=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Y$={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>QE*t*t*t-Tg*t*t,easeOutBack:t=>1+QE*Math.pow(t-1,3)+Tg*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((ym+1)*2*t-ym)/2:(Math.pow(2*t-2,2)*((ym+1)*(t*2-2)+ym)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*qE),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*qE)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*$E))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*$E)/2+1,easeInBounce:t=>1-xm(1-t),easeOutBounce:xm,easeInOutBounce:t=>t<.5?(1-xm(1-2*t))/2:(1+xm(2*t-1))/2,steps:J$};function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(this,arguments)}const Sh=Symbol.for("FluidValue.get"),_h=Symbol.for("FluidValue.observers"),Cg=t=>Boolean(t&&t[Sh]),bg=t=>t&&t[Sh]?t[Sh]():t;function K$(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Yy(t,e){let n=t[_h];n&&n.forEach(r=>{K$(r,e)})}class Z${constructor(e){if(this[Sh]=void 0,this[_h]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Q$(this,e)}}const Q$=(t,e)=>RI(t,Sh,e);function PI(t,e){if(t[Sh]){let n=t[_h];n||RI(t,_h,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function Ky(t,e){let n=t[_h];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[_h]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const RI=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),u1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q$=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eT=new RegExp(`(${u1.source})(%|[a-z]+)`,"i"),$$=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Bv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,DI=t=>{const[e,n]=eee(t);if(!e||J7())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&Bv.test(n))return DI(n);if(n)return n}return t},eee=t=>{const e=Bv.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]};let n4;const tee=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,BI=t=>{n4||(n4=Jl?new RegExp(`(${Object.keys(Jl).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>bg(s).replace(Bv,DI).replace(q$,ZE).replace(n4,ZE)),n=e.map(s=>s.match(u1).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>S0(Jy({},t,{output:s})));return s=>{var o;const a=!eT.test(e[0])&&((o=e.find(u=>eT.test(u)))==null?void 0:o.replace(u1,""));let l=0;return e[0].replace(u1,()=>`${i[l++](s)}${a||""}`).replace($$,tee)}},II="react-spring: ",LI=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${II}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},nee=LI(console.warn);function ree(){nee(`${II}The "interpolate" function is deprecated in v9 (use "to" instead)`)}LI(console.warn);function FI(t){return mr.str(t)&&(t[0]=="#"||/\d/.test(t)||!J7()&&Bv.test(t)||t in(Jl||{}))}const kI=J7()?H.useEffect:H.useLayoutEffect,iee=()=>{const t=H.useRef(!1);return kI(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function see(){const t=H.useState()[1],e=iee();return()=>{e.current&&t(Math.random())}}function oee(t,e){const[n]=H.useState(()=>({inputs:e,result:t()})),r=H.useRef(),i=r.current;let s=i;return s?Boolean(e&&s.inputs&&aee(e,s.inputs))||(s={inputs:e,result:t()}):s=n,H.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function aee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const lee=t=>H.useEffect(t,uee),uee=[],_0=Symbol.for("Animated:node"),cee=t=>!!t&&t[_0]===t,Q7=t=>t&&t[_0],UI=(t,e)=>P$(t,_0,e),q7=t=>t&&t[_0]&&t[_0].getPayload();class NI{constructor(){this.payload=void 0,UI(this,this)}getPayload(){return this.payload||[]}}class i3 extends NI{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,mr.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new i3(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return mr.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,mr.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class Iv extends i3{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=S0({output:[e,e]})}static create(e){return new Iv(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(mr.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=S0({output:[this.getValue(),e]})),this._value=0,super.reset()}}const Pg={dependencies:null};class $7 extends NI{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return jy(this.source,(r,i)=>{cee(r)?n[i]=r.getValue(e):Cg(r)?n[i]=bg(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Na(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return jy(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){Pg.dependencies&&Cg(e)&&Pg.dependencies.add(e);const n=q7(e);n&&Na(n,r=>this.add(r))}}class ew extends $7{constructor(e){super(e)}static create(e){return new ew(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(fee)),!0)}}function fee(t){return(FI(t)?Iv:i3).create(t)}function hee(t){const e=Q7(t);return e?e.constructor:mr.arr(t)?ew:FI(t)?Iv:i3}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}const tT=(t,e)=>{const n=!mr.fun(t)||t.prototype&&t.prototype.isReactComponent;return H.forwardRef((r,i)=>{const s=H.useRef(null),o=n&&H.useCallback(g=>{s.current=mee(i,g)},[i]),[a,l]=pee(r,e),u=see(),c=()=>{const g=s.current;if(n&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},f=new dee(c,l),d=H.useRef();kI(()=>(d.current=f,Na(l,g=>PI(g,f)),()=>{d.current&&(Na(d.current.deps,g=>Ky(g,d.current)),yn.cancel(d.current.update))})),H.useEffect(c,[]),lee(()=>()=>{const g=d.current;Na(g.deps,v=>Ky(v,g))});const m=e.getComponentProps(a.getValue());return H.createElement(t,Rg({},m,{ref:o}))})};class dee{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){e.type=="change"&&yn.write(this.update)}}function pee(t,e){const n=new Set;return Pg.dependencies=n,t.style&&(t=Rg({},t,{style:e.createAnimatedStyle(t.style)})),t=new $7(t),Pg.dependencies=null,[t,n]}function mee(t,e){return t&&(mr.fun(t)?t(e):t.current=e),e}const nT=Symbol.for("AnimatedComponent"),gee=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new $7(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=rT(o)||"Anonymous";return mr.str(o)?o=s[o]||(s[o]=tT(o,i)):o=o[nT]||(o[nT]=tT(o,i)),o.displayName=`Animated(${a})`,o};return jy(t,(o,a)=>{mr.arr(t)&&(a=rT(o)),s[a]=s(o)}),{animated:s}},rT=t=>mr.str(t)?t:t&&mr.str(t.displayName)?t.displayName:mr.fun(t)&&t.name||null;function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(this,arguments)}const vee={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};Zy({},vee.default,{mass:1,damping:1,easing:Y$.linear,clamp:!1});const iT=t=>t instanceof OI;let yee=1;class OI extends Z${constructor(...e){super(...e),this.id=yee++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Q7(this);return e&&e.getValue()}to(...e){return w0.to(this,e)}interpolate(...e){return ree(),w0.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){Yy(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||Z7.sort(this),Yy(this,{type:"priority",parent:this,priority:e})}}function xee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const wee=["children"],tw=t=>{let{children:e}=t,n=xee(t,wee);const r=H.useContext(Dg),i=n.pause||!!r.pause,s=n.immediate||!!r.immediate;n=oee(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=Dg;return H.createElement(o,{value:n},e)},Dg=See(tw,{});tw.Provider=Dg.Provider;tw.Consumer=Dg.Consumer;function See(t,e){return Object.assign(t,H.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}let sT;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(sT||(sT={}));class _ee extends OI{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=S0(...n);const r=this._get(),i=hee(r);UI(this,i.create(r))}advance(e){const n=this._get(),r=this.get();R$(n,r)||(Q7(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&oT(this._active)&&r4(this)}_get(){const e=mr.arr(this.source)?this.source.map(bg):gm(bg(this.source));return this.calc(...e)}_start(){this.idle&&!oT(this._active)&&(this.idle=!1,Na(q7(this),e=>{e.done=!1}),w0.skipAnimation?(yn.batchedUpdates(()=>this.advance()),r4(this)):Z7.start(this))}_attach(){let e=1;Na(gm(this.source),n=>{Cg(n)&&PI(n,this),iT(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){Na(gm(this.source),e=>{Cg(e)&&Ky(e,this)}),this._active.clear(),r4(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=gm(this.source).reduce((n,r)=>Math.max(n,(iT(r)?r.priority:0)+1),0))}}function Mee(t){return t.idle!==!1}function oT(t){return!t.size||Array.from(t).every(Mee)}function r4(t){t.idle||(t.idle=!0,Na(q7(t),e=>{e.done=!0}),Yy(t,{type:"idle",parent:t}))}w0.assign({createStringInterpolator:BI,to:(t,e)=>new _ee(t,e)});const Aee=["primitive"].concat(Object.keys(QB).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));w0.assign({createStringInterpolator:BI,colors:F$,frameLoop:"demand"});n$(()=>{yn.advance()});gee(Aee,{applyAnimatedValues:Ml});var Ws=Uint8Array,Ll=Uint16Array,Qy=Uint32Array,zI=new Ws([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),GI=new Ws([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Eee=new Ws([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HI=function(t,e){for(var n=new Ll(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Qy(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},VI=HI(zI,2),WI=VI[0],Tee=VI[1];WI[28]=258,Tee[258]=28;var Cee=HI(GI,0),bee=Cee[0],qy=new Ll(32768);for(var Wn=0;Wn<32768;++Wn){var ml=(Wn&43690)>>>1|(Wn&21845)<<1;ml=(ml&52428)>>>2|(ml&13107)<<2,ml=(ml&61680)>>>4|(ml&3855)<<4,qy[Wn]=((ml&65280)>>>8|(ml&255)<<8)>>>1}var Tp=function(t,e,n){for(var r=t.length,i=0,s=new Ll(e);i<r;++i)++s[t[i]-1];var o=new Ll(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ll(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)a[qy[f]>>>l]=u}else for(a=new Ll(r),i=0;i<r;++i)t[i]&&(a[i]=qy[o[t[i]-1]++]>>>15-t[i]);return a},s3=new Ws(288);for(var Wn=0;Wn<144;++Wn)s3[Wn]=8;for(var Wn=144;Wn<256;++Wn)s3[Wn]=9;for(var Wn=256;Wn<280;++Wn)s3[Wn]=7;for(var Wn=280;Wn<288;++Wn)s3[Wn]=8;var jI=new Ws(32);for(var Wn=0;Wn<32;++Wn)jI[Wn]=5;var Pee=Tp(s3,9,1),Ree=Tp(jI,5,1),i4=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},oo=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},s4=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Dee=function(t){return(t/8|0)+(t&7&&1)},Bee=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Ll?Ll:t instanceof Qy?Qy:Ws)(n-e);return r.set(t.subarray(e,n)),r},Iee=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Ws(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Ws(r*3));var o=function(Z){var ae=e.length;if(Z>ae){var re=new Ws(Math.max(ae*2,Z));re.set(e),e=re}},a=n.f||0,l=n.p||0,u=n.b||0,c=n.l,f=n.d,d=n.m,m=n.n,g=r*8;do{if(!c){n.f=a=oo(t,l,1);var v=oo(t,l+1,3);if(l+=3,v)if(v==1)c=Pee,f=Ree,d=9,m=5;else if(v==2){var x=oo(t,l,31)+257,M=oo(t,l+10,15)+4,E=x+oo(t,l+5,31)+1;l+=14;for(var C=new Ws(E),P=new Ws(19),T=0;T<M;++T)P[Eee[T]]=oo(t,l+T*3,7);l+=M*3;for(var R=i4(P),B=(1<<R)-1,N=Tp(P,R,1),T=0;T<E;){var G=N[oo(t,l,B)];l+=G&15;var y=G>>>4;if(y<16)C[T++]=y;else{var J=0,D=0;for(y==16?(D=3+oo(t,l,3),l+=2,J=C[T-1]):y==17?(D=3+oo(t,l,7),l+=3):y==18&&(D=11+oo(t,l,127),l+=7);D--;)C[T++]=J}}var U=C.subarray(0,x),W=C.subarray(x);d=i4(U),m=i4(W),c=Tp(U,d,1),f=Tp(W,m,1)}else throw"invalid block type";else{var y=Dee(l)+4,S=t[y-4]|t[y-3]<<8,w=y+S;if(w>r){if(s)throw"unexpected EOF";break}i&&o(u+S),e.set(t.subarray(y,w),u),n.b=u+=S,n.p=l=w*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var ie=(1<<d)-1,L=(1<<m)-1,O=l;;O=l){var J=c[s4(t,l)&ie],V=J>>>4;if(l+=J&15,l>g){if(s)throw"unexpected EOF";break}if(!J)throw"invalid length/literal";if(V<256)e[u++]=V;else if(V==256){O=l,c=null;break}else{var j=V-254;if(V>264){var T=V-257,k=zI[T];j=oo(t,l,(1<<k)-1)+WI[T],l+=k}var q=f[s4(t,l)&L],ee=q>>>4;if(!q)throw"invalid distance";l+=q&15;var W=bee[ee];if(ee>3){var k=GI[ee];W+=s4(t,l)&(1<<k)-1,l+=k}if(l>g){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var Y=u+j;u<Y;u+=4)e[u]=e[u-W],e[u+1]=e[u+1-W],e[u+2]=e[u+2-W],e[u+3]=e[u+3-W];u=Y}}n.l=c,n.p=O,n.b=u,c&&(a=1,n.m=d,n.d=f,n.n=m)}while(!a);return u==e.length?e:Bee(e,0,u)},Lee=new Ws(0),Fee=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function wm(t,e){return Iee((Fee(t),t.subarray(2,-4)),e)}var kee=typeof TextDecoder<"u"&&new TextDecoder,Uee=0;try{kee.decode(Lee,{stream:!0}),Uee=1}catch{}function nw(){}nw.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};nw.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function aT(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new nw}aT.prototype={constructor:aT,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function lT(){}lT.prototype={constructor:lT,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};var Nee=Object.defineProperty,Oee=(t,e,n)=>e in t?Nee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kt=(t,e,n)=>(Oee(t,typeof e!="symbol"?e+"":e,n),n);let Ud;function zee(){var t;if(Ud!==void 0)return Ud;try{let e;const n=document.createElement("canvas");return Ud=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),Ud}catch{return Ud=!1}}function uT(t,e){if(e===qD)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===gg||e===Qx){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===gg)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const XI=parseInt(qs.replace(/\D+/g,"")),o4={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new K},up:{value:new K(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${XI>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};o4.fragmentShader,o4.vertexShader,o4.uniforms;const Gee=t=>t&&t.isCubeTexture;class Hee extends Un{constructor(e,n){var r,i;const s=Gee(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,d=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(qs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,v={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new Fh(1,16),S=new Ht({uniforms:v,fragmentShader:g,vertexShader:m,side:ri});super(y,S)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const Sm=new Ph,cT=new Ca,Vee=Math.cos(70*(Math.PI/180)),fT=(t,e)=>(t%e+e)%e;let Wee=class extends Ts{constructor(e,n){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new K),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:Fu.ROTATE,MIDDLE:Fu.DOLLY,RIGHT:Fu.PAN}),kt(this,"touches",{ONE:ku.ROTATE,TWO:ku.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=le=>{let Re=fT(le,2*Math.PI),$e=c.phi;$e<0&&($e+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ne=Math.abs(Re-$e);2*Math.PI-ne<ne&&(Re<$e?Re+=2*Math.PI:$e+=2*Math.PI),f.phi=Re-$e,r.update()},this.setAzimuthalAngle=le=>{let Re=fT(le,2*Math.PI),$e=c.theta;$e<0&&($e+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ne=Math.abs(Re-$e);2*Math.PI-ne<ne&&(Re<$e?Re+=2*Math.PI:$e+=2*Math.PI),f.theta=Re-$e,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",ze),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ze),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const le=new K,Re=new K(0,1,0),$e=new or().setFromUnitVectors(e.up,Re),ne=$e.clone().invert(),ce=new K,Oe=new or,it=2*Math.PI;return function(){const Kt=r.object.position;$e.setFromUnitVectors(e.up,Re),ne.copy($e).invert(),le.copy(Kt).sub(r.target),le.applyQuaternion($e),c.setFromVector3(le),r.autoRotate&&l===a.NONE&&D(G()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Ot=r.minAzimuthAngle,Wt=r.maxAzimuthAngle;isFinite(Ot)&&isFinite(Wt)&&(Ot<-Math.PI?Ot+=it:Ot>Math.PI&&(Ot-=it),Wt<-Math.PI?Wt+=it:Wt>Math.PI&&(Wt-=it),Ot<=Wt?c.theta=Math.max(Ot,Math.min(Wt,c.theta)):c.theta=c.theta>(Ot+Wt)/2?Math.max(Ot,c.theta):Math.min(Wt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&R||r.object.isOrthographicCamera?c.radius=k(c.radius):c.radius=k(c.radius*d),le.setFromSpherical(c),le.applyQuaternion(ne),Kt.copy(r.target).add(le),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let jt=!1;if(r.zoomToCursor&&R){let on=null;if(r.object instanceof In&&r.object.isPerspectiveCamera){const Gt=le.length();on=k(Gt*d);const Zt=Gt-on;r.object.position.addScaledVector(P,Zt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Gt=new K(T.x,T.y,0);Gt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),jt=!0;const Zt=new K(T.x,T.y,0);Zt.unproject(r.object),r.object.position.sub(Zt).add(Gt),r.object.updateMatrixWorld(),on=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;on!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(on).add(r.object.position):(Sm.origin.copy(r.object.position),Sm.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Sm.direction))<Vee?e.lookAt(r.target):(cT.setFromNormalAndCoplanarPoint(r.object.up,r.target),Sm.intersectPlane(cT,r.target))))}else r.object instanceof xo&&r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),jt=!0);return d=1,R=!1,jt||ce.distanceToSquared(r.object.position)>u||8*(1-Oe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),ce.copy(r.object.position),Oe.copy(r.object.quaternion),jt=!1,!0):!1}})(),this.connect=le=>{le===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=le,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",at),r.domElement.addEventListener("pointerdown",De),r.domElement.addEventListener("pointercancel",ue),r.domElement.addEventListener("wheel",Ve)},this.dispose=()=>{var le,Re,$e,ne,ce,Oe;(le=r.domElement)==null||le.removeEventListener("contextmenu",at),(Re=r.domElement)==null||Re.removeEventListener("pointerdown",De),($e=r.domElement)==null||$e.removeEventListener("pointercancel",ue),(ne=r.domElement)==null||ne.removeEventListener("wheel",Ve),(ce=r.domElement)==null||ce.removeEventListener("pointermove",Q),(Oe=r.domElement)==null||Oe.removeEventListener("pointerup",z),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ze)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new Sg,f=new Sg;let d=1;const m=new K,g=new ve,v=new ve,y=new ve,S=new ve,w=new ve,x=new ve,M=new ve,E=new ve,C=new ve,P=new K,T=new ve;let R=!1;const B=[],N={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function J(){return Math.pow(.95,r.zoomSpeed)}function D(le){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=le:f.theta-=le}function U(le){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=le:f.phi-=le}const W=(()=>{const le=new K;return function($e,ne){le.setFromMatrixColumn(ne,0),le.multiplyScalar(-$e),m.add(le)}})(),ie=(()=>{const le=new K;return function($e,ne){r.screenSpacePanning===!0?le.setFromMatrixColumn(ne,1):(le.setFromMatrixColumn(ne,0),le.crossVectors(r.object.up,le)),le.multiplyScalar($e),m.add(le)}})(),L=(()=>{const le=new K;return function($e,ne){const ce=r.domElement;if(ce&&r.object instanceof In&&r.object.isPerspectiveCamera){const Oe=r.object.position;le.copy(Oe).sub(r.target);let it=le.length();it*=Math.tan(r.object.fov/2*Math.PI/180),W(2*$e*it/ce.clientHeight,r.object.matrix),ie(2*ne*it/ce.clientHeight,r.object.matrix)}else ce&&r.object instanceof xo&&r.object.isOrthographicCamera?(W($e*(r.object.right-r.object.left)/r.object.zoom/ce.clientWidth,r.object.matrix),ie(ne*(r.object.top-r.object.bottom)/r.object.zoom/ce.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function O(le){r.object instanceof In&&r.object.isPerspectiveCamera||r.object instanceof xo&&r.object.isOrthographicCamera?d/=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(le){r.object instanceof In&&r.object.isPerspectiveCamera||r.object instanceof xo&&r.object.isOrthographicCamera?d*=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function j(le){if(!r.zoomToCursor||!r.domElement)return;R=!0;const Re=r.domElement.getBoundingClientRect(),$e=le.clientX-Re.left,ne=le.clientY-Re.top,ce=Re.width,Oe=Re.height;T.x=$e/ce*2-1,T.y=-(ne/Oe)*2+1,P.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function k(le){return Math.max(r.minDistance,Math.min(r.maxDistance,le))}function q(le){g.set(le.clientX,le.clientY)}function ee(le){j(le),M.set(le.clientX,le.clientY)}function Y(le){S.set(le.clientX,le.clientY)}function Z(le){v.set(le.clientX,le.clientY),y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Re=r.domElement;Re&&(D(2*Math.PI*y.x/Re.clientHeight),U(2*Math.PI*y.y/Re.clientHeight)),g.copy(v),r.update()}function ae(le){E.set(le.clientX,le.clientY),C.subVectors(E,M),C.y>0?O(J()):C.y<0&&V(J()),M.copy(E),r.update()}function re(le){w.set(le.clientX,le.clientY),x.subVectors(w,S).multiplyScalar(r.panSpeed),L(x.x,x.y),S.copy(w),r.update()}function me(le){j(le),le.deltaY<0?V(J()):le.deltaY>0&&O(J()),r.update()}function Ee(le){let Re=!1;switch(le.code){case r.keys.UP:L(0,r.keyPanSpeed),Re=!0;break;case r.keys.BOTTOM:L(0,-r.keyPanSpeed),Re=!0;break;case r.keys.LEFT:L(r.keyPanSpeed,0),Re=!0;break;case r.keys.RIGHT:L(-r.keyPanSpeed,0),Re=!0;break}Re&&(le.preventDefault(),r.update())}function _e(){if(B.length==1)g.set(B[0].pageX,B[0].pageY);else{const le=.5*(B[0].pageX+B[1].pageX),Re=.5*(B[0].pageY+B[1].pageY);g.set(le,Re)}}function se(){if(B.length==1)S.set(B[0].pageX,B[0].pageY);else{const le=.5*(B[0].pageX+B[1].pageX),Re=.5*(B[0].pageY+B[1].pageY);S.set(le,Re)}}function xe(){const le=B[0].pageX-B[1].pageX,Re=B[0].pageY-B[1].pageY,$e=Math.sqrt(le*le+Re*Re);M.set(0,$e)}function Le(){r.enableZoom&&xe(),r.enablePan&&se()}function Ce(){r.enableZoom&&xe(),r.enableRotate&&_e()}function Be(le){if(B.length==1)v.set(le.pageX,le.pageY);else{const $e=Xe(le),ne=.5*(le.pageX+$e.x),ce=.5*(le.pageY+$e.y);v.set(ne,ce)}y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Re=r.domElement;Re&&(D(2*Math.PI*y.x/Re.clientHeight),U(2*Math.PI*y.y/Re.clientHeight)),g.copy(v)}function He(le){if(B.length==1)w.set(le.pageX,le.pageY);else{const Re=Xe(le),$e=.5*(le.pageX+Re.x),ne=.5*(le.pageY+Re.y);w.set($e,ne)}x.subVectors(w,S).multiplyScalar(r.panSpeed),L(x.x,x.y),S.copy(w)}function Te(le){const Re=Xe(le),$e=le.pageX-Re.x,ne=le.pageY-Re.y,ce=Math.sqrt($e*$e+ne*ne);E.set(0,ce),C.set(0,Math.pow(E.y/M.y,r.zoomSpeed)),O(C.y),M.copy(E)}function Ye(le){r.enableZoom&&Te(le),r.enablePan&&He(le)}function We(le){r.enableZoom&&Te(le),r.enableRotate&&Be(le)}function De(le){var Re,$e,ne;r.enabled!==!1&&(B.length===0&&((Re=r.domElement)==null||Re.setPointerCapture(le.pointerId),($e=r.domElement)==null||$e.addEventListener("pointermove",Q),(ne=r.domElement)==null||ne.addEventListener("pointerup",z)),Qe(le),le.pointerType==="touch"?Ze(le):we(le))}function Q(le){r.enabled!==!1&&(le.pointerType==="touch"?Ie(le):Ge(le))}function z(le){var Re,$e,ne;st(le),B.length===0&&((Re=r.domElement)==null||Re.releasePointerCapture(le.pointerId),($e=r.domElement)==null||$e.removeEventListener("pointermove",Q),(ne=r.domElement)==null||ne.removeEventListener("pointerup",z)),r.dispatchEvent(o),l=a.NONE}function ue(le){st(le)}function we(le){let Re;switch(le.button){case 0:Re=r.mouseButtons.LEFT;break;case 1:Re=r.mouseButtons.MIDDLE;break;case 2:Re=r.mouseButtons.RIGHT;break;default:Re=-1}switch(Re){case Fu.DOLLY:if(r.enableZoom===!1)return;ee(le),l=a.DOLLY;break;case Fu.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enablePan===!1)return;Y(le),l=a.PAN}else{if(r.enableRotate===!1)return;q(le),l=a.ROTATE}break;case Fu.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enableRotate===!1)return;q(le),l=a.ROTATE}else{if(r.enablePan===!1)return;Y(le),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ge(le){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Z(le);break;case a.DOLLY:if(r.enableZoom===!1)return;ae(le);break;case a.PAN:if(r.enablePan===!1)return;re(le);break}}function Ve(le){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(le.preventDefault(),r.dispatchEvent(s),me(le),r.dispatchEvent(o))}function ze(le){r.enabled===!1||r.enablePan===!1||Ee(le)}function Ze(le){switch(je(le),B.length){case 1:switch(r.touches.ONE){case ku.ROTATE:if(r.enableRotate===!1)return;_e(),l=a.TOUCH_ROTATE;break;case ku.PAN:if(r.enablePan===!1)return;se(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case ku.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(),l=a.TOUCH_DOLLY_PAN;break;case ku.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ie(le){switch(je(le),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Be(le),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;He(le),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ye(le),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;We(le),r.update();break;default:l=a.NONE}}function at(le){r.enabled!==!1&&le.preventDefault()}function Qe(le){B.push(le)}function st(le){delete N[le.pointerId];for(let Re=0;Re<B.length;Re++)if(B[Re].pointerId==le.pointerId){B.splice(Re,1);return}}function je(le){let Re=N[le.pointerId];Re===void 0&&(Re=new ve,N[le.pointerId]=Re),Re.set(le.pageX,le.pageY)}function Xe(le){const Re=le.pointerId===B[0].pointerId?B[1]:B[0];return N[Re.pointerId]}n!==void 0&&this.connect(n),this.update()}};class rw extends zi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Kee(n)}),this.register(function(n){return new rte(n)}),this.register(function(n){return new ite(n)}),this.register(function(n){return new ste(n)}),this.register(function(n){return new Qee(n)}),this.register(function(n){return new qee(n)}),this.register(function(n){return new $ee(n)}),this.register(function(n){return new ete(n)}),this.register(function(n){return new Yee(n)}),this.register(function(n){return new tte(n)}),this.register(function(n){return new Zee(n)}),this.register(function(n){return new nte(n)}),this.register(function(n){return new Xee(n)}),this.register(function(n){return new ote(n)}),this.register(function(n){return new ate(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ea.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new _s(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ea.decodeText(new Uint8Array(e.slice(0,4)))===JI){try{o[fn.KHR_BINARY_GLTF]=new lte(e)}catch(c){i&&i(c);return}s=JSON.parse(o[fn.KHR_BINARY_GLTF].content)}else s=JSON.parse(ea.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Ste(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case fn.KHR_MATERIALS_UNLIT:o[c]=new Jee;break;case fn.KHR_DRACO_MESH_COMPRESSION:o[c]=new ute(s,this.dracoLoader);break;case fn.KHR_TEXTURE_TRANSFORM:o[c]=new cte;break;case fn.KHR_MESH_QUANTIZATION:o[c]=new fte;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function jee(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Xee{constructor(e){this.parser=e,this.name=fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new et(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new D7(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new R7(c),u.distance=f;break;case"spot":u=new P7(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Al(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Jee{constructor(){this.name=fn.KHR_MATERIALS_UNLIT}getMaterialType(){return Zi}extendParams(e,n,r){const i=[];e.color=new et(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class Yee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Kee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ve(a,a)}return Promise.all(s)}}class Zee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Qee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new et(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class qee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class $ee{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new et(a[0],a[1],a[2]),Promise.all(s)}}class ete{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class tte{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new et(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class nte{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Do}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class rte{constructor(e){this.parser=e,this.name=fn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class ite{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class ste{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class ote{constructor(e){this.name=fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,d=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,d,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(m),c,f,d,i.mode,i.filter),m})})}else return null}}class ate{constructor(e){this.name=fn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==Ns.TRIANGLES&&u.mode!==Ns.TRIANGLE_STRIP&&u.mode!==Ns.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],d=u[0].count,m=[];for(const g of f){const v=new ht,y=new K,S=new or,w=new K(1,1,1),x=new l7(g.geometry,g.material,d);for(let M=0;M<d;M++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&S.fromBufferAttribute(l.ROTATION,M),l.SCALE&&w.fromBufferAttribute(l.SCALE,M),x.setMatrixAt(M,v.compose(y,S,w));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&g.geometry.setAttribute(M,l[M]);pn.prototype.copy.call(x,g),this.parser.assignFinalMaterial(x),m.push(x)}return c.isGroup?(c.clear(),c.add(...m),c):m[0]}))}}const JI="glTF",Nd=12,hT={JSON:1313821514,BIN:5130562};class lte{constructor(e){this.name=fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Nd);if(this.header={magic:ea.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==JI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Nd,i=new DataView(e,Nd);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===hT.JSON){const l=new Uint8Array(e,Nd+s,o);this.content=ea.decodeText(l)}else if(a===hT.BIN){const l=Nd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ute{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=$y[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=$y[c]||c.toLowerCase();if(o[c]!==void 0){const d=r.accessors[e.attributes[c]],m=Kf[d.componentType];u[f]=m.name,l[f]=d.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(f){i.decodeDracoFile(c,function(d){for(const m in d.attributes){const g=d.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}f(d)},a,u)})})}}class cte{constructor(){this.name=fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class fte{constructor(){this.name=fn.KHR_MESH_QUANTIZATION}}class YI extends Nh{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-n,f=(r-n)/c,d=f*f,m=d*f,g=e*u,v=g-u,y=-2*m+3*d,S=m-d,w=1-y,x=S-d+f;for(let M=0;M!==a;M++){const E=o[v+M+a],C=o[v+M+l]*c,P=o[g+M+a],T=o[g+M]*c;s[M]=w*E+x*C+y*P+S*T}return s}}const hte=new or;class dte extends YI{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return hte.fromArray(s).normalize().toArray(s),s}}const Ns={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Kf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},dT={9728:Nt,9729:gt,9984:u0,9985:hv,9986:Xf,9987:na},pT={33071:Cr,33648:dh,10497:xi},a4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$y={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...XI>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},gl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pte={CUBICSPLINE:void 0,LINEAR:mc,STEP:ph},l4={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function mte(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new e3({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zs})),t.DefaultMaterial}function Pu(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Al(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gte(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const d=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],d=u[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function vte(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yte(t){let e;const n=t.extensions&&t.extensions[fn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+u4(n.attributes):e=t.indices+":"+u4(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+u4(t.targets[r]);return e}function u4(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function e9(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function xte(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const wte=new ht;class Ste{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new jee,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new C7(this.options.manager):this.textureLoader=new XB(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new _s(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Pu(s,a,i),Al(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[fn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ea.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=a4[i.type],a=Kf[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new ln(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=a4[i.type],u=Kf[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,d=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(m&&m!==f){const S=Math.floor(d/m),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+S+":"+i.count;let x=n.cache.get(w);x||(v=new u(a,S*m,i.count*m/c),x=new z0(v,m/c),n.cache.add(w,x)),y=new Qi(x,l,d%m/c,g)}else a===null?v=new u(i.count*l):v=new u(a,d,i.count*l),y=new ln(v,l,g);if(i.sparse!==void 0){const S=a4.SCALAR,w=Kf[i.sparse.indices.componentType],x=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,E=new w(o[1],x,i.sparse.count*S),C=new u(o[2],M,i.sparse.count*l);a!==null&&(y=new ln(y.array.slice(),y.itemSize,y.normalized));for(let P=0,T=E.length;P<T;P++){const R=E[P];if(y.setX(R,C[P*l]),l>=2&&y.setY(R,C[P*l+1]),l>=3&&y.setZ(R,C[P*l+2]),l>=4&&y.setW(R,C[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return c.magFilter=dT[d.magFilter]||gt,c.minFilter=dT[d.minFilter]||na,c.wrapS=pT[d.wrapS]||xi,c.wrapT=pT[d.wrapT]||xi,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(d,m){let g=d;n.isImageBitmapLoader===!0&&(g=function(v){const y=new bn(v);y.needsUpdate=!0,d(y)}),n.load(ea.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||xte(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[fn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[fn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[fn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Mv,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Si,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return e3}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[fn.KHR_MATERIALS_UNLIT]){const f=i[fn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new et(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.fromArray(d),a.opacity=d[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ri);const c=s.alphaMode||l4.OPAQUE;if(c===l4.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===l4.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Zi&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ve(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Zi&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Zi&&(a.emissive=new et().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Zi&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Al(f,s),n.associations.set(f,{materials:e}),s.extensions&&Pu(i,f,s),f})}createUniqueName(e){const n=vn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return mT(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=yte(u),f=i[c];if(f)o.push(f.promise);else{let d;u.extensions&&u.extensions[fn.KHR_DRACO_MESH_COMPRESSION]?d=s(u):d=mT(new Vt,u,n),i[c]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?mte(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let m=0,g=c.length;m<g;m++){const v=c[m],y=o[m];let S;const w=u[m];if(y.mode===Ns.TRIANGLES||y.mode===Ns.TRIANGLE_STRIP||y.mode===Ns.TRIANGLE_FAN||y.mode===void 0)S=s.isSkinnedMesh===!0?new a7(v,w):new Un(v,w),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),y.mode===Ns.TRIANGLE_STRIP?S.geometry=uT(S.geometry,Qx):y.mode===Ns.TRIANGLE_FAN&&(S.geometry=uT(S.geometry,gg));else if(y.mode===Ns.LINES)S=new Po(v,w);else if(y.mode===Ns.LINE_STRIP)S=new Ja(v,w);else if(y.mode===Ns.LINE_LOOP)S=new u7(v,w);else if(y.mode===Ns.POINTS)S=new c7(v,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(S.geometry.morphAttributes).length>0&&vte(S,s),S.name=n.createUniqueName(s.name||"mesh_"+e),Al(S,s),y.extensions&&Pu(i,S,y),n.assignFinalMaterial(S),f.push(S)}for(let m=0,g=f.length;m<g;m++)n.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Pu(i,f[0],s),f[0];const d=new ka;s.extensions&&Pu(i,d,s),n.associations.set(d,{meshes:e});for(let m=0,g=f.length;m<g;m++)d.add(f[m]);return d})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new In(yo.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new xo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Al(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const d=new ht;s!==null&&d.fromArray(s.array,u*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new G0(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let c=0,f=r.channels.length;c<f;c++){const d=r.channels[c],m=r.samplers[d.sampler],g=d.target,v=g.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,S=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",S)),l.push(m),u.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const f=c[0],d=c[1],m=c[2],g=c[3],v=c[4],y=[];for(let S=0,w=f.length;S<w;S++){const x=f[S],M=d[S],E=m[S],C=g[S],P=v[S];if(x===void 0)continue;x.updateMatrix();let T;switch(gl[P.path]){case gl.weights:T=vh;break;case gl.rotation:T=ql;break;case gl.position:case gl.scale:default:T=yh;break}const R=x.name?x.name:x.uuid,B=C.interpolation!==void 0?pte[C.interpolation]:mc,N=[];gl[P.path]===gl.weights?x.traverse(function(J){J.morphTargetInfluences&&N.push(J.name?J.name:J.uuid)}):N.push(R);let G=E.array;if(E.normalized){const J=e9(G.constructor),D=new Float32Array(G.length);for(let U=0,W=G.length;U<W;U++)D[U]=G[U]*J;G=D}for(let J=0,D=N.length;J<D;J++){const U=new T(N[J]+"."+gl[P.path],M.array,G,B);C.interpolation==="CUBICSPLINE"&&(U.createInterpolant=function(ie){const L=this instanceof ql?dte:YI;return new L(this.times,this.values,this.getValueSize()/3,ie)},U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(U)}}return new xh(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],d=u[2];d!==null&&c.traverse(function(m){m.isSkinnedMesh&&m.bind(d,wte)});for(let m=0,g=f.length;m<g;m++)c.add(f[m]);return c})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new _v:u.length>1?c=new ka:u.length===1?c=u[0]:c=new pn,c!==u[0])for(let f=0,d=u.length;f<d;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),Al(c,s),s.extensions&&Pu(r,c,s),s.matrix!==void 0){const f=new ht;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new ka;r.name&&(s.name=i.createUniqueName(r.name)),Al(s,r),r.extensions&&Pu(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[d,m]of i.associations)(d instanceof pr||d instanceof bn)&&f.set(d,m);return c.traverse(d=>{const m=i.associations.get(d);m!=null&&f.set(d,m)}),f};return i.associations=u(s),s})}}function _te(t,e,n){const r=e.attributes,i=new rs;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new K(l[0],l[1],l[2]),new K(u[0],u[1],u[2])),a.normalized){const c=e9(Kf[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new K,l=new K;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const d=n.json.accessors[f.POSITION],m=d.min,g=d.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),d.normalized){const v=e9(Kf[d.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Cs;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function mT(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=$y[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Al(t,e),_te(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?gte(t,e.targets,n):t})}const Mte={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},Ate={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class Ete extends T7{constructor(e){super(e),this.type=Xn}parse(e){const a=function(x,M){switch(x){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},f=`
`,d=function(x,M,E){M=M||1024;let P=x.pos,T=-1,R=0,B="",N=String.fromCharCode.apply(null,new Uint16Array(x.subarray(P,P+128)));for(;0>(T=N.indexOf(f))&&R<M&&P<x.byteLength;)B+=N,R+=N.length,P+=128,N+=String.fromCharCode.apply(null,new Uint16Array(x.subarray(P,P+128)));return-1<T?(E!==!1&&(x.pos+=R+T+1),B+N.slice(0,T)):!1},m=function(x){const M=/^#\?(\S+)/,E=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*FORMAT=(\S+)\s*$/,T=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,R={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let B,N;if(x.pos>=x.byteLength||!(B=d(x)))return a(1,"no header found");if(!(N=B.match(M)))return a(3,"bad initial token");for(R.valid|=1,R.programtype=N[1],R.string+=B+`
`;B=d(x),B!==!1;){if(R.string+=B+`
`,B.charAt(0)==="#"){R.comments+=B+`
`;continue}if((N=B.match(E))&&(R.gamma=parseFloat(N[1])),(N=B.match(C))&&(R.exposure=parseFloat(N[1])),(N=B.match(P))&&(R.valid|=2,R.format=N[1]),(N=B.match(T))&&(R.valid|=4,R.height=parseInt(N[1],10),R.width=parseInt(N[2],10)),R.valid&2&&R.valid&4)break}return R.valid&2?R.valid&4?R:a(3,"missing image size specifier"):a(3,"missing format specifier")},g=function(x,M,E){const C=M;if(C<8||C>32767||x[0]!==2||x[1]!==2||x[2]&128)return new Uint8Array(x);if(C!==(x[2]<<8|x[3]))return a(3,"wrong scanline width");const P=new Uint8Array(4*M*E);if(!P.length)return a(4,"unable to allocate buffer space");let T=0,R=0;const B=4*C,N=new Uint8Array(4),G=new Uint8Array(B);let J=E;for(;J>0&&R<x.byteLength;){if(R+4>x.byteLength)return a(1);if(N[0]=x[R++],N[1]=x[R++],N[2]=x[R++],N[3]=x[R++],N[0]!=2||N[1]!=2||(N[2]<<8|N[3])!=C)return a(3,"bad rgbe scanline format");let D=0,U;for(;D<B&&R<x.byteLength;){U=x[R++];const ie=U>128;if(ie&&(U-=128),U===0||D+U>B)return a(3,"bad scanline data");if(ie){const L=x[R++];for(let O=0;O<U;O++)G[D++]=L}else G.set(x.subarray(R,R+U),D),D+=U,R+=U}const W=C;for(let ie=0;ie<W;ie++){let L=0;P[T]=G[ie+L],L+=C,P[T+1]=G[ie+L],L+=C,P[T+2]=G[ie+L],L+=C,P[T+3]=G[ie+L],T+=4}J--}return P},v=function(x,M,E,C){const P=x[M+3],T=Math.pow(2,P-128)/255;E[C+0]=x[M+0]*T,E[C+1]=x[M+1]*T,E[C+2]=x[M+2]*T,E[C+3]=1},y=function(x,M,E,C){const P=x[M+3],T=Math.pow(2,P-128)/255;E[C+0]=Ku.toHalfFloat(Math.min(x[M+0]*T,65504)),E[C+1]=Ku.toHalfFloat(Math.min(x[M+1]*T,65504)),E[C+2]=Ku.toHalfFloat(Math.min(x[M+2]*T,65504)),E[C+3]=Ku.toHalfFloat(1)},S=new Uint8Array(e);S.pos=0;const w=m(S);if(w!==-1){const x=w.width,M=w.height,E=g(S.subarray(S.pos),x,M);if(E!==-1){let C,P,T;switch(this.type){case Pn:T=E.length/4;const R=new Float32Array(T*4);for(let N=0;N<T;N++)v(E,N*4,R,N*4);C=R,P=Pn;break;case Xn:T=E.length/4;const B=new Uint16Array(T*4);for(let N=0;N<T;N++)y(E,N*4,B,N*4);C=B,P=Xn;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:x,height:M,data:C,header:w.string,gamma:w.gamma,exposure:w.exposure,type:P}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case Pn:case Xn:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=gt,o.magFilter=gt,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const Od="colorSpace"in new bn;class Tte extends T7{constructor(e){super(e),this.type=Xn}parse(e){const R=Math.pow(2.7182818,2.2);function B(F,X){for(var oe=0,pe=0;pe<65536;++pe)(pe==0||F[pe>>3]&1<<(pe&7))&&(X[oe++]=pe);for(var Se=oe-1;oe<65536;)X[oe++]=0;return Se}function N(F){for(var X=0;X<16384;X++)F[X]={},F[X].len=0,F[X].lit=0,F[X].p=null}const G={l:0,c:0,lc:0};function J(F,X,oe,pe,Se){for(;oe<F;)X=X<<8|Xe(pe,Se),oe+=8;oe-=F,G.l=X>>oe&(1<<F)-1,G.c=X,G.lc=oe}const D=new Array(59);function U(F){for(var X=0;X<=58;++X)D[X]=0;for(var X=0;X<65537;++X)D[F[X]]+=1;for(var oe=0,X=58;X>0;--X){var pe=oe+D[X]>>1;D[X]=oe,oe=pe}for(var X=0;X<65537;++X){var Se=F[X];Se>0&&(F[X]=Se|D[Se]++<<6)}}function W(F,X,oe,pe,Se,Me,Ke){for(var Je=oe,tt=0,nt=0;Se<=Me;Se++){if(Je.value-oe.value>pe)return!1;J(6,tt,nt,F,Je);var qe=G.l;if(tt=G.c,nt=G.lc,Ke[Se]=qe,qe==63){if(Je.value-oe.value>pe)throw"Something wrong with hufUnpackEncTable";J(8,tt,nt,F,Je);var ye=G.l+6;if(tt=G.c,nt=G.lc,Se+ye>Me+1)throw"Something wrong with hufUnpackEncTable";for(;ye--;)Ke[Se++]=0;Se--}else if(qe>=59){var ye=qe-59+2;if(Se+ye>Me+1)throw"Something wrong with hufUnpackEncTable";for(;ye--;)Ke[Se++]=0;Se--}}U(Ke)}function ie(F){return F&63}function L(F){return F>>6}function O(F,X,oe,pe){for(;X<=oe;X++){var Se=L(F[X]),Me=ie(F[X]);if(Se>>Me)throw"Invalid table entry";if(Me>14){var Ke=pe[Se>>Me-14];if(Ke.len)throw"Invalid table entry";if(Ke.lit++,Ke.p){var Je=Ke.p;Ke.p=new Array(Ke.lit);for(var tt=0;tt<Ke.lit-1;++tt)Ke.p[tt]=Je[tt]}else Ke.p=new Array(1);Ke.p[Ke.lit-1]=X}else if(Me)for(var nt=0,tt=1<<14-Me;tt>0;tt--){var Ke=pe[(Se<<14-Me)+nt];if(Ke.len||Ke.p)throw"Invalid table entry";Ke.len=Me,Ke.lit=X,nt++}}return!0}const V={c:0,lc:0};function j(F,X,oe,pe){F=F<<8|Xe(oe,pe),X+=8,V.c=F,V.lc=X}const k={c:0,lc:0};function q(F,X,oe,pe,Se,Me,Ke,Je,tt,nt){if(F==X){pe<8&&(j(oe,pe,Se,Ke),oe=V.c,pe=V.lc),pe-=8;var qe=oe>>pe,qe=new Uint8Array([qe])[0];if(tt.value+qe>nt)return!1;for(var ye=Je[tt.value-1];qe-- >0;)Je[tt.value++]=ye}else if(tt.value<nt)Je[tt.value++]=F;else return!1;k.c=oe,k.lc=pe}function ee(F){return F&65535}function Y(F){var X=ee(F);return X>32767?X-65536:X}const Z={a:0,b:0};function ae(F,X){var oe=Y(F),pe=Y(X),Se=pe,Me=oe+(Se&1)+(Se>>1),Ke=Me,Je=Me-Se;Z.a=Ke,Z.b=Je}function re(F,X){var oe=ee(F),pe=ee(X),Se=oe-(pe>>1)&65535,Me=pe+Se-32768&65535;Z.a=Me,Z.b=Se}function me(F,X,oe,pe,Se,Me,Ke){for(var Je=Ke<16384,tt=oe>Se?Se:oe,nt=1,qe;nt<=tt;)nt<<=1;for(nt>>=1,qe=nt,nt>>=1;nt>=1;){for(var ye=0,nn=ye+Me*(Se-qe),ut=Me*nt,pt=Me*qe,Dt=pe*nt,It=pe*qe,Qt,Tt,Mt,Lt;ye<=nn;ye+=pt){for(var Ct=ye,mn=ye+pe*(oe-qe);Ct<=mn;Ct+=It){var zt=Ct+Dt,Sn=Ct+ut,lr=Sn+Dt;Je?(ae(F[Ct+X],F[Sn+X]),Qt=Z.a,Mt=Z.b,ae(F[zt+X],F[lr+X]),Tt=Z.a,Lt=Z.b,ae(Qt,Tt),F[Ct+X]=Z.a,F[zt+X]=Z.b,ae(Mt,Lt),F[Sn+X]=Z.a,F[lr+X]=Z.b):(re(F[Ct+X],F[Sn+X]),Qt=Z.a,Mt=Z.b,re(F[zt+X],F[lr+X]),Tt=Z.a,Lt=Z.b,re(Qt,Tt),F[Ct+X]=Z.a,F[zt+X]=Z.b,re(Mt,Lt),F[Sn+X]=Z.a,F[lr+X]=Z.b)}if(oe&nt){var Sn=Ct+ut;Je?ae(F[Ct+X],F[Sn+X]):re(F[Ct+X],F[Sn+X]),Qt=Z.a,F[Sn+X]=Z.b,F[Ct+X]=Qt}}if(Se&nt)for(var Ct=ye,mn=ye+pe*(oe-qe);Ct<=mn;Ct+=It){var zt=Ct+Dt;Je?ae(F[Ct+X],F[zt+X]):re(F[Ct+X],F[zt+X]),Qt=Z.a,F[zt+X]=Z.b,F[Ct+X]=Qt}qe=nt,nt>>=1}return ye}function Ee(F,X,oe,pe,Se,Me,Ke,Je,tt,nt){for(var qe=0,ye=0,nn=Je,ut=Math.trunc(Se.value+(Me+7)/8);Se.value<ut;)for(j(qe,ye,oe,Se),qe=V.c,ye=V.lc;ye>=14;){var pt=qe>>ye-14&16383,Dt=X[pt];if(Dt.len)ye-=Dt.len,q(Dt.lit,Ke,qe,ye,oe,pe,Se,tt,nt,nn),qe=k.c,ye=k.lc;else{if(!Dt.p)throw"hufDecode issues";var It;for(It=0;It<Dt.lit;It++){for(var Qt=ie(F[Dt.p[It]]);ye<Qt&&Se.value<ut;)j(qe,ye,oe,Se),qe=V.c,ye=V.lc;if(ye>=Qt&&L(F[Dt.p[It]])==(qe>>ye-Qt&(1<<Qt)-1)){ye-=Qt,q(Dt.p[It],Ke,qe,ye,oe,pe,Se,tt,nt,nn),qe=k.c,ye=k.lc;break}}if(It==Dt.lit)throw"hufDecode issues"}}var Tt=8-Me&7;for(qe>>=Tt,ye-=Tt;ye>0;){var Dt=X[qe<<14-ye&16383];if(Dt.len)ye-=Dt.len,q(Dt.lit,Ke,qe,ye,oe,pe,Se,tt,nt,nn),qe=k.c,ye=k.lc;else throw"hufDecode issues"}return!0}function _e(F,X,oe,pe,Se,Me){var Ke={value:0},Je=oe.value,tt=je(X,oe),nt=je(X,oe);oe.value+=4;var qe=je(X,oe);if(oe.value+=4,tt<0||tt>=65537||nt<0||nt>=65537)throw"Something wrong with HUF_ENCSIZE";var ye=new Array(65537),nn=new Array(16384);N(nn);var ut=pe-(oe.value-Je);if(W(F,X,oe,ut,tt,nt,ye),qe>8*(pe-(oe.value-Je)))throw"Something wrong with hufUncompress";O(ye,tt,nt,nn),Ee(ye,nn,F,X,oe,qe,nt,Me,Se,Ke)}function se(F,X,oe){for(var pe=0;pe<oe;++pe)X[pe]=F[X[pe]]}function xe(F){for(var X=1;X<F.length;X++){var oe=F[X-1]+F[X]-128;F[X]=oe}}function Le(F,X){for(var oe=0,pe=Math.floor((F.length+1)/2),Se=0,Me=F.length-1;!(Se>Me||(X[Se++]=F[oe++],Se>Me));)X[Se++]=F[pe++]}function Ce(F){for(var X=F.byteLength,oe=new Array,pe=0,Se=new DataView(F);X>0;){var Me=Se.getInt8(pe++);if(Me<0){var Ke=-Me;X-=Ke+1;for(var Je=0;Je<Ke;Je++)oe.push(Se.getUint8(pe++))}else{var Ke=Me;X-=2;for(var tt=Se.getUint8(pe++),Je=0;Je<Ke+1;Je++)oe.push(tt)}}return oe}function Be(F,X,oe,pe,Se,Me){var zt=new DataView(Me.buffer),Ke=oe[F.idx[0]].width,Je=oe[F.idx[0]].height,tt=3,nt=Math.floor(Ke/8),qe=Math.ceil(Ke/8),ye=Math.ceil(Je/8),nn=Ke-(qe-1)*8,ut=Je-(ye-1)*8,pt={value:0},Dt=new Array(tt),It=new Array(tt),Qt=new Array(tt),Tt=new Array(tt),Mt=new Array(tt);for(let gn=0;gn<tt;++gn)Mt[gn]=X[F.idx[gn]],Dt[gn]=gn<1?0:Dt[gn-1]+qe*ye,It[gn]=new Float32Array(64),Qt[gn]=new Uint16Array(64),Tt[gn]=new Uint16Array(qe*64);for(let gn=0;gn<ye;++gn){var Lt=8;gn==ye-1&&(Lt=ut);var Ct=8;for(let xn=0;xn<qe;++xn){xn==qe-1&&(Ct=nn);for(let Xt=0;Xt<tt;++Xt)Qt[Xt].fill(0),Qt[Xt][0]=Se[Dt[Xt]++],He(pt,pe,Qt[Xt]),Te(Qt[Xt],It[Xt]),Ye(It[Xt]);We(It);for(let Xt=0;Xt<tt;++Xt)De(It[Xt],Tt[Xt],xn*64)}let qn=0;for(let xn=0;xn<tt;++xn){const Xt=oe[F.idx[xn]].type;for(let Nn=8*gn;Nn<8*gn+Lt;++Nn){qn=Mt[xn][Nn];for(let Gi=0;Gi<nt;++Gi){const gr=Gi*64+(Nn&7)*8;zt.setUint16(qn+0*2*Xt,Tt[xn][gr+0],!0),zt.setUint16(qn+1*2*Xt,Tt[xn][gr+1],!0),zt.setUint16(qn+2*2*Xt,Tt[xn][gr+2],!0),zt.setUint16(qn+3*2*Xt,Tt[xn][gr+3],!0),zt.setUint16(qn+4*2*Xt,Tt[xn][gr+4],!0),zt.setUint16(qn+5*2*Xt,Tt[xn][gr+5],!0),zt.setUint16(qn+6*2*Xt,Tt[xn][gr+6],!0),zt.setUint16(qn+7*2*Xt,Tt[xn][gr+7],!0),qn+=8*2*Xt}}if(nt!=qe)for(let Nn=8*gn;Nn<8*gn+Lt;++Nn){const Gi=Mt[xn][Nn]+8*nt*2*Xt,gr=nt*64+(Nn&7)*8;for(let is=0;is<Ct;++is)zt.setUint16(Gi+is*2*Xt,Tt[xn][gr+is],!0)}}}for(var mn=new Uint16Array(Ke),zt=new DataView(Me.buffer),Sn=0;Sn<tt;++Sn){oe[F.idx[Sn]].decoded=!0;var lr=oe[F.idx[Sn]].type;if(oe[Sn].type==2)for(var Yn=0;Yn<Je;++Yn){const gn=Mt[Sn][Yn];for(var Kn=0;Kn<Ke;++Kn)mn[Kn]=zt.getUint16(gn+Kn*2*lr,!0);for(var Kn=0;Kn<Ke;++Kn)zt.setFloat32(gn+Kn*2*lr,ce(mn[Kn]),!0)}}}function He(F,X,oe){for(var pe,Se=1;Se<64;)pe=X[F.value],pe==65280?Se=64:pe>>8==255?Se+=pe&255:(oe[Se]=pe,Se++),F.value++}function Te(F,X){X[0]=ce(F[0]),X[1]=ce(F[1]),X[2]=ce(F[5]),X[3]=ce(F[6]),X[4]=ce(F[14]),X[5]=ce(F[15]),X[6]=ce(F[27]),X[7]=ce(F[28]),X[8]=ce(F[2]),X[9]=ce(F[4]),X[10]=ce(F[7]),X[11]=ce(F[13]),X[12]=ce(F[16]),X[13]=ce(F[26]),X[14]=ce(F[29]),X[15]=ce(F[42]),X[16]=ce(F[3]),X[17]=ce(F[8]),X[18]=ce(F[12]),X[19]=ce(F[17]),X[20]=ce(F[25]),X[21]=ce(F[30]),X[22]=ce(F[41]),X[23]=ce(F[43]),X[24]=ce(F[9]),X[25]=ce(F[11]),X[26]=ce(F[18]),X[27]=ce(F[24]),X[28]=ce(F[31]),X[29]=ce(F[40]),X[30]=ce(F[44]),X[31]=ce(F[53]),X[32]=ce(F[10]),X[33]=ce(F[19]),X[34]=ce(F[23]),X[35]=ce(F[32]),X[36]=ce(F[39]),X[37]=ce(F[45]),X[38]=ce(F[52]),X[39]=ce(F[54]),X[40]=ce(F[20]),X[41]=ce(F[22]),X[42]=ce(F[33]),X[43]=ce(F[38]),X[44]=ce(F[46]),X[45]=ce(F[51]),X[46]=ce(F[55]),X[47]=ce(F[60]),X[48]=ce(F[21]),X[49]=ce(F[34]),X[50]=ce(F[37]),X[51]=ce(F[47]),X[52]=ce(F[50]),X[53]=ce(F[56]),X[54]=ce(F[59]),X[55]=ce(F[61]),X[56]=ce(F[35]),X[57]=ce(F[36]),X[58]=ce(F[48]),X[59]=ce(F[49]),X[60]=ce(F[57]),X[61]=ce(F[58]),X[62]=ce(F[62]),X[63]=ce(F[63])}function Ye(F){const X=.5*Math.cos(.7853975),oe=.5*Math.cos(3.14159/16),pe=.5*Math.cos(3.14159/8),Se=.5*Math.cos(3*3.14159/16),Me=.5*Math.cos(5*3.14159/16),Ke=.5*Math.cos(3*3.14159/8),Je=.5*Math.cos(7*3.14159/16);for(var tt=new Array(4),nt=new Array(4),qe=new Array(4),ye=new Array(4),nn=0;nn<8;++nn){var ut=nn*8;tt[0]=pe*F[ut+2],tt[1]=Ke*F[ut+2],tt[2]=pe*F[ut+6],tt[3]=Ke*F[ut+6],nt[0]=oe*F[ut+1]+Se*F[ut+3]+Me*F[ut+5]+Je*F[ut+7],nt[1]=Se*F[ut+1]-Je*F[ut+3]-oe*F[ut+5]-Me*F[ut+7],nt[2]=Me*F[ut+1]-oe*F[ut+3]+Je*F[ut+5]+Se*F[ut+7],nt[3]=Je*F[ut+1]-Me*F[ut+3]+Se*F[ut+5]-oe*F[ut+7],qe[0]=X*(F[ut+0]+F[ut+4]),qe[3]=X*(F[ut+0]-F[ut+4]),qe[1]=tt[0]+tt[3],qe[2]=tt[1]-tt[2],ye[0]=qe[0]+qe[1],ye[1]=qe[3]+qe[2],ye[2]=qe[3]-qe[2],ye[3]=qe[0]-qe[1],F[ut+0]=ye[0]+nt[0],F[ut+1]=ye[1]+nt[1],F[ut+2]=ye[2]+nt[2],F[ut+3]=ye[3]+nt[3],F[ut+4]=ye[3]-nt[3],F[ut+5]=ye[2]-nt[2],F[ut+6]=ye[1]-nt[1],F[ut+7]=ye[0]-nt[0]}for(var pt=0;pt<8;++pt)tt[0]=pe*F[16+pt],tt[1]=Ke*F[16+pt],tt[2]=pe*F[48+pt],tt[3]=Ke*F[48+pt],nt[0]=oe*F[8+pt]+Se*F[24+pt]+Me*F[40+pt]+Je*F[56+pt],nt[1]=Se*F[8+pt]-Je*F[24+pt]-oe*F[40+pt]-Me*F[56+pt],nt[2]=Me*F[8+pt]-oe*F[24+pt]+Je*F[40+pt]+Se*F[56+pt],nt[3]=Je*F[8+pt]-Me*F[24+pt]+Se*F[40+pt]-oe*F[56+pt],qe[0]=X*(F[pt]+F[32+pt]),qe[3]=X*(F[pt]-F[32+pt]),qe[1]=tt[0]+tt[3],qe[2]=tt[1]-tt[2],ye[0]=qe[0]+qe[1],ye[1]=qe[3]+qe[2],ye[2]=qe[3]-qe[2],ye[3]=qe[0]-qe[1],F[0+pt]=ye[0]+nt[0],F[8+pt]=ye[1]+nt[1],F[16+pt]=ye[2]+nt[2],F[24+pt]=ye[3]+nt[3],F[32+pt]=ye[3]-nt[3],F[40+pt]=ye[2]-nt[2],F[48+pt]=ye[1]-nt[1],F[56+pt]=ye[0]-nt[0]}function We(F){for(var X=0;X<64;++X){var oe=F[0][X],pe=F[1][X],Se=F[2][X];F[0][X]=oe+1.5747*Se,F[1][X]=oe-.1873*pe-.4682*Se,F[2][X]=oe+1.8556*pe}}function De(F,X,oe){for(var pe=0;pe<64;++pe)X[oe+pe]=Ku.toHalfFloat(Q(F[pe]))}function Q(F){return F<=1?Math.sign(F)*Math.pow(Math.abs(F),2.2):Math.sign(F)*Math.pow(R,Math.abs(F)-1)}function z(F){return new DataView(F.array.buffer,F.offset.value,F.size)}function ue(F){var X=F.viewer.buffer.slice(F.offset.value,F.offset.value+F.size),oe=new Uint8Array(Ce(X)),pe=new Uint8Array(oe.length);return xe(oe),Le(oe,pe),new DataView(pe.buffer)}function we(F){var X=F.array.slice(F.offset.value,F.offset.value+F.size),oe=wm(X),pe=new Uint8Array(oe.length);return xe(oe),Le(oe,pe),new DataView(pe.buffer)}function Ge(F){for(var X=F.viewer,oe={value:F.offset.value},pe=new Uint16Array(F.width*F.scanlineBlockSize*(F.channels*F.type)),Se=new Uint8Array(8192),Me=0,Ke=new Array(F.channels),Je=0;Je<F.channels;Je++)Ke[Je]={},Ke[Je].start=Me,Ke[Je].end=Ke[Je].start,Ke[Je].nx=F.width,Ke[Je].ny=F.lines,Ke[Je].size=F.type,Me+=Ke[Je].nx*Ke[Je].ny*Ke[Je].size;var tt=Oe(X,oe),nt=Oe(X,oe);if(nt>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(tt<=nt)for(var Je=0;Je<nt-tt+1;Je++)Se[Je+tt]=le(X,oe);var qe=new Uint16Array(65536),ye=B(Se,qe),nn=je(X,oe);_e(F.array,X,oe,nn,pe,Me);for(var Je=0;Je<F.channels;++Je)for(var ut=Ke[Je],pt=0;pt<Ke[Je].size;++pt)me(pe,ut.start+pt,ut.nx,ut.size,ut.ny,ut.nx*ut.size,ye);se(qe,pe,Me);for(var Dt=0,It=new Uint8Array(pe.buffer.byteLength),Qt=0;Qt<F.lines;Qt++)for(var Tt=0;Tt<F.channels;Tt++){var ut=Ke[Tt],Mt=ut.nx*ut.size,Lt=new Uint8Array(pe.buffer,ut.end*2,Mt*2);It.set(Lt,Dt),Dt+=Mt*2,ut.end+=Mt}return new DataView(It.buffer)}function Ve(F){var X=F.array.slice(F.offset.value,F.offset.value+F.size),oe=wm(X);const pe=F.lines*F.channels*F.width,Se=F.type==1?new Uint16Array(pe):new Uint32Array(pe);let Me=0,Ke=0;const Je=new Array(4);for(let tt=0;tt<F.lines;tt++)for(let nt=0;nt<F.channels;nt++){let qe=0;switch(F.type){case 1:Je[0]=Me,Je[1]=Je[0]+F.width,Me=Je[1]+F.width;for(let ye=0;ye<F.width;++ye){const nn=oe[Je[0]++]<<8|oe[Je[1]++];qe+=nn,Se[Ke]=qe,Ke++}break;case 2:Je[0]=Me,Je[1]=Je[0]+F.width,Je[2]=Je[1]+F.width,Me=Je[2]+F.width;for(let ye=0;ye<F.width;++ye){const nn=oe[Je[0]++]<<24|oe[Je[1]++]<<16|oe[Je[2]++]<<8;qe+=nn,Se[Ke]=qe,Ke++}break}}return new DataView(Se.buffer)}function ze(F){var X=F.viewer,oe={value:F.offset.value},pe=new Uint8Array(F.width*F.lines*(F.channels*F.type*2)),Se={version:Re(X,oe),unknownUncompressedSize:Re(X,oe),unknownCompressedSize:Re(X,oe),acCompressedSize:Re(X,oe),dcCompressedSize:Re(X,oe),rleCompressedSize:Re(X,oe),rleUncompressedSize:Re(X,oe),rleRawSize:Re(X,oe),totalAcUncompressedCount:Re(X,oe),totalDcUncompressedCount:Re(X,oe),acCompression:Re(X,oe)};if(Se.version<2)throw"EXRLoader.parse: "+Pe.compression+" version "+Se.version+" is unsupported";for(var Me=new Array,Ke=Oe(X,oe)-2;Ke>0;){var Je=Ze(X.buffer,oe),tt=le(X,oe),nt=tt>>2&3,qe=(tt>>4)-1,ye=new Int8Array([qe])[0],nn=le(X,oe);Me.push({name:Je,index:ye,type:nn,compression:nt}),Ke-=Je.length+3}for(var ut=Pe.channels,pt=new Array(F.channels),Dt=0;Dt<F.channels;++Dt){var It=pt[Dt]={},Qt=ut[Dt];It.name=Qt.name,It.compression=0,It.decoded=!1,It.type=Qt.pixelType,It.pLinear=Qt.pLinear,It.width=F.width,It.height=F.lines}for(var Tt={idx:new Array(3)},Mt=0;Mt<F.channels;++Mt)for(var It=pt[Mt],Dt=0;Dt<Me.length;++Dt){var Lt=Me[Dt];It.name==Lt.name&&(It.compression=Lt.compression,Lt.index>=0&&(Tt.idx[Lt.index]=Mt),It.offset=Mt)}if(Se.acCompressedSize>0)switch(Se.acCompression){case 0:var zt=new Uint16Array(Se.totalAcUncompressedCount);_e(F.array,X,oe,Se.acCompressedSize,zt,Se.totalAcUncompressedCount);break;case 1:var Ct=F.array.slice(oe.value,oe.value+Se.totalAcUncompressedCount),mn=wm(Ct),zt=new Uint16Array(mn.buffer);oe.value+=Se.totalAcUncompressedCount;break}if(Se.dcCompressedSize>0){var Sn={array:F.array,offset:oe,size:Se.dcCompressedSize},lr=new Uint16Array(we(Sn).buffer);oe.value+=Se.dcCompressedSize}if(Se.rleRawSize>0){var Ct=F.array.slice(oe.value,oe.value+Se.rleCompressedSize),mn=wm(Ct),Yn=Ce(mn.buffer);oe.value+=Se.rleCompressedSize}for(var Kn=0,gn=new Array(pt.length),Dt=0;Dt<gn.length;++Dt)gn[Dt]=new Array;for(var qn=0;qn<F.lines;++qn)for(var xn=0;xn<pt.length;++xn)gn[xn].push(Kn),Kn+=pt[xn].width*F.type*2;Be(Tt,gn,pt,zt,lr,pe);for(var Dt=0;Dt<pt.length;++Dt){var It=pt[Dt];if(!It.decoded)switch(It.compression){case 2:for(var Xt=0,Nn=0,qn=0;qn<F.lines;++qn){for(var Gi=gn[Dt][Xt],gr=0;gr<It.width;++gr){for(var is=0;is<2*It.type;++is)pe[Gi++]=Yn[Nn+is*It.width*It.height];Nn++}Xt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(pe.buffer)}function Ze(F,X){for(var oe=new Uint8Array(F),pe=0;oe[X.value+pe]!=0;)pe+=1;var Se=new TextDecoder().decode(oe.slice(X.value,X.value+pe));return X.value=X.value+pe+1,Se}function Ie(F,X,oe){var pe=new TextDecoder().decode(new Uint8Array(F).slice(X.value,X.value+oe));return X.value=X.value+oe,pe}function at(F,X){var oe=st(F,X),pe=je(F,X);return[oe,pe]}function Qe(F,X){var oe=je(F,X),pe=je(F,X);return[oe,pe]}function st(F,X){var oe=F.getInt32(X.value,!0);return X.value=X.value+4,oe}function je(F,X){var oe=F.getUint32(X.value,!0);return X.value=X.value+4,oe}function Xe(F,X){var oe=F[X.value];return X.value=X.value+1,oe}function le(F,X){var oe=F.getUint8(X.value);return X.value=X.value+1,oe}const Re=function(F,X){let oe;return"getBigInt64"in DataView.prototype?oe=Number(F.getBigInt64(X.value,!0)):oe=F.getUint32(X.value+4,!0)+Number(F.getUint32(X.value,!0)<<32),X.value+=8,oe};function $e(F,X){var oe=F.getFloat32(X.value,!0);return X.value+=4,oe}function ne(F,X){return Ku.toHalfFloat($e(F,X))}function ce(F){var X=(F&31744)>>10,oe=F&1023;return(F>>15?-1:1)*(X?X===31?oe?NaN:1/0:Math.pow(2,X-15)*(1+oe/1024):6103515625e-14*(oe/1024))}function Oe(F,X){var oe=F.getUint16(X.value,!0);return X.value+=2,oe}function it(F,X){return ce(Oe(F,X))}function dt(F,X,oe,pe){for(var Se=oe.value,Me=[];oe.value<Se+pe-1;){var Ke=Ze(X,oe),Je=st(F,oe),tt=le(F,oe);oe.value+=3;var nt=st(F,oe),qe=st(F,oe);Me.push({name:Ke,pixelType:Je,pLinear:tt,xSampling:nt,ySampling:qe})}return oe.value+=1,Me}function Kt(F,X){var oe=$e(F,X),pe=$e(F,X),Se=$e(F,X),Me=$e(F,X),Ke=$e(F,X),Je=$e(F,X),tt=$e(F,X),nt=$e(F,X);return{redX:oe,redY:pe,greenX:Se,greenY:Me,blueX:Ke,blueY:Je,whiteX:tt,whiteY:nt}}function Ot(F,X){var oe=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],pe=le(F,X);return oe[pe]}function Wt(F,X){var oe=je(F,X),pe=je(F,X),Se=je(F,X),Me=je(F,X);return{xMin:oe,yMin:pe,xMax:Se,yMax:Me}}function jt(F,X){var oe=["INCREASING_Y"],pe=le(F,X);return oe[pe]}function on(F,X){var oe=$e(F,X),pe=$e(F,X);return[oe,pe]}function Gt(F,X){var oe=$e(F,X),pe=$e(F,X),Se=$e(F,X);return[oe,pe,Se]}function Zt(F,X,oe,pe,Se){if(pe==="string"||pe==="stringvector"||pe==="iccProfile")return Ie(X,oe,Se);if(pe==="chlist")return dt(F,X,oe,Se);if(pe==="chromaticities")return Kt(F,oe);if(pe==="compression")return Ot(F,oe);if(pe==="box2i")return Wt(F,oe);if(pe==="lineOrder")return jt(F,oe);if(pe==="float")return $e(F,oe);if(pe==="v2f")return on(F,oe);if(pe==="v3f")return Gt(F,oe);if(pe==="int")return st(F,oe);if(pe==="rational")return at(F,oe);if(pe==="timecode")return Qe(F,oe);if(pe==="preview")return oe.value+=Se,"skipped";oe.value+=Se}function Zr(F,X,oe){const pe={};if(F.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";pe.version=F.getUint8(4);const Se=F.getUint8(5);pe.spec={singleTile:!!(Se&2),longName:!!(Se&4),deepFormat:!!(Se&8),multiPart:!!(Se&16)},oe.value=8;for(var Me=!0;Me;){var Ke=Ze(X,oe);if(Ke==0)Me=!1;else{var Je=Ze(X,oe),tt=je(F,oe),nt=Zt(F,X,oe,Je,tt);nt===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Je}'.`):pe[Ke]=nt}}if(Se!=0)throw console.error("EXRHeader:",pe),"THREE.EXRLoader: provided file is currently unsupported.";return pe}function Dr(F,X,oe,pe,Se){const Me={size:0,viewer:X,array:oe,offset:pe,width:F.dataWindow.xMax-F.dataWindow.xMin+1,height:F.dataWindow.yMax-F.dataWindow.yMin+1,channels:F.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:F.channels[0].pixelType,uncompress:null,getter:null,format:null,[Od?"colorSpace":"encoding"]:null};switch(F.compression){case"NO_COMPRESSION":Me.lines=1,Me.uncompress=z;break;case"RLE_COMPRESSION":Me.lines=1,Me.uncompress=ue;break;case"ZIPS_COMPRESSION":Me.lines=1,Me.uncompress=we;break;case"ZIP_COMPRESSION":Me.lines=16,Me.uncompress=we;break;case"PIZ_COMPRESSION":Me.lines=32,Me.uncompress=Ge;break;case"PXR24_COMPRESSION":Me.lines=16,Me.uncompress=Ve;break;case"DWAA_COMPRESSION":Me.lines=32,Me.uncompress=ze;break;case"DWAB_COMPRESSION":Me.lines=256,Me.uncompress=ze;break;default:throw"EXRLoader.parse: "+F.compression+" is unsupported"}if(Me.scanlineBlockSize=Me.lines,Me.type==1)switch(Se){case Pn:Me.getter=it,Me.inputSize=2;break;case Xn:Me.getter=Oe,Me.inputSize=2;break}else if(Me.type==2)switch(Se){case Pn:Me.getter=$e,Me.inputSize=4;break;case Xn:Me.getter=ne,Me.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Me.type+" for "+F.compression+".";Me.blockCount=(F.dataWindow.yMax+1)/Me.scanlineBlockSize;for(var Ke=0;Ke<Me.blockCount;Ke++)Re(X,pe);Me.outputChannels=Me.channels==3?4:Me.channels;const Je=Me.width*Me.height*Me.outputChannels;switch(Se){case Pn:Me.byteArray=new Float32Array(Je),Me.channels<Me.outputChannels&&Me.byteArray.fill(1,0,Je);break;case Xn:Me.byteArray=new Uint16Array(Je),Me.channels<Me.outputChannels&&Me.byteArray.fill(15360,0,Je);break;default:console.error("THREE.EXRLoader: unsupported type: ",Se);break}return Me.bytesPerLine=Me.width*Me.inputSize*Me.channels,Me.outputChannels==4?Me.format=zn:Me.format=k0,Od?Me.colorSpace="srgb-linear":Me.encoding=3e3,Me}const un=new DataView(e),$=new Uint8Array(e),Ae={value:0},Pe=Zr(un,e,Ae),fe=Dr(Pe,un,$,Ae,this.type),Fe={value:0},wt={R:0,G:1,B:2,A:3,Y:0};for(let F=0;F<fe.height/fe.scanlineBlockSize;F++){const X=je(un,Ae);fe.size=je(un,Ae),fe.lines=X+fe.scanlineBlockSize>fe.height?fe.height-X:fe.scanlineBlockSize;const pe=fe.size<fe.lines*fe.bytesPerLine?fe.uncompress(fe):z(fe);Ae.value+=fe.size;for(let Se=0;Se<fe.scanlineBlockSize;Se++){const Me=Se+F*fe.scanlineBlockSize;if(Me>=fe.height)break;for(let Ke=0;Ke<fe.channels;Ke++){const Je=wt[Pe.channels[Ke].name];for(let tt=0;tt<fe.width;tt++){Fe.value=(Se*(fe.channels*fe.width)+Ke*fe.width+tt)*fe.inputSize;const nt=(fe.height-1-Me)*(fe.width*fe.outputChannels)+tt*fe.outputChannels+Je;fe.byteArray[nt]=fe.getter(pe,Fe)}}}}return{header:Pe,width:fe.width,height:fe.height,data:fe.byteArray,format:fe.format,[Od?"colorSpace":"encoding"]:fe[Od?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){Od?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=gt,o.magFilter=gt,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}const c4=new WeakMap;class Cte extends zi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new _s(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(c4.has(e)){const l=c4.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),c4.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Vt;e.index&&n.setIndex(new ln(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new ln(o,a))}return n}_loadLibrary(e,n){const r=new _s(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=bte.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function bte(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,d=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=n(f,d,m,u),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(d)}});break}};function n(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let d,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const y in c){const S=self[f[y]];let w,x;if(u.useUniqueIDs)x=c[y],w=a.GetAttributeByUniqueId(d,x);else{if(x=a.GetAttributeId(d,o[c[y]]),x===-1)continue;w=a.GetAttribute(d,x)}v.attributes.push(i(o,a,d,y,S,w))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,d)),o.destroy(d),v}function r(o,a,l){const c=l.num_faces()*3,f=c*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const m=new Uint32Array(o.HEAPF32.buffer,d,c).slice();return o._free(d),{array:m,itemSize:1}}function i(o,a,l,u,c,f){const d=f.num_components(),g=l.num_points()*d,v=g*c.BYTES_PER_ELEMENT,y=s(o,c),S=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,S);const w=new c(o.HEAPF32.buffer,S,g).slice();return o._free(S),{name:u,array:w,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const gT=new rs,_m=new K;class iw extends bv{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new St(e,3)),this.setAttribute("uv",new St(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new wg(n,6,1);return this.setAttribute("instanceStart",new Qi(r,3,0)),this.setAttribute("instanceEnd",new Qi(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new wg(n,6,1);return this.setAttribute("instanceColorStart",new Qi(r,3,0)),this.setAttribute("instanceColorEnd",new Qi(r,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new y7(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rs);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),gT.setFromBufferAttribute(n),this.boundingBox.union(gT))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cs),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)_m.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(_m)),_m.fromBufferAttribute(n,s),i=Math.max(i,r.distanceToSquared(_m));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class KI extends iw{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setColors(r),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class sw extends Ht{constructor(e){super({type:"LineMaterial",uniforms:gc.clone(gc.merge([ct.common,ct.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ve(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <${parseInt(qs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(n){Boolean(n)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(n){Boolean(n)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const vT=new K,yT=new K,qr=new qt,$r=new qt,Go=new qt,f4=new K,h4=new ht,mi=new KB,xT=new K,Mm=new rs,Am=new Cs,Ho=new qt;let Yo,t9,ZI,sc;function wT(t,e,n){return Ho.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Ho.multiplyScalar(1/Ho.w),Ho.x=sc/n.width,Ho.y=sc/n.height,Ho.applyMatrix4(t.projectionMatrixInverse),Ho.multiplyScalar(1/Ho.w),Math.abs(Math.max(Ho.x,Ho.y))}function Pte(t,e){for(let n=0,r=t9.count;n<r;n++){mi.start.fromBufferAttribute(t9,n),mi.end.fromBufferAttribute(ZI,n);const i=new K,s=new K;Yo.distanceSqToSegment(mi.start,mi.end,s,i),s.distanceTo(i)<sc*.5&&e.push({point:s,pointOnLine:i,distance:Yo.origin.distanceTo(s),object:t,face:null,faceIndex:n,uv:null,uv2:null})}}function Rte(t,e,n){const r=e.projectionMatrix,s=t.material.resolution,o=t.matrixWorld,a=t.geometry,l=a.attributes.instanceStart,u=a.attributes.instanceEnd,c=-e.near;Yo.at(1,Go),Go.w=1,Go.applyMatrix4(e.matrixWorldInverse),Go.applyMatrix4(r),Go.multiplyScalar(1/Go.w),Go.x*=s.x/2,Go.y*=s.y/2,Go.z=0,f4.copy(Go),h4.multiplyMatrices(e.matrixWorldInverse,o);for(let f=0,d=l.count;f<d;f++){if(qr.fromBufferAttribute(l,f),$r.fromBufferAttribute(u,f),qr.w=1,$r.w=1,qr.applyMatrix4(h4),$r.applyMatrix4(h4),qr.z>c&&$r.z>c)continue;if(qr.z>c){const w=qr.z-$r.z,x=(qr.z-c)/w;qr.lerp($r,x)}else if($r.z>c){const w=$r.z-qr.z,x=($r.z-c)/w;$r.lerp(qr,x)}qr.applyMatrix4(r),$r.applyMatrix4(r),qr.multiplyScalar(1/qr.w),$r.multiplyScalar(1/$r.w),qr.x*=s.x/2,qr.y*=s.y/2,$r.x*=s.x/2,$r.y*=s.y/2,mi.start.copy(qr),mi.start.z=0,mi.end.copy($r),mi.end.z=0;const g=mi.closestPointToPointParameter(f4,!0);mi.at(g,xT);const v=yo.lerp(qr.z,$r.z,g),y=v>=-1&&v<=1,S=f4.distanceTo(xT)<sc*.5;if(y&&S){mi.start.fromBufferAttribute(l,f),mi.end.fromBufferAttribute(u,f),mi.start.applyMatrix4(o),mi.end.applyMatrix4(o);const w=new K,x=new K;Yo.distanceSqToSegment(mi.start,mi.end,x,w),n.push({point:x,pointOnLine:w,distance:Yo.origin.distanceTo(x),object:t,face:null,faceIndex:f,uv:null,uv2:null})}}}class QI extends Un{constructor(e=new iw,n=new sw({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let o=0,a=0,l=n.count;o<l;o++,a+=2)vT.fromBufferAttribute(n,o),yT.fromBufferAttribute(r,o),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+vT.distanceTo(yT);const s=new wg(i,2,1);return e.setAttribute("instanceDistanceStart",new Qi(s,1,0)),e.setAttribute("instanceDistanceEnd",new Qi(s,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Yo=e.ray;const o=this.matrixWorld,a=this.geometry,l=this.material;sc=l.linewidth+s,t9=a.attributes.instanceStart,ZI=a.attributes.instanceEnd,a.boundingSphere===null&&a.computeBoundingSphere(),Am.copy(a.boundingSphere).applyMatrix4(o);let u;if(r)u=sc*.5;else{const f=Math.max(i.near,Am.distanceToPoint(Yo.origin));u=wT(i,f,l.resolution)}if(Am.radius+=u,Yo.intersectsSphere(Am)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),Mm.copy(a.boundingBox).applyMatrix4(o);let c;if(r)c=sc*.5;else{const f=Math.max(i.near,Mm.distanceToPoint(Yo.origin));c=wT(i,f,l.resolution)}Mm.expandByScalar(c),Yo.intersectsBox(Mm)!==!1&&(r?Pte(this,n):Rte(this,i,n))}}class Dte extends QI{constructor(e=new KI,n=new sw({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}let Em;const d4=()=>{if(Em)return Em;const t="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",e="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);d[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<f.length;++g)d[m++]=d[g]<60?r[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,m)}function l(f,d,m,g,v,y){const S=s.exports.sbrk,w=m+3&-4,x=S(w*g),M=S(v.length),E=new Uint8Array(s.exports.memory.buffer);E.set(v,M);const C=f(x,m,g,M,v.length);if(C===0&&y&&y(x,w,g),d.set(E.subarray(x,x+m*g)),S(x-S(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Em={ready:o,supported:!0,decodeVertexBuffer(f,d,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,d,m,g,s.exports[u[v]])},decodeIndexBuffer(f,d,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,d,m,g)},decodeIndexSequence(f,d,m,g){l(s.exports.meshopt_decodeIndexSequence,f,d,m,g)},decodeGltfBuffer(f,d,m,g,v,y){l(s.exports[c[v]],f,d,m,g,s.exports[u[y]])}},Em},p4=H.forwardRef(function({points:e,color:n="black",vertexColors:r,linewidth:i,lineWidth:s,segments:o,dashed:a,...l},u){const c=en(g=>g.size),f=H.useMemo(()=>o?new QI:new Dte,[o]),[d]=H.useState(()=>new sw),m=H.useMemo(()=>{const g=o?new iw:new KI,v=e.map(y=>{const S=Array.isArray(y);return y instanceof K?[y.x,y.y,y.z]:y instanceof ve?[y.x,y.y,0]:S&&y.length===3?[y[0],y[1],y[2]]:S&&y.length===2?[y[0],y[1],0]:y});if(g.setPositions(v.flat()),r){const y=r.map(S=>S instanceof et?S.toArray():S);g.setColors(y.flat())}return g},[e,o,r]);return H.useLayoutEffect(()=>{f.computeLineDistances()},[e,f]),H.useLayoutEffect(()=>{a?d.defines.USE_DASH="":delete d.defines.USE_DASH,d.needsUpdate=!0},[a,d]),H.useEffect(()=>()=>m.dispose(),[m]),H.createElement("primitive",Pr({object:f,ref:u},l),H.createElement("primitive",{object:m,attach:"geometry"}),H.createElement("primitive",Pr({object:d,attach:"material",color:n,vertexColors:Boolean(r),resolution:[c.width,c.height],linewidth:i??s,dashed:a},l)))});function Bte(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(m){if(m instanceof Error)throw m}),d=t[d.id].value),d}),u=r("<"+a+">.init",u),c&&(c=r("<"+a+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return s(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){s(f)}function c(f){try{var d=t[a].getTransferables&&t[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function Ite(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var qI=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return qI=function(){return t},t},Lte=0,Fte=0,m4=!1,Cp=Object.create(null),bp=Object.create(null),n9=Object.create(null);function o3(t){if((!t||typeof t.init!="function")&&!m4)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId;if(!qI())return Ite(t);i==null&&(i="#default");var s="workerModule"+ ++Lte,o=t.name||s,a=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(m4=!0,u=o3({workerId:i,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+c1(u)+`
)}`}),m4=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function l(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];if(!a){a=ST(i,"registerModule",l.workerModuleData);var f=function(){a=null,bp[i].delete(f)};(bp[i]||(bp[i]=new Set)).add(f)}return a.then(function(d){var m=d.isCallable;if(m)return ST(i,"callModule",{id:s,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:c1(n),getTransferables:r&&c1(r)},l}function kte(t){bp[t]&&bp[t].forEach(function(e){e()}),Cp[t]&&(Cp[t].terminate(),delete Cp[t])}function c1(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Ute(t){var e=Cp[t];if(!e){var n=c1(Bte);e=Cp[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=n9[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete n9[s],o(i)}}return e}function ST(t,e,n){return new Promise(function(r,i){var s=++Fte;n9[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Ute(t).postMessage({messageId:s,action:e,data:n})})}function $I(){var t=function(e){function n(O,V,j,k,q,ee,Y,Z){var ae=1-Y;Z.x=ae*ae*O+2*ae*Y*j+Y*Y*q,Z.y=ae*ae*V+2*ae*Y*k+Y*Y*ee}function r(O,V,j,k,q,ee,Y,Z,ae,re){var me=1-ae;re.x=me*me*me*O+3*me*me*ae*j+3*me*ae*ae*q+ae*ae*ae*Y,re.y=me*me*me*V+3*me*me*ae*k+3*me*ae*ae*ee+ae*ae*ae*Z}function i(O,V){for(var j=/([MLQCZ])([^MLQCZ]*)/g,k,q,ee,Y,Z;k=j.exec(O);){var ae=k[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(re){return parseFloat(re)});switch(k[1]){case"M":Y=q=ae[0],Z=ee=ae[1];break;case"L":(ae[0]!==Y||ae[1]!==Z)&&V("L",Y,Z,Y=ae[0],Z=ae[1]);break;case"Q":{V("Q",Y,Z,Y=ae[2],Z=ae[3],ae[0],ae[1]);break}case"C":{V("C",Y,Z,Y=ae[4],Z=ae[5],ae[0],ae[1],ae[2],ae[3]);break}case"Z":(Y!==q||Z!==ee)&&V("L",Y,Z,q,ee);break}}}function s(O,V,j){j===void 0&&(j=16);var k={x:0,y:0};i(O,function(q,ee,Y,Z,ae,re,me,Ee,_e){switch(q){case"L":V(ee,Y,Z,ae);break;case"Q":{for(var se=ee,xe=Y,Le=1;Le<j;Le++)n(ee,Y,re,me,Z,ae,Le/(j-1),k),V(se,xe,k.x,k.y),se=k.x,xe=k.y;break}case"C":{for(var Ce=ee,Be=Y,He=1;He<j;He++)r(ee,Y,re,me,Ee,_e,Z,ae,He/(j-1),k),V(Ce,Be,k.x,k.y),Ce=k.x,Be=k.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(O,V){var j=O.getContext?O.getContext("webgl",u):O,k=l.get(j);if(!k){let Ce=function(De){var Q=ee[De];if(!Q&&(Q=ee[De]=j.getExtension(De),!Q))throw new Error(De+" not supported");return Q},Be=function(De,Q){var z=j.createShader(Q);return j.shaderSource(z,De),j.compileShader(z),z},He=function(De,Q,z,ue){if(!Y[De]){var we={},Ge={},Ve=j.createProgram();j.attachShader(Ve,Be(Q,j.VERTEX_SHADER)),j.attachShader(Ve,Be(z,j.FRAGMENT_SHADER)),j.linkProgram(Ve),Y[De]={program:Ve,transaction:function(Ze){j.useProgram(Ve),Ze({setUniform:function(at,Qe){for(var st=[],je=arguments.length-2;je-- >0;)st[je]=arguments[je+2];var Xe=Ge[Qe]||(Ge[Qe]=j.getUniformLocation(Ve,Qe));j["uniform"+at].apply(j,[Xe].concat(st))},setAttribute:function(at,Qe,st,je,Xe){var le=we[at];le||(le=we[at]={buf:j.createBuffer(),loc:j.getAttribLocation(Ve,at),data:null}),j.bindBuffer(j.ARRAY_BUFFER,le.buf),j.vertexAttribPointer(le.loc,Qe,j.FLOAT,!1,0,0),j.enableVertexAttribArray(le.loc),q?j.vertexAttribDivisor(le.loc,je):Ce("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(le.loc,je),Xe!==le.data&&(j.bufferData(j.ARRAY_BUFFER,Xe,st),le.data=Xe)}})}}}Y[De].transaction(ue)},Te=function(De,Q){ae++;try{j.activeTexture(j.TEXTURE0+ae);var z=Z[De];z||(z=Z[De]=j.createTexture(),j.bindTexture(j.TEXTURE_2D,z),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,j.NEAREST),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,j.NEAREST)),j.bindTexture(j.TEXTURE_2D,z),Q(z,ae)}finally{ae--}},Ye=function(De,Q,z){var ue=j.createFramebuffer();re.push(ue),j.bindFramebuffer(j.FRAMEBUFFER,ue),j.activeTexture(j.TEXTURE0+Q),j.bindTexture(j.TEXTURE_2D,De),j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,De,0);try{z(ue)}finally{j.deleteFramebuffer(ue),j.bindFramebuffer(j.FRAMEBUFFER,re[--re.length-1]||null)}},We=function(){ee={},Y={},Z={},ae=-1,re.length=0};var me=Ce,Ee=Be,_e=He,se=Te,xe=Ye,Le=We,q=typeof WebGL2RenderingContext<"u"&&j instanceof WebGL2RenderingContext,ee={},Y={},Z={},ae=-1,re=[];j.canvas.addEventListener("webglcontextlost",function(De){We(),De.preventDefault()},!1),l.set(j,k={gl:j,isWebGL2:q,getExtension:Ce,withProgram:He,withTexture:Te,withTextureFramebuffer:Ye,handleContextLoss:We})}V(k)}function f(O,V,j,k,q,ee,Y,Z){Y===void 0&&(Y=15),Z===void 0&&(Z=null),c(O,function(ae){var re=ae.gl,me=ae.withProgram,Ee=ae.withTexture;Ee("copy",function(_e,se){re.texImage2D(re.TEXTURE_2D,0,re.RGBA,q,ee,0,re.RGBA,re.UNSIGNED_BYTE,V),me("copy",o,a,function(xe){var Le=xe.setUniform,Ce=xe.setAttribute;Ce("aUV",2,re.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Le("1i","image",se),re.bindFramebuffer(re.FRAMEBUFFER,Z||null),re.disable(re.BLEND),re.colorMask(Y&8,Y&4,Y&2,Y&1),re.viewport(j,k,q,ee),re.scissor(j,k,q,ee),re.drawArrays(re.TRIANGLES,0,3)})})})}function d(O,V,j){var k=O.width,q=O.height;c(O,function(ee){var Y=ee.gl,Z=new Uint8Array(k*q*4);Y.readPixels(0,0,k,q,Y.RGBA,Y.UNSIGNED_BYTE,Z),O.width=V,O.height=j,f(Y,Z,0,0,k,q)})}var m=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(O,V,j,k,q,ee){ee===void 0&&(ee=1);var Y=new Uint8Array(O*V),Z=k[2]-k[0],ae=k[3]-k[1],re=[];s(j,function(Ce,Be,He,Te){re.push({x1:Ce,y1:Be,x2:He,y2:Te,minX:Math.min(Ce,He),minY:Math.min(Be,Te),maxX:Math.max(Ce,He),maxY:Math.max(Be,Te)})}),re.sort(function(Ce,Be){return Ce.maxX-Be.maxX});for(var me=0;me<O;me++)for(var Ee=0;Ee<V;Ee++){var _e=xe(k[0]+Z*(me+.5)/O,k[1]+ae*(Ee+.5)/V),se=Math.pow(1-Math.abs(_e)/q,ee)/2;_e<0&&(se=1-se),se=Math.max(0,Math.min(255,Math.round(se*255))),Y[Ee*O+me]=se}return Y;function xe(Ce,Be){for(var He=1/0,Te=1/0,Ye=re.length;Ye--;){var We=re[Ye];if(We.maxX+Te<=Ce)break;if(Ce+Te>We.minX&&Be-Te<We.maxY&&Be+Te>We.minY){var De=S(Ce,Be,We.x1,We.y1,We.x2,We.y2);De<He&&(He=De,Te=Math.sqrt(He))}}return Le(Ce,Be)&&(Te=-Te),Te}function Le(Ce,Be){for(var He=0,Te=re.length;Te--;){var Ye=re[Te];if(Ye.maxX<=Ce)break;var We=Ye.y1>Be!=Ye.y2>Be&&Ce<(Ye.x2-Ye.x1)*(Be-Ye.y1)/(Ye.y2-Ye.y1)+Ye.x1;We&&(He+=Ye.y1<Ye.y2?1:-1)}return He!==0}}function v(O,V,j,k,q,ee,Y,Z,ae,re){ee===void 0&&(ee=1),Z===void 0&&(Z=0),ae===void 0&&(ae=0),re===void 0&&(re=0),y(O,V,j,k,q,ee,Y,null,Z,ae,re)}function y(O,V,j,k,q,ee,Y,Z,ae,re,me){ee===void 0&&(ee=1),ae===void 0&&(ae=0),re===void 0&&(re=0),me===void 0&&(me=0);for(var Ee=g(O,V,j,k,q,ee),_e=new Uint8Array(Ee.length*4),se=0;se<Ee.length;se++)_e[se*4+me]=Ee[se];f(Y,_e,ae,re,O,V,1<<3-me,Z)}function S(O,V,j,k,q,ee){var Y=q-j,Z=ee-k,ae=Y*Y+Z*Z,re=ae?Math.max(0,Math.min(1,((O-j)*Y+(V-k)*Z)/ae)):0,me=O-(j+re*Y),Ee=V-(k+re*Z);return me*me+Ee*Ee}var w=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),x="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),P=null,T=!1,R={},B=new WeakMap;function N(O){if(!T&&!U(O))throw new Error("WebGL generation not supported")}function G(O,V,j,k,q,ee,Y){if(ee===void 0&&(ee=1),Y===void 0&&(Y=null),!Y&&(Y=P,!Y)){var Z=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Z)throw new Error("OffscreenCanvas or DOM canvas not supported");Y=P=Z.getContext("webgl",{depth:!1})}N(Y);var ae=new Uint8Array(O*V*4);c(Y,function(_e){var se=_e.gl,xe=_e.withTexture,Le=_e.withTextureFramebuffer;xe("readable",function(Ce,Be){se.texImage2D(se.TEXTURE_2D,0,se.RGBA,O,V,0,se.RGBA,se.UNSIGNED_BYTE,null),Le(Ce,Be,function(He){D(O,V,j,k,q,ee,se,He,0,0,0),se.readPixels(0,0,O,V,se.RGBA,se.UNSIGNED_BYTE,ae)})})});for(var re=new Uint8Array(O*V),me=0,Ee=0;me<ae.length;me+=4)re[Ee++]=ae[me];return re}function J(O,V,j,k,q,ee,Y,Z,ae,re){ee===void 0&&(ee=1),Z===void 0&&(Z=0),ae===void 0&&(ae=0),re===void 0&&(re=0),D(O,V,j,k,q,ee,Y,null,Z,ae,re)}function D(O,V,j,k,q,ee,Y,Z,ae,re,me){ee===void 0&&(ee=1),ae===void 0&&(ae=0),re===void 0&&(re=0),me===void 0&&(me=0),N(Y);var Ee=[];s(j,function(_e,se,xe,Le){Ee.push(_e,se,xe,Le)}),Ee=new Float32Array(Ee),c(Y,function(_e){var se=_e.gl,xe=_e.isWebGL2,Le=_e.getExtension,Ce=_e.withProgram,Be=_e.withTexture,He=_e.withTextureFramebuffer,Te=_e.handleContextLoss;if(Be("rawDistances",function(Ye,We){(O!==Ye._lastWidth||V!==Ye._lastHeight)&&se.texImage2D(se.TEXTURE_2D,0,se.RGBA,Ye._lastWidth=O,Ye._lastHeight=V,0,se.RGBA,se.UNSIGNED_BYTE,null),Ce("main",x,M,function(De){var Q=De.setAttribute,z=De.setUniform,ue=!xe&&Le("ANGLE_instanced_arrays"),we=!xe&&Le("EXT_blend_minmax");Q("aUV",2,se.STATIC_DRAW,0,C),Q("aLineSegment",4,se.DYNAMIC_DRAW,1,Ee),z.apply(void 0,["4f","uGlyphBounds"].concat(k)),z("1f","uMaxDistance",q),z("1f","uExponent",ee),He(Ye,We,function(Ge){se.enable(se.BLEND),se.colorMask(!0,!0,!0,!0),se.viewport(0,0,O,V),se.scissor(0,0,O,V),se.blendFunc(se.ONE,se.ONE),se.blendEquationSeparate(se.FUNC_ADD,xe?se.MAX:we.MAX_EXT),se.clear(se.COLOR_BUFFER_BIT),xe?se.drawArraysInstanced(se.TRIANGLES,0,3,Ee.length/4):ue.drawArraysInstancedANGLE(se.TRIANGLES,0,3,Ee.length/4)})}),Ce("post",o,E,function(De){De.setAttribute("aUV",2,se.STATIC_DRAW,0,C),De.setUniform("1i","tex",We),se.bindFramebuffer(se.FRAMEBUFFER,Z),se.disable(se.BLEND),se.colorMask(me===0,me===1,me===2,me===3),se.viewport(ae,re,O,V),se.scissor(ae,re,O,V),se.drawArrays(se.TRIANGLES,0,3)})}),se.isContextLost())throw Te(),new Error("webgl context lost")})}function U(O){var V=!O||O===P?R:O.canvas||O,j=B.get(V);if(j===void 0){T=!0;var k=null;try{var q=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ee=G(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,O);j=ee&&q.length===ee.length&&ee.every(function(Y,Z){return Y===q[Z]}),j||(k="bad trial run results",console.info(q,ee))}catch(Y){j=!1,k=Y.message}k&&console.warn("WebGL SDF generation not supported:",k),T=!1,B.set(V,j)}return j}var W=Object.freeze({__proto__:null,generate:G,generateIntoCanvas:J,generateIntoFramebuffer:D,isSupported:U});function ie(O,V,j,k,q,ee){q===void 0&&(q=Math.max(k[2]-k[0],k[3]-k[1])/2),ee===void 0&&(ee=1);try{return G.apply(W,arguments)}catch(Y){return console.info("WebGL SDF generation failed, falling back to JS",Y),g.apply(w,arguments)}}function L(O,V,j,k,q,ee,Y,Z,ae,re){q===void 0&&(q=Math.max(k[2]-k[0],k[3]-k[1])/2),ee===void 0&&(ee=1),Z===void 0&&(Z=0),ae===void 0&&(ae=0),re===void 0&&(re=0);try{return J.apply(W,arguments)}catch(me){return console.info("WebGL SDF generation failed, falling back to JS",me),v.apply(w,arguments)}}return e.forEachPathCommand=i,e.generate=ie,e.generateIntoCanvas=L,e.javascript=w,e.pathToLineSegments=s,e.webgl=W,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Nte(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Te,Ye){r[Te]=1<<Ye+1,i[r[Te]]=Te}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Te=function(We){if(n.hasOwnProperty(We)){var De=0;n[We].split(",").forEach(function(Q){var z=Q.split("+"),ue=z[0],we=z[1];ue=parseInt(ue,36),we=we?parseInt(we,36):0,c.set(De+=ue,r[We]);for(var Ge=0;Ge<we;Ge++)c.set(++De,r[We])})}};for(var Ye in n)Te(Ye)}}function d(Te){return f(),c.get(Te.codePointAt(0))||r.L}function m(Te){return i[d(Te)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(Te,Ye){var We=36,De=0,Q=new Map,z=Ye&&new Map,ue;return Te.split(",").forEach(function we(Ge){if(Ge.indexOf("+")!==-1)for(var Ve=+Ge;Ve--;)we(ue);else{ue=Ge;var ze=Ge.split(">"),Ze=ze[0],Ie=ze[1];Ze=String.fromCodePoint(De+=parseInt(Ze,We)),Ie=String.fromCodePoint(De+=parseInt(Ie,We)),Q.set(Ze,Ie),Ye&&z.set(Ie,Ze)}}),{map:Q,reverseMap:z}}var y,S,w;function x(){if(!y){var Te=v(g.pairs,!0),Ye=Te.map,We=Te.reverseMap;y=Ye,S=We,w=v(g.canonical,!1).map}}function M(Te){return x(),y.get(Te)||null}function E(Te){return x(),S.get(Te)||null}function C(Te){return x(),w.get(Te)||null}var P=r.L,T=r.R,R=r.EN,B=r.ES,N=r.ET,G=r.AN,J=r.CS,D=r.B,U=r.S,W=r.ON,ie=r.BN,L=r.NSM,O=r.AL,V=r.LRO,j=r.RLO,k=r.LRE,q=r.RLE,ee=r.PDF,Y=r.LRI,Z=r.RLI,ae=r.FSI,re=r.PDI;function me(Te,Ye){for(var We=125,De=new Uint32Array(Te.length),Q=0;Q<Te.length;Q++)De[Q]=d(Te[Q]);var z=new Map;function ue(Gr,Ei){var vr=De[Gr];De[Gr]=Ei,z.set(vr,z.get(vr)-1),vr&a&&z.set(a,z.get(a)-1),z.set(Ei,(z.get(Ei)||0)+1),Ei&a&&z.set(a,(z.get(a)||0)+1)}for(var we=new Uint8Array(Te.length),Ge=new Map,Ve=[],ze=null,Ze=0;Ze<Te.length;Ze++)ze||Ve.push(ze={start:Ze,end:Te.length-1,level:Ye==="rtl"?1:Ye==="ltr"?0:Dc(Ze,!1)}),De[Ze]&D&&(ze.end=Ze,ze=null);for(var Ie=q|k|j|V|s|re|ee|D,at=function(Gr){return Gr+(Gr&1?1:2)},Qe=function(Gr){return Gr+(Gr&1?2:1)},st=0;st<Ve.length;st++){ze=Ve[st];var je=[{_level:ze.level,_override:0,_isolate:0}],Xe=void 0,le=0,Re=0,$e=0;z.clear();for(var ne=ze.start;ne<=ze.end;ne++){var ce=De[ne];if(Xe=je[je.length-1],z.set(ce,(z.get(ce)||0)+1),ce&a&&z.set(a,(z.get(a)||0)+1),ce&Ie)if(ce&(q|k)){we[ne]=Xe._level;var Oe=(ce===q?Qe:at)(Xe._level);Oe<=We&&!le&&!Re?je.push({_level:Oe,_override:0,_isolate:0}):le||Re++}else if(ce&(j|V)){we[ne]=Xe._level;var it=(ce===j?Qe:at)(Xe._level);it<=We&&!le&&!Re?je.push({_level:it,_override:ce&j?T:P,_isolate:0}):le||Re++}else if(ce&s){ce&ae&&(ce=Dc(ne+1,!0)===1?Z:Y),we[ne]=Xe._level,Xe._override&&ue(ne,Xe._override);var dt=(ce===Z?Qe:at)(Xe._level);dt<=We&&le===0&&Re===0?($e++,je.push({_level:dt,_override:0,_isolate:1,_isolInitIndex:ne})):le++}else if(ce&re){if(le>0)le--;else if($e>0){for(Re=0;!je[je.length-1]._isolate;)je.pop();var Kt=je[je.length-1]._isolInitIndex;Kt!=null&&(Ge.set(Kt,ne),Ge.set(ne,Kt)),je.pop(),$e--}Xe=je[je.length-1],we[ne]=Xe._level,Xe._override&&ue(ne,Xe._override)}else ce&ee?(le===0&&(Re>0?Re--:!Xe._isolate&&je.length>1&&(je.pop(),Xe=je[je.length-1])),we[ne]=Xe._level):ce&D&&(we[ne]=ze.level);else we[ne]=Xe._level,Xe._override&&ce!==ie&&ue(ne,Xe._override)}for(var Ot=[],Wt=null,jt=ze.start;jt<=ze.end;jt++){var on=De[jt];if(!(on&l)){var Gt=we[jt],Zt=on&s,Zr=on===re;Wt&&Gt===Wt._level?(Wt._end=jt,Wt._endsWithIsolInit=Zt):Ot.push(Wt={_start:jt,_end:jt,_level:Gt,_startsWithPDI:Zr,_endsWithIsolInit:Zt})}}for(var Dr=[],un=0;un<Ot.length;un++){var $=Ot[un];if(!$._startsWithPDI||$._startsWithPDI&&!Ge.has($._start)){for(var Ae=[Wt=$],Pe=void 0;Wt&&Wt._endsWithIsolInit&&(Pe=Ge.get(Wt._end))!=null;)for(var fe=un+1;fe<Ot.length;fe++)if(Ot[fe]._start===Pe){Ae.push(Wt=Ot[fe]);break}for(var Fe=[],wt=0;wt<Ae.length;wt++)for(var F=Ae[wt],X=F._start;X<=F._end;X++)Fe.push(X);for(var oe=we[Fe[0]],pe=ze.level,Se=Fe[0]-1;Se>=0;Se--)if(!(De[Se]&l)){pe=we[Se];break}var Me=Fe[Fe.length-1],Ke=we[Me],Je=ze.level;if(!(De[Me]&s)){for(var tt=Me+1;tt<=ze.end;tt++)if(!(De[tt]&l)){Je=we[tt];break}}Dr.push({_seqIndices:Fe,_sosType:Math.max(pe,oe)%2?T:P,_eosType:Math.max(Je,Ke)%2?T:P})}}for(var nt=0;nt<Dr.length;nt++){var qe=Dr[nt],ye=qe._seqIndices,nn=qe._sosType,ut=qe._eosType,pt=we[ye[0]]&1?T:P;if(z.get(L))for(var Dt=0;Dt<ye.length;Dt++){var It=ye[Dt];if(De[It]&L){for(var Qt=nn,Tt=Dt-1;Tt>=0;Tt--)if(!(De[ye[Tt]]&l)){Qt=De[ye[Tt]];break}ue(It,Qt&(s|re)?W:Qt)}}if(z.get(R))for(var Mt=0;Mt<ye.length;Mt++){var Lt=ye[Mt];if(De[Lt]&R)for(var Ct=Mt-1;Ct>=-1;Ct--){var mn=Ct===-1?nn:De[ye[Ct]];if(mn&o){mn===O&&ue(Lt,G);break}}}if(z.get(O))for(var zt=0;zt<ye.length;zt++){var Sn=ye[zt];De[Sn]&O&&ue(Sn,T)}if(z.get(B)||z.get(J))for(var lr=1;lr<ye.length-1;lr++){var Yn=ye[lr];if(De[Yn]&(B|J)){for(var Kn=0,gn=0,qn=lr-1;qn>=0&&(Kn=De[ye[qn]],!!(Kn&l));qn--);for(var xn=lr+1;xn<ye.length&&(gn=De[ye[xn]],!!(gn&l));xn++);Kn===gn&&(De[Yn]===B?Kn===R:Kn&(R|G))&&ue(Yn,Kn)}}if(z.get(R))for(var Xt=0;Xt<ye.length;Xt++){var Nn=ye[Xt];if(De[Nn]&R){for(var Gi=Xt-1;Gi>=0&&De[ye[Gi]]&(N|l);Gi--)ue(ye[Gi],R);for(Xt++;Xt<ye.length&&De[ye[Xt]]&(N|l|R);Xt++)De[ye[Xt]]!==R&&ue(ye[Xt],R)}}if(z.get(N)||z.get(B)||z.get(J))for(var gr=0;gr<ye.length;gr++){var is=ye[gr];if(De[is]&(N|B|J)){ue(is,W);for(var aa=gr-1;aa>=0&&De[ye[aa]]&l;aa--)ue(ye[aa],W);for(var la=gr+1;la<ye.length&&De[ye[la]]&l;la++)ue(ye[la],W)}}if(z.get(R))for(var ua=0,iu=nn;ua<ye.length;ua++){var f3=ye[ua],Vh=De[f3];Vh&R?iu===P&&ue(f3,P):Vh&o&&(iu=Vh)}if(z.get(a)){var ca=T|R|G,bc=ca|P,Io=[];{for(var $a=[],Lo=0;Lo<ye.length;Lo++)if(De[ye[Lo]]&a){var an=Te[ye[Lo]],Wh=void 0;if(M(an)!==null)if($a.length<63)$a.push({char:an,seqIndex:Lo});else break;else if((Wh=E(an))!==null)for(var fa=$a.length-1;fa>=0;fa--){var Pc=$a[fa].char;if(Pc===Wh||Pc===E(C(an))||M(C(Pc))===an){Io.push([$a[fa].seqIndex,Lo]),$a.length=fa;break}}}Io.sort(function(Gr,Ei){return Gr[0]-Ei[0]})}for(var jh=0;jh<Io.length;jh++){for(var h3=Io[jh],$n=h3[0],su=h3[1],d3=!1,_i=0,Xh=$n+1;Xh<su;Xh++){var ou=ye[Xh];if(De[ou]&bc){d3=!0;var ss=De[ou]&ca?T:P;if(ss===pt){_i=ss;break}}}if(d3&&!_i){_i=nn;for(var Jh=$n-1;Jh>=0;Jh--){var p3=ye[Jh];if(De[p3]&bc){var os=De[p3]&ca?T:P;os!==pt?_i=os:_i=pt;break}}}if(_i){if(De[ye[$n]]=De[ye[su]]=_i,_i!==pt){for(var Mi=$n+1;Mi<ye.length;Mi++)if(!(De[ye[Mi]]&l)){d(Te[ye[Mi]])&L&&(De[ye[Mi]]=_i);break}}if(_i!==pt){for(var Fo=su+1;Fo<ye.length;Fo++)if(!(De[ye[Fo]]&l)){d(Te[ye[Fo]])&L&&(De[ye[Fo]]=_i);break}}}}for(var bs=0;bs<ye.length;bs++)if(De[ye[bs]]&a){for(var Yh=bs,Kh=bs,Hi=nn,au=bs-1;au>=0;au--)if(De[ye[au]]&l)Yh=au;else{Hi=De[ye[au]]&ca?T:P;break}for(var lu=ut,uu=bs+1;uu<ye.length;uu++)if(De[ye[uu]]&(a|l))Kh=uu;else{lu=De[ye[uu]]&ca?T:P;break}for(var Ai=Yh;Ai<=Kh;Ai++)De[ye[Ai]]=Hi===lu?Hi:pt;bs=Kh}}}for(var zr=ze.start;zr<=ze.end;zr++){var Rc=we[zr],eo=De[zr];if(Rc&1?eo&(P|R|G)&&we[zr]++:eo&T?we[zr]++:eo&(G|R)&&(we[zr]+=2),eo&l&&(we[zr]=zr===0?ze.level:we[zr-1]),zr===ze.end||d(Te[zr])&(U|D))for(var el=zr;el>=0&&d(Te[el])&u;el--)we[el]=ze.level}}return{levels:we,paragraphs:Ve};function Dc(Gr,Ei){for(var vr=Gr;vr<Te.length;vr++){var yr=De[vr];if(yr&(T|O))return 1;if(yr&(D|P)||Ei&&yr===re)return 0;if(yr&s){var as=m3(vr);vr=as===-1?Te.length:as}}return 0}function m3(Gr){for(var Ei=1,vr=Gr+1;vr<Te.length;vr++){var yr=De[vr];if(yr&D)break;if(yr&re){if(--Ei===0)return vr}else yr&s&&Ei++}return-1}}var Ee="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",_e;function se(){if(!_e){var Te=v(Ee,!0),Ye=Te.map,We=Te.reverseMap;We.forEach(function(De,Q){Ye.set(Q,De)}),_e=Ye}}function xe(Te){return se(),_e.get(Te)||null}function Le(Te,Ye,We,De){var Q=Te.length;We=Math.max(0,We==null?0:+We),De=Math.min(Q-1,De==null?Q-1:+De);for(var z=new Map,ue=We;ue<=De;ue++)if(Ye[ue]&1){var we=xe(Te[ue]);we!==null&&z.set(ue,we)}return z}function Ce(Te,Ye,We,De){var Q=Te.length;We=Math.max(0,We==null?0:+We),De=Math.min(Q-1,De==null?Q-1:+De);var z=[];return Ye.paragraphs.forEach(function(ue){var we=Math.max(We,ue.start),Ge=Math.min(De,ue.end);if(we<Ge){for(var Ve=Ye.levels.slice(we,Ge+1),ze=Ge;ze>=we&&d(Te[ze])&u;ze--)Ve[ze]=ue.level;for(var Ze=ue.level,Ie=1/0,at=0;at<Ve.length;at++){var Qe=Ve[at];Qe>Ze&&(Ze=Qe),Qe<Ie&&(Ie=Qe|1)}for(var st=Ze;st>=Ie;st--)for(var je=0;je<Ve.length;je++)if(Ve[je]>=st){for(var Xe=je;je+1<Ve.length&&Ve[je+1]>=st;)je++;je>Xe&&z.push([Xe+we,je+we])}}}),z}function Be(Te,Ye,We,De){var Q=He(Te,Ye,We,De),z=[].concat(Te);return Q.forEach(function(ue,we){z[we]=(Ye.levels[ue]&1?xe(Te[ue]):null)||Te[ue]}),z.join("")}function He(Te,Ye,We,De){for(var Q=Ce(Te,Ye,We,De),z=[],ue=0;ue<Te.length;ue++)z[ue]=ue;return Q.forEach(function(we){for(var Ge=we[0],Ve=we[1],ze=z.slice(Ge,Ve+1),Ze=ze.length;Ze--;)z[Ve-Ze]=ze[Ze]}),z}return e.closingToOpeningBracket=E,e.getBidiCharType=d,e.getBidiCharTypeName=m,e.getCanonicalBracket=C,e.getEmbeddingLevels=me,e.getMirroredCharacter=xe,e.getMirroredCharactersMap=Le,e.getReorderSegments=Ce,e.getReorderedIndices=He,e.getReorderedString=Be,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const eL=/\bvoid\s+main\s*\(\s*\)\s*{/g;function r9(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=bt[i];return s?r9(s):r}return t.replace(e,n)}const ei=[];for(let t=0;t<256;t++)ei[t]=(t<16?"0":"")+t.toString(16);function Ote(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ei[t&255]+ei[t>>8&255]+ei[t>>16&255]+ei[t>>24&255]+"-"+ei[e&255]+ei[e>>8&255]+"-"+ei[e>>16&15|64]+ei[e>>24&255]+"-"+ei[n&63|128]+ei[n>>8&255]+"-"+ei[n>>16&255]+ei[n>>24&255]+ei[r&255]+ei[r>>8&255]+ei[r>>16&255]+ei[r>>24&255]).toUpperCase()}const Ru=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zte=Date.now(),_T=new WeakMap,MT=new Map;let Gte=1e10;function i9(t,e){const n=jte(e);let r=_T.get(t);if(r||_T.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let d=MT[f];if(!d){const m=Hte(this,u,e,n);d=MT[f]=m}u.vertexShader=d.vertexShader,u.fragmentShader=d.fragmentShader,Ru(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-zte}}),this[i]&&this[i](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:Gte++}),c.uuid=Ote(),c.uniforms=Ru({},u.uniforms,e.uniforms),c.defines=Ru({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Ru({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Ru(this.extensions,u.extensions),Ru(this.defines,u.defines),Ru(this.uniforms,gc.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=i9(t.isDerivedMaterial?t.getDepthMaterial():new Ih({depthPacking:Co}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=i9(t.isDerivedMaterial?t.getDistanceMaterial():new yv,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function Hte(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:m,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",f=f||"",(l||m)&&(e=r9(e)),(d||m)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=r9(n)),m){let v=m({vertexShader:e,fragmentShader:n});e=v.vertexShader,n=v.fragmentShader}if(d){let v=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${d}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;s=v+s,u=v+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,S,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,S))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=AT(e,i,s,o,a),n=AT(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function AT(t,e,n,r,i){return(r||i||n)&&(t=t.replace(eL,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Vte(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Wte=0;const ET=new Map;function jte(t){const e=JSON.stringify(t,Vte);let n=ET.get(e);return n==null&&ET.set(e,n=++Wte),n}function Xte(t,e,n){const{defaultFontURL:r}=n,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u(w,x){function M(){const E=C=>{console.error(`Failure loading font ${w}${w===r?"":"; trying fallback"}`,C),w!==r&&(w=r,M())};try{const C=new XMLHttpRequest;C.open("get",w,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status>=400)E(new Error(C.statusText));else if(C.status>0)try{const P=t(C.response);x(P)}catch(P){E(P)}},C.onerror=E,C.send()}catch(C){E(C)}}M()}function c(w,x){w||(w=r);let M=i[w];M?M.pending?M.pending.push(x):x(M):(i[w]={pending:[x]},u(w,E=>{let C=i[w].pending;i[w]=E,C.forEach(P=>P(E))}))}function f({text:w="",font:x=r,sdfGlyphSize:M=64,fontSize:E=1,letterSpacing:C=0,lineHeight:P="normal",maxWidth:T=s,direction:R,textAlign:B="left",textIndent:N=0,whiteSpace:G="normal",overflowWrap:J="normal",anchorX:D=0,anchorY:U=0,includeCaretPositions:W=!1,chunkedBoundsSize:ie=8192,colorRanges:L=null},O,V=!1){const j=v(),k={fontLoad:0,typesetting:0};w.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),w=w.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,C=+C,T=+T,P=P||"normal",N=+N,c(x,q=>{const ee=isFinite(T);let Y=null,Z=null,ae=null,re=null,me=null,Ee=null,_e=null,se=0,xe=0,Le=G!=="nowrap";const{ascender:Ce,descender:Be,unitsPerEm:He,lineGap:Te,capHeight:Ye,xHeight:We}=q;k.fontLoad=v()-j;const De=v(),Q=E/He;P==="normal"&&(P=(Ce-Be+Te)/He),P=P*E;const z=(P-(Ce-Be)*Q)/2,ue=-(Ce*Q+z),we=Math.min(P,(Ce-Be)*Q),Ge=(Ce+Be)/2*Q-we/2;let Ve=N,ze=new y;const Ze=[ze];q.forEachGlyph(w,E,C,(Qe,st,je)=>{const Xe=w.charAt(je),le=Qe.advanceWidth*Q,Re=ze.count;let $e;if("isEmpty"in Qe||(Qe.isWhitespace=!!Xe&&new RegExp(a).test(Xe),Qe.canBreakAfter=!!Xe&&l.test(Xe),Qe.isEmpty=Qe.xMin===Qe.xMax||Qe.yMin===Qe.yMax||o.test(Xe)),!Qe.isWhitespace&&!Qe.isEmpty&&xe++,Le&&ee&&!Qe.isWhitespace&&st+le+Ve>T&&Re){if(ze.glyphAt(Re-1).glyphObj.canBreakAfter)$e=new y,Ve=-st;else for(let ce=Re;ce--;)if(ce===0&&J==="break-word"){$e=new y,Ve=-st;break}else if(ze.glyphAt(ce).glyphObj.canBreakAfter){$e=ze.splitAt(ce+1);const Oe=$e.glyphAt(0).x;Ve-=Oe;for(let it=$e.count;it--;)$e.glyphAt(it).x-=Oe;break}$e&&(ze.isSoftWrapped=!0,ze=$e,Ze.push(ze),se=T)}let ne=ze.glyphAt(ze.count);ne.glyphObj=Qe,ne.x=st+Ve,ne.width=le,ne.charIndex=je,Xe===`
`&&(ze=new y,Ze.push(ze),Ve=-(st+le+C*E)+N)}),Ze.forEach(Qe=>{for(let st=Qe.count;st--;){let{glyphObj:je,x:Xe,width:le}=Qe.glyphAt(st);if(!je.isWhitespace){Qe.width=Xe+le,Qe.width>se&&(se=Qe.width);return}}});let Ie=0,at=0;if(D&&(typeof D=="number"?Ie=-D:typeof D=="string"&&(Ie=-se*(D==="left"?0:D==="center"?.5:D==="right"?1:m(D)))),U){if(typeof U=="number")at=-U;else if(typeof U=="string"){let Qe=Ze.length*P;at=U==="top"?0:U==="top-baseline"?-ue:U==="top-cap"?-ue-Ye*Q:U==="top-ex"?-ue-We*Q:U==="middle"?Qe/2:U==="bottom"?Qe:U==="bottom-baseline"?Qe-z+Be*Q:m(U)*Qe}}if(!V){const Qe=e.getEmbeddingLevels(w,R);Y=new Uint16Array(xe),Z=new Float32Array(xe*2),ae={},Ee=[s,s,-s,-s],_e=[];let st=ue;W&&(me=new Float32Array(w.length*3)),L&&(re=new Uint8Array(xe*3));let je=0,Xe=-1,le=-1,Re,$e;if(Ze.forEach((ne,ce)=>{let{count:Oe,width:it}=ne;if(Oe>0){let dt=0;for(let Gt=Oe;Gt--&&ne.glyphAt(Gt).glyphObj.isWhitespace;)dt++;let Kt=0,Ot=0;if(B==="center")Kt=(se-it)/2;else if(B==="right")Kt=se-it;else if(B==="justify"&&ne.isSoftWrapped){let Gt=0;for(let Zt=Oe-dt;Zt--;)ne.glyphAt(Zt).glyphObj.isWhitespace&&Gt++;Ot=(se-it)/Gt}if(Ot||Kt){let Gt=0;for(let Zt=0;Zt<Oe;Zt++){let Zr=ne.glyphAt(Zt);const Dr=Zr.glyphObj;Zr.x+=Kt+Gt,Ot!==0&&Dr.isWhitespace&&Zt<Oe-dt&&(Gt+=Ot,Zr.width+=Ot)}}const Wt=e.getReorderSegments(w,Qe,ne.glyphAt(0).charIndex,ne.glyphAt(ne.count-1).charIndex);for(let Gt=0;Gt<Wt.length;Gt++){const[Zt,Zr]=Wt[Gt];let Dr=1/0,un=-1/0;for(let $=0;$<Oe;$++)if(ne.glyphAt($).charIndex>=Zt){let Ae=$,Pe=$;for(;Pe<Oe;Pe++){let fe=ne.glyphAt(Pe);if(fe.charIndex>Zr)break;Pe<Oe-dt&&(Dr=Math.min(Dr,fe.x),un=Math.max(un,fe.x+fe.width))}for(let fe=Ae;fe<Pe;fe++){const Fe=ne.glyphAt(fe);Fe.x=un-(Fe.x+Fe.width-Dr)}break}}let jt;const on=Gt=>jt=Gt;for(let Gt=0;Gt<Oe;Gt++){let Zt=ne.glyphAt(Gt);jt=Zt.glyphObj;const Zr=jt.index,Dr=Qe.levels[Zt.charIndex]&1;if(Dr){const un=e.getMirroredCharacter(w[Zt.charIndex]);un&&q.forEachGlyph(un,0,0,on)}if(W){const{charIndex:un}=Zt,$=Zt.x+Ie,Ae=Zt.x+Zt.width+Ie;me[un*3]=Dr?Ae:$,me[un*3+1]=Dr?$:Ae,me[un*3+2]=st+Ge+at;const Pe=un-Xe;Pe>1&&g(me,Xe,Pe),Xe=un}if(L){const{charIndex:un}=Zt;for(;un>le;)le++,L.hasOwnProperty(le)&&($e=L[le])}if(!jt.isWhitespace&&!jt.isEmpty){const un=je++;ae[Zr]||(ae[Zr]={path:jt.path,pathBounds:[jt.xMin,jt.yMin,jt.xMax,jt.yMax]});const $=Zt.x+Ie,Ae=st+at;Z[un*2]=$,Z[un*2+1]=Ae;const Pe=$+jt.xMin*Q,fe=Ae+jt.yMin*Q,Fe=$+jt.xMax*Q,wt=Ae+jt.yMax*Q;Pe<Ee[0]&&(Ee[0]=Pe),fe<Ee[1]&&(Ee[1]=fe),Fe>Ee[2]&&(Ee[2]=Fe),wt>Ee[3]&&(Ee[3]=wt),un%ie===0&&(Re={start:un,end:un,rect:[s,s,-s,-s]},_e.push(Re)),Re.end++;const F=Re.rect;if(Pe<F[0]&&(F[0]=Pe),fe<F[1]&&(F[1]=fe),Fe>F[2]&&(F[2]=Fe),wt>F[3]&&(F[3]=wt),Y[un]=Zr,L){const X=un*3;re[X]=$e>>16&255,re[X+1]=$e>>8&255,re[X+2]=$e&255}}}}st-=P}),me){const ne=w.length-Xe;ne>1&&g(me,Xe,ne)}}k.typesetting=v()-De,O({glyphIds:Y,glyphPositions:Z,glyphData:ae,caretPositions:me,caretHeight:we,glyphColors:re,chunkedBounds:_e,fontSize:E,unitsPerEm:He,ascender:Ce*Q,descender:Be*Q,capHeight:Ye*Q,xHeight:We*Q,lineHeight:P,topBaseline:ue,blockBounds:[Ie,at-Ze.length*P,Ie+se,at],visibleBounds:Ee,timings:k})})}function d(w,x){f(w,M=>{const[E,C,P,T]=M.blockBounds;x({width:P-E,height:T-C})},{metricsOnly:!0})}function m(w){let x=w.match(/^([\d.]+)%$/),M=x?parseFloat(x[1]):NaN;return isNaN(M)?0:M/100}function g(w,x,M){const E=w[x*3],C=w[x*3+1],P=w[x*3+2],T=(C-E)/M;for(let R=0;R<M;R++){const B=(x+R)*3;w[B]=E+T*R,w[B+1]=E+T*(R+1),w[B+2]=P}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}const S=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(w){let x=y.flyweight;return x.data=this.data,x.index=w,x},splitAt(w){let x=new y;return x.data=this.data.splice(w*S.length),x}},y.flyweight=S.reduce((w,x,M,E)=>(Object.defineProperty(w,x,{get(){return this.data[this.index*S.length+M]},set(C){this.data[this.index*S.length+M]=C}}),w),{data:null,index:0}),{typeset:f,measure:d,loadFont:c}}const oc=()=>(self.performance||Date).now(),Lv=$I();let TT;function Jte(t,e,n,r,i,s,o,a,l,u,c=!0){return c?Kte(t,e,n,r,i,s,o,a,l,u).then(null,f=>(TT||(console.warn("WebGL SDF generation failed, falling back to JS",f),TT=!0),bT(t,e,n,r,i,s,o,a,l,u))):bT(t,e,n,r,i,s,o,a,l,u)}const f1=[],Yte=5;let s9=0;function tL(){const t=oc();for(;f1.length&&oc()-t<Yte;)f1.shift()();s9=f1.length?setTimeout(tL,0):0}const Kte=(...t)=>new Promise((e,n)=>{f1.push(()=>{const r=oc();try{Lv.webgl.generateIntoCanvas(...t),e({timing:oc()-r})}catch(i){n(i)}}),s9||(s9=setTimeout(tL,0))}),Zte=4,Qte=2e3,CT={};let qte=0;function bT(t,e,n,r,i,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+qte++%Zte;let f=CT[c];return f||(f=CT[c]={workerModule:o3({name:c,workerId:c,dependencies:[$I,oc],init(d,m){const g=d().javascript.generate;return function(...v){const y=m();return{textureData:g(...v),timing:m()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:d,timing:m})=>{const g=oc(),v=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)v[y*4+u]=d[y];return Lv.webglUtils.renderImageData(o,v,a,l,t,e,1<<3-u),m+=oc()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{kte(c)},Qte)),{timing:m}})}function $te(t){t._warm||(Lv.webgl.isSupported(t),t._warm=!0)}const ene=Lv.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function tne(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var f=s.readUint(o,a);a+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:i,_offset:a},f={},d=0;d<l;d++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[m]={offset:g,length:v}}for(d=0;d<u.length;d++){var y=u[d];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var d=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,c={},f=s;u.readFixed(i,s),s+=4;var d=u.readUshort(i,s);s+=2;var m=u.readUshort(i,s);s+=2;var g=u.readUshort(i,s);return s+=2,c.scriptList=e._lctf.readScriptList(i,f+d),c.featureList=e._lctf.readFeatureList(i,f+m),c.lookupList=e._lctf.readLookupList(i,f+g,l),c},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+d,o);u.push(m)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var f=u.ltype,d=0;d<c;d++){var m=a.readUshort(i,s);s+=2;var g=o(i,f,l+m,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++)a.push(u+f),a.push(u+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+d);m.tag=f.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+u);var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var d=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(i,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(c=0;c<f.length-1;c++)d.push(e.CFF.readDict(i,s+f[c],s+f[c+1]));s+=f[f.length-1];var m=d[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(c=0;c<g.length-1;c++)v.push(a.readASCII(i,s+g[c],g[c+1]-g[c]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(c=0;c<g.length-1;c++)y.push(a.readBytes(i,s+g[c],g[c+1]-g[c]));m.CharStrings=y}if(m.ROS){s=m.FDArray;var S=[];for(s=e.CFF.readIndex(i,s,S),m.FDArray=[],c=0;c<S.length-1;c++){var w=e.CFF.readDict(i,s+S[c],s+S[c+1]);e.CFF._readFDict(i,w,v),m.FDArray.push(w)}s+=S[S.length-1],s=m.FDSelect,m.FDSelect=[];var x=i[s];if(s++,x!=3)throw x;var M=a.readUshort(i,s);for(s+=2,c=0;c<M+1;c++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,v),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var c=0;c<u;c++)a.push(i[s+c]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var c=0;c<o;c++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(u==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),c=0;c<=d;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(i[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(i,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(i,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var c=1,f=null,d=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(d=a.readShort(i,s+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(d=l-139,c=1),247<=l&&l<=250&&(d=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(d=256*-(l-251)-u-108,c=2),l==255&&(d=a.readInt(i,s+1)/65535,c=5),o.val=d??"o"+f,o.size=c},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;c<=20&&(m=c,d=1),c==12&&(m=100*c+f,d=2),c!=19&&c!=20||(m=c,d=2),21<=c&&c<=27&&(m=c,d=1),c==28&&(g=l.readShort(i,s+1),d=3),29<=c&&c<=31&&(m=c,d=1),32<=c&&c<=246&&(g=c-139,d=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,d=2),c==255&&(g=l.readInt(i,s+1)/65535,d=5),u.push(g??"o"+m),s+=d}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,m=null,g=null;if(c==28&&(g=a.readShort(i,s+1),d=3),c==29&&(g=a.readInt(i,s+1),d=5),32<=c&&c<=246&&(g=c-139,d=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,d=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,d=2),c==255)throw g=a.readInt(i,s+1)/65535,d=5,"unknown number";if(c==30){var v=[];for(d=1;;){var y=i[s+d];d++;var S=y>>4,w=15&y;if(S!=15&&v.push(S),w!=15&&v.push(w),w==15)break}for(var x="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<v.length;E++)x+=M[v[E]];g=parseFloat(x)}c<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],d=1,c==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),m!=null?(l[m]=u.length==1?u[0]:u,u=[]):u.push(g),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+d+"e"+m,y=c.indexOf(g);if(y==-1){var S;y=l.tables.length,c.push(g);var w=a.readUshort(i,g);w==0?S=e.cmap.parse0(i,g):w==4?S=e.cmap.parse4(i,g):w==6?S=e.cmap.parse6(i,g):w==12?S=e.cmap.parse12(i,g):console.debug("unknown format: "+w,d,m,g),l.tables.push(S)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var f=c/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,f=o.readUint(i,c+0),d=o.readUint(i,c+4),m=o.readUint(i,c+8);a.groups.push([f,d,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;u.instructions=o.readBytes(a,l,f),l+=f;var d=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<d;c++){var m=a[l];if(l++,u.flags.push(m),(8&m)!=0){var g=a[l];l++;for(var v=0;v<g;v++)u.flags.push(m),c++}}for(u.xs=[],c=0;c<d;c++){var y=(2&u.flags[c])!=0,S=(16&u.flags[c])!=0;y?(u.xs.push(S?a[l]:-a[l]),l++):S?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<d;c++)y=(4&u.flags[c])!=0,S=(32&u.flags[c])!=0,y?(u.ys.push(S?a[l]:-a[l]),l++):S?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var w=0,x=0;for(c=0;c<d;c++)w+=u.xs[c],x+=u.ys[c],u.xs[c]=w,u.ys[c]=x}else{var M;u.parts=[];do{M=o.readUshort(a,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(E),E.glyphIndex=o.readUshort(a,l),l+=2,1&M){var C=o.readShort(a,l);l+=2;var P=o.readShort(a,l);l+=2}else C=o.readInt8(a,l),l++,P=o.readInt8(a,l),l++;2&M?(E.m.tx=C,E.m.ty=P):(E.p1=C,E.p2=P),8&M?(E.m.a=E.m.d=o.readF2dot14(a,l),l+=2):64&M?(E.m.a=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2):128&M&&(E.m.a=o.readF2dot14(a,l),l+=2,E.m.b=o.readF2dot14(a,l),l+=2,E.m.c=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var T=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<T;c++)u.instr.push(a[l]),l++}}return u},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(s==1&&c.fmt==1){var d=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(d);d!=0&&(c.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&c.fmt>=1&&c.fmt<=2){d=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2,m=e._lctf.numOfOnes(d);var v=e._lctf.numOfOnes(g);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var S=0;S<y;S++){var w=u+l.readUshort(i,o);o+=2;var x=l.readUshort(i,w);w+=2;for(var M=[],E=0;E<x;E++){var C=l.readUshort(i,w);w+=2,d!=0&&(G=e.GPOS.readValueRecord(i,w,d),w+=2*m),g!=0&&(J=e.GPOS.readValueRecord(i,w,g),w+=2*v),M.push({gid2:C,val1:G,val2:J})}c.pairsets.push(M)}}if(c.fmt==2){var P=l.readUshort(i,o);o+=2;var T=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var B=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+P),c.classDef2=e._lctf.readClassDef(i,u+T),c.matrix=[],S=0;S<R;S++){var N=[];for(E=0;E<B;E++){var G=null,J=null;d!=0&&(G=e.GPOS.readValueRecord(i,o,d),o+=2*m),g!=0&&(J=e.GPOS.readValueRecord(i,o,g),o+=2*v),N.push({val1:G,val2:J})}c.matrix.push(N)}}}else{if(s==9&&c.fmt==1){var D=l.readUshort(i,o);o+=2;var U=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=D;else if(a.ltype!=D)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+U)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var d=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,d),o+=2*c.newg.length}}else if(s==4){c.vals=[],d=l.readUshort(i,o),o+=2;for(var m=0;m<d;m++){var g=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+g))}}else if(s==5&&c.fmt==2){if(c.fmt==2){var v=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+v),c.scset=[];var y=l.readUshort(i,o);for(o+=2,m=0;m<y;m++){var S=l.readUshort(i,o);o+=2,c.scset.push(S==0?null:e.GSUB.readSubClassSet(i,u+S))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(m=0;m<3;m++){d=l.readUshort(i,o),o+=2;for(var w=[],x=0;x<d;x++)w.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*x)));o+=2*d,m==0&&(c.backCvg=w),m==1&&(c.inptCvg=w),m==2&&(c.ahedCvg=w)}d=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&c.fmt==1){var M=l.readUshort(i,o);o+=2;var E=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=M;else if(a.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+E)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var c=0;c<u;c++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(i,s,c),s+=2*a[l[u]].length}return c=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(c=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var c=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<c;d++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var g=m>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=d>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,c)}return c},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(d),g.vals.push(m),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(c==0)for(var d=0;d<f;d++)u.push(l.readUshort(i,s+(d<<1))<<1);if(c==1)for(d=0;d<f;d++)u.push(l.readUint(i,s+(d<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,m=0;m<u;m++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var M,E=f[S],C=d+12*u+x;if(g==0)M=a.readUnicode(i,C,w/2);else if(g==3&&v==0)M=a.readUnicode(i,C,w/2);else if(v==0)M=a.readASCII(i,C,w);else if(v==1)M=a.readUnicode(i,C,w/2);else if(v==3)M=a.readUnicode(i,C,w/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;M=a.readASCII(i,C,w),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var P="p"+g+","+y.toString(16);l[P]==null&&(l[P]={}),l[P][E!==void 0?E:S]=M,l[P]._lang=y}for(var T in l)if(l[T].postScriptName!=null&&l[T]._lang==1033)return l[T];for(var T in l)if(l[T].postScriptName!=null&&l[T]._lang==0)return l[T];for(var T in l)if(l[T].postScriptName!=null&&l[T]._lang==3084)return l[T];for(var T in l)if(l[T].postScriptName!=null)return l[T];for(var T in l){c=T;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,c,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,f=u==l?a:u+1,d=1&i.flags[u],m=1&i.flags[c],g=1&i.flags[f],v=i.xs[u],y=i.ys[u];if(u==a)if(d){if(!m){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[c],i.ys[c])}else m?e.U.P.moveTo(s,i.xs[c],i.ys[c]):e.U.P.moveTo(s,(i.xs[c]+v)/2,(i.ys[c]+y)/2);d?m&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],m=l.crds[f+1];o.crds.push(d*c.a+m*c.b+c.tx),o.crds.push(d*c.c+m*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,u=l.lookupList,c=l.featureList,f=[],d=0;d<c.length;d++){var m=c[d];if(m.tag=="kern"){a=!0;for(var g=0;g<m.tab.length;g++)if(!f[m.tab[g]]){f[m.tab[g]]=!0;for(var v=u[m.tab[g]],y=0;y<v.tabs.length;y++)if(v.tabs[y]!=null){var S,w=v.tabs[y];if((!w.coverage||(S=e._lctf.coverageIndex(w.coverage,s))!=-1)&&v.ltype!=1){if(v.ltype==2){var x=null;if(w.fmt==1){var M=w.pairsets[S];for(d=0;d<M.length;d++)M[d].gid2==o&&(x=M[d])}else if(w.fmt==2){var E=e.U._getGlyphClass(s,w.classDef1),C=e.U._getGlyphClass(o,w.classDef2);x=w.matrix[E][C]}if(x){var P=0;return x.val1&&x.val1[2]&&(P+=x.val1[2]),x.val2&&x.val2[0]&&(P+=x.val2[0]),P}}}}}}}if(i.kern&&!a){var T=i.kern.glyph1.indexOf(s);if(T!=-1){var R=i.kern.rval[T].glyph2.indexOf(o);if(R!=-1)return i.kern.rval[T].vals[R]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[c];else if(o.ltype==4)for(var d=f.vals[c],m=0;m<d.length;m++){var g=d[m],v=g.chain.length;if(!(v>l)){for(var y=!0,S=0,w=0;w<v;w++){for(;i[s+S+(1+w)]==-1;)S++;g.chain[w]!=i[s+S+(1+w)]&&(y=!1)}if(y){for(i[s]=g.nglyph,w=0;w<v+S;w++)i[s+w+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var x=e._lctf.getInterval(f.cDef,i[s]),M=f.cDef[x+2],E=f.scset[M],C=0;C<E.length;C++){var P=E[C],T=P.input;if(!(T.length>l)){for(y=!0,w=0;w<T.length;w++){var R=e._lctf.getInterval(f.cDef,i[s+1+w]);if(x==-1&&f.cDef[R+2]!=T[w]){y=!1;break}}if(y){var B=P.substLookupRecords;for(m=0;m<B.length;m+=2)B[m],B[m+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var N=f.lookupRec;for(C=0;C<N.length;C+=2){x=N[C];var G=a[N[C+1]];e.U._applySubs(i,s+x,G,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,d=e.U.glyphToPath(i,c),m=0;m<d.crds.length;m+=2)a.crds.push(d.crds[m]+l),a.crds.push(d.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<d.cmds.length;m++)a.cmds.push(d.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,c){i.cmds.push("C"),i.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,c=s.nStems,f=s.haveWidth,d=s.width,m=s.open,g=0,v=s.x,y=s.y,S=0,w=0,x=0,M=0,E=0,C=0,P=0,T=0,R=0,B=0,N={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,N);var G=N.val;if(g+=N.size,G=="o1"||G=="o18")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(G=="o3"||G=="o23")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(G=="o4")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),m&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o5")for(;u.length>0;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);else if(G=="o6"||G=="o7")for(var J=u.length,D=G=="o6",U=0;U<J;U++){var W=u.shift();D?v+=W:y+=W,D=!D,e.U.P.lineTo(l,v,y)}else if(G=="o8"||G=="o24"){J=u.length;for(var ie=0;ie+6<=J;)S=v+u.shift(),w=y+u.shift(),x=S+u.shift(),M=w+u.shift(),v=x+u.shift(),y=M+u.shift(),e.U.P.curveTo(l,S,w,x,M,v,y),ie+=6;G=="o24"&&(v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y))}else{if(G=="o11")break;if(G=="o1234"||G=="o1235"||G=="o1236"||G=="o1237")G=="o1234"&&(w=y,x=(S=v+u.shift())+u.shift(),B=M=w+u.shift(),C=M,T=y,v=(P=(E=(R=x+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,S,w,x,M,R,B),e.U.P.curveTo(l,E,C,P,T,v,y)),G=="o1235"&&(S=v+u.shift(),w=y+u.shift(),x=S+u.shift(),M=w+u.shift(),R=x+u.shift(),B=M+u.shift(),E=R+u.shift(),C=B+u.shift(),P=E+u.shift(),T=C+u.shift(),v=P+u.shift(),y=T+u.shift(),u.shift(),e.U.P.curveTo(l,S,w,x,M,R,B),e.U.P.curveTo(l,E,C,P,T,v,y)),G=="o1236"&&(S=v+u.shift(),w=y+u.shift(),x=S+u.shift(),B=M=w+u.shift(),C=M,P=(E=(R=x+u.shift())+u.shift())+u.shift(),T=C+u.shift(),v=P+u.shift(),e.U.P.curveTo(l,S,w,x,M,R,B),e.U.P.curveTo(l,E,C,P,T,v,y)),G=="o1237"&&(S=v+u.shift(),w=y+u.shift(),x=S+u.shift(),M=w+u.shift(),R=x+u.shift(),B=M+u.shift(),E=R+u.shift(),C=B+u.shift(),P=E+u.shift(),T=C+u.shift(),Math.abs(P-v)>Math.abs(T-y)?v=P+u.shift():y=T+u.shift(),e.U.P.curveTo(l,S,w,x,M,R,B),e.U.P.curveTo(l,E,C,P,T,v,y));else if(G=="o14"){if(u.length>0&&!f&&(d=u.shift()+o.nominalWidthX,f=!0),u.length==4){var L=u.shift(),O=u.shift(),V=u.shift(),j=u.shift(),k=e.CFF.glyphBySE(o,V),q=e.CFF.glyphBySE(o,j);e.U._drawCFF(o.CharStrings[k],s,o,a,l),s.x=L,s.y=O,e.U._drawCFF(o.CharStrings[q],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(G=="o19"||G=="o20")u.length%2!=0&&!f&&(d=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,g+=c+7>>3;else if(G=="o21")u.length>2&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),y+=u.pop(),v+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o22")u.length>1&&!f&&(d=u.shift()+a.nominalWidthX,f=!0),v+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o25"){for(;u.length>6;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);S=v+u.shift(),w=y+u.shift(),x=S+u.shift(),M=w+u.shift(),v=x+u.shift(),y=M+u.shift(),e.U.P.curveTo(l,S,w,x,M,v,y)}else if(G=="o26")for(u.length%2&&(v+=u.shift());u.length>0;)S=v,w=y+u.shift(),v=x=S+u.shift(),y=(M=w+u.shift())+u.shift(),e.U.P.curveTo(l,S,w,x,M,v,y);else if(G=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)w=y,x=(S=v+u.shift())+u.shift(),M=w+u.shift(),v=x+u.shift(),y=M,e.U.P.curveTo(l,S,w,x,M,v,y);else if(G=="o10"||G=="o29"){var ee=G=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var Y=u.pop(),Z=ee.Subrs[Y+ee.Bias];s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=m,e.U._drawCFF(Z,s,o,a,l),v=s.x,y=s.y,c=s.nStems,f=s.haveWidth,d=s.width,m=s.open}}else if(G=="o30"||G=="o31"){var ae=u.length,re=(ie=0,G=="o31");for(ie+=ae-(J=-3&ae);ie<J;)re?(w=y,x=(S=v+u.shift())+u.shift(),y=(M=w+u.shift())+u.shift(),J-ie==5?(v=x+u.shift(),ie++):v=x,re=!1):(S=v,w=y+u.shift(),x=S+u.shift(),M=w+u.shift(),v=x+u.shift(),J-ie==5?(y=M+u.shift(),ie++):y=M,re=!0),e.U.P.curveTo(l,S,w,x,M,v,y),ie+=4}else{if((G+"").charAt(0)=="o")throw console.debug("Unknown operation: "+G,i),G;u.push(G)}}}s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=d,s.open=m};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function nne(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(G,J){for(var D=new n(31),U=0;U<31;++U)D[U]=J+=1<<G[U-1];var W=new r(D[30]);for(U=1;U<30;++U)for(var ie=D[U];ie<D[U+1];++ie)W[ie]=ie-D[U]<<5|U;return[D,W]},l=a(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=a(s,0)[0],d=new n(32768),m=0;m<32768;++m){var g=(43690&m)>>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[m]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(G,J,D){for(var U=G.length,W=0,ie=new n(J);W<U;++W)++ie[G[W]-1];var L,O=new n(J);for(W=0;W<J;++W)O[W]=O[W-1]+ie[W-1]<<1;if(D){L=new n(1<<J);var V=15-J;for(W=0;W<U;++W)if(G[W])for(var j=W<<4|G[W],k=J-G[W],q=O[G[W]-1]++<<k,ee=q|(1<<k)-1;q<=ee;++q)L[d[q]>>>V]=j}else for(L=new n(U),W=0;W<U;++W)G[W]&&(L[W]=d[O[G[W]-1]++]>>>15-G[W]);return L},y=new e(288);for(m=0;m<144;++m)y[m]=8;for(m=144;m<256;++m)y[m]=9;for(m=256;m<280;++m)y[m]=7;for(m=280;m<288;++m)y[m]=8;var S=new e(32);for(m=0;m<32;++m)S[m]=5;var w=v(y,9,1),x=v(S,5,1),M=function(G){for(var J=G[0],D=1;D<G.length;++D)G[D]>J&&(J=G[D]);return J},E=function(G,J,D){var U=J/8|0;return(G[U]|G[U+1]<<8)>>(7&J)&D},C=function(G,J){var D=J/8|0;return(G[D]|G[D+1]<<8|G[D+2]<<16)>>(7&J)},P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(G,J,D){var U=new Error(J||P[G]);if(U.code=G,Error.captureStackTrace&&Error.captureStackTrace(U,T),!D)throw U;return U},R=function(G,J,D){var U=G.length;if(!U||D&&!D.l&&U<5)return J||new e(0);var W=!J||D,ie=!D||D.i;D||(D={}),J||(J=new e(3*U));var L,O=function(Xe){var le=J.length;if(Xe>le){var Re=new e(Math.max(2*le,Xe));Re.set(J),J=Re}},V=D.f||0,j=D.p||0,k=D.b||0,q=D.l,ee=D.d,Y=D.m,Z=D.n,ae=8*U;do{if(!q){D.f=V=E(G,j,1);var re=E(G,j+1,3);if(j+=3,!re){var me=G[(We=((L=j)/8|0)+(7&L&&1)+4)-4]|G[We-3]<<8,Ee=We+me;if(Ee>U){ie&&T(0);break}W&&O(k+me),J.set(G.subarray(We,Ee),k),D.b=k+=me,D.p=j=8*Ee;continue}if(re==1)q=w,ee=x,Y=9,Z=5;else if(re==2){var _e=E(G,j,31)+257,se=E(G,j+10,15)+4,xe=_e+E(G,j+5,31)+1;j+=14;for(var Le=new e(xe),Ce=new e(19),Be=0;Be<se;++Be)Ce[o[Be]]=E(G,j+3*Be,7);j+=3*se;var He=M(Ce),Te=(1<<He)-1,Ye=v(Ce,He,1);for(Be=0;Be<xe;){var We,De=Ye[E(G,j,Te)];if(j+=15&De,(We=De>>>4)<16)Le[Be++]=We;else{var Q=0,z=0;for(We==16?(z=3+E(G,j,3),j+=2,Q=Le[Be-1]):We==17?(z=3+E(G,j,7),j+=3):We==18&&(z=11+E(G,j,127),j+=7);z--;)Le[Be++]=Q}}var ue=Le.subarray(0,_e),we=Le.subarray(_e);Y=M(ue),Z=M(we),q=v(ue,Y,1),ee=v(we,Z,1)}else T(1);if(j>ae){ie&&T(0);break}}W&&O(k+131072);for(var Ge=(1<<Y)-1,Ve=(1<<Z)-1,ze=j;;ze=j){var Ze=(Q=q[C(G,j)&Ge])>>>4;if((j+=15&Q)>ae){ie&&T(0);break}if(Q||T(2),Ze<256)J[k++]=Ze;else{if(Ze==256){ze=j,q=null;break}var Ie=Ze-254;if(Ze>264){var at=i[Be=Ze-257];Ie=E(G,j,(1<<at)-1)+u[Be],j+=at}var Qe=ee[C(G,j)&Ve],st=Qe>>>4;if(Qe||T(3),j+=15&Qe,we=f[st],st>3&&(at=s[st],we+=C(G,j)&(1<<at)-1,j+=at),j>ae){ie&&T(0);break}W&&O(k+131072);for(var je=k+Ie;k<je;k+=4)J[k]=J[k-we],J[k+1]=J[k+1-we],J[k+2]=J[k+2-we],J[k+3]=J[k+3-we];k=je}}D.l=q,D.p=ze,D.b=k,q&&(V=1,D.m=Y,D.d=ee,D.n=Z)}while(!V);return k==J.length?J:function(Xe,le,Re){(le==null||le<0)&&(le=0),(Re==null||Re>Xe.length)&&(Re=Xe.length);var $e=new(Xe instanceof n?n:Xe instanceof r?r:e)(Re-le);return $e.set(Xe.subarray(le,Re)),$e}(J,0,k)},B=new e(0),N=typeof TextDecoder<"u"&&new TextDecoder;try{N.decode(B,{stream:!0})}catch{}return t.convert_streams=function(G){var J=new DataView(G),D=0;function U(){var _e=J.getUint16(D);return D+=2,_e}function W(){var _e=J.getUint32(D);return D+=4,_e}function ie(_e){me.setUint16(Ee,_e),Ee+=2}function L(_e){me.setUint32(Ee,_e),Ee+=4}for(var O={signature:W(),flavor:W(),length:W(),numTables:U(),reserved:U(),totalSfntSize:W(),majorVersion:U(),minorVersion:U(),metaOffset:W(),metaLength:W(),metaOrigLength:W(),privOffset:W(),privLength:W()},V=0;Math.pow(2,V)<=O.numTables;)V++;V--;for(var j=16*Math.pow(2,V),k=16*O.numTables-j,q=12,ee=[],Y=0;Y<O.numTables;Y++)ee.push({tag:W(),offset:W(),compLength:W(),origLength:W(),origChecksum:W()}),q+=16;var Z,ae=new Uint8Array(12+16*ee.length+ee.reduce(function(_e,se){return _e+se.origLength+4},0)),re=ae.buffer,me=new DataView(re),Ee=0;return L(O.flavor),ie(O.numTables),ie(j),ie(V),ie(k),ee.forEach(function(_e){L(_e.tag),L(_e.origChecksum),L(q),L(_e.origLength),_e.outOffset=q,(q+=_e.origLength)%4!=0&&(q+=4-q%4)}),ee.forEach(function(_e){var se,xe=G.slice(_e.offset,_e.offset+_e.compLength);if(_e.compLength!=_e.origLength){var Le=new Uint8Array(_e.origLength);se=new Uint8Array(xe,2),R(se,Le)}else Le=new Uint8Array(xe);ae.set(Le,_e.outOffset);var Ce=0;(q=_e.outOffset+_e.origLength)%4!=0&&(Ce=4-q%4),ae.set(new Uint8Array(Ce).buffer,_e.outOffset+_e.origLength),Z=q+Ce}),re.slice(0,Z)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function rne(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let c;function f(E){if(!c){const C={R:s,L:i,D:o,C:l,U:u,T:a};c=new Map;for(let P in r){let T=0;r[P].split(",").forEach(R=>{let[B,N]=R.split("+");B=parseInt(B,36),N=N?parseInt(N,36):0,c.set(T+=B,C[P]);for(let G=N;G--;)c.set(++T,C[P])})}}return c.get(E)||u}const d=1,m=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function S(E){const C=new Uint8Array(E.length);let P=u,T=d,R=-1;for(let B=0;B<E.length;B++){const N=E.codePointAt(B);let G=f(N)|0,J=d;G&a||(P&(i|o|l)?G&(s|o|l)?(J=g,(T===d||T===g)&&C[R]++):G&(i|u)&&(T===m||T===v)&&C[R]--:P&(s|u)&&(T===m||T===v)&&C[R]--,T=C[B]=J,P=G,R=B,N>65535&&B++)}return C}function w(E,C){const P=[];for(let R=0;R<C.length;R++){const B=C.codePointAt(R);B>65535&&R++,P.push(t.U.codeToGlyph(E,B))}const T=E.GSUB;if(T){const{lookupList:R,featureList:B}=T;let N;const G=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,J=[];B.forEach(D=>{if(G.test(D.tag))for(let U=0;U<D.tab.length;U++){if(J[D.tab[U]])continue;J[D.tab[U]]=!0;const W=R[D.tab[U]],ie=/^(isol|init|fina|medi)$/.test(D.tag);ie&&!N&&(N=S(C));for(let L=0;L<P.length;L++)(!N||!ie||y[N[L]]===D.tag)&&t.U._applySubs(P,L,W,R)}})}return P}function x(...E){for(let C=0;C<E.length;C++)if(typeof E[C]=="number")return E[C]}function M(E){const C=Object.create(null),P=E["OS/2"],T=E.hhea,R=E.head.unitsPerEm,B=x(P&&P.sTypoAscender,T&&T.ascender,R),N={unitsPerEm:R,ascender:B,descender:x(P&&P.sTypoDescender,T&&T.descender,0),capHeight:x(P&&P.sCapHeight,B),xHeight:x(P&&P.sxHeight,B),lineGap:x(P&&P.sTypoLineGap,T&&T.lineGap),forEachGlyph(G,J,D,U){let W=0;const ie=1/N.unitsPerEm*J,L=w(E,G);let O=0,V=-1;return L.forEach((j,k)=>{if(j!==-1){let q=C[j];if(!q){const{cmds:ee,crds:Y}=t.U.glyphToPath(E,j);let Z="",ae=0;for(let se=0,xe=ee.length;se<xe;se++){const Le=n[ee[se]];Z+=ee[se];for(let Ce=1;Ce<=Le;Ce++)Z+=(Ce>1?",":"")+Y[ae++]}let re,me,Ee,_e;if(Y.length){re=me=1/0,Ee=_e=-1/0;for(let se=0,xe=Y.length;se<xe;se+=2){let Le=Y[se],Ce=Y[se+1];Le<re&&(re=Le),Ce<me&&(me=Ce),Le>Ee&&(Ee=Le),Ce>_e&&(_e=Ce)}}else re=Ee=me=_e=0;q=C[j]={index:j,advanceWidth:E.hmtx.aWidth[j],xMin:re,yMin:me,xMax:Ee,yMax:_e,path:Z,pathCommandCount:ee.length}}V!==-1&&(W+=t.U.getPairAdjustment(E,V,j)*ie),U.call(null,q,W,O),q.advanceWidth&&(W+=q.advanceWidth*ie),D&&(W+=D*J),V=j}O+=G.codePointAt(O)>65535?2:1}),W}};return N}return function(C){const P=new Uint8Array(C,0,4),T=t._bin.readASCII(P,0,4);if(T==="wOFF")C=e(C);else if(T==="wOF2")throw new Error("woff2 fonts not supported");return M(t.parse(C)[0])}}const ine=o3({name:"Typr Font Parser",dependencies:[tne,nne,rne],init(t,e,n){const r=t(),i=e();return n(r,i)}}),Ff={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},sne=new et;function cf(){return(self.performance||Date).now()}const PT=Object.create(null);function nL(t,e){t=lne({},t);const n=cf();if(t.font=une(t.font||Ff.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Ff.sdfGlyphSize,t.colorRanges!=null){let f={};for(let d in t.colorRanges)if(t.colorRanges.hasOwnProperty(d)){let m=t.colorRanges[d];typeof m!="number"&&(m=sne.set(m).getHex()),f[d]=m}t.colorRanges=f}Object.freeze(t);const{textureWidth:r,sdfExponent:i}=Ff,{sdfGlyphSize:s}=t,o=r/s*4;let a=PT[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=PT[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new bn(f,void 0,void 0,void 0,gt,gt),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,one(a)}const{sdfTexture:l,sdfCanvas:u}=a;let c=a.glyphsByFont.get(t.font);c||a.glyphsByFont.set(t.font,c=new Map),fne(t).then(f=>{const{glyphIds:d,glyphPositions:m,fontSize:g,unitsPerEm:v,timings:y}=f,S=[],w=new Float32Array(d.length*4),x=g/v;let M=0,E=0;const C=cf();d.forEach((N,G)=>{let J=c.get(N);if(!J){const{path:ie,pathBounds:L}=f.glyphData[N],O=Math.max(L[2]-L[0],L[3]-L[1])/s*(Ff.sdfMargin*s+.5),V=a.glyphCount++,j=[L[0]-O,L[1]-O,L[2]+O,L[3]+O];c.set(N,J={path:ie,atlasIndex:V,sdfViewBox:j}),S.push(J)}const{sdfViewBox:D}=J,U=m[E++],W=m[E++];w[M++]=U+D[0]*x,w[M++]=W+D[1]*x,w[M++]=U+D[2]*x,w[M++]=W+D[3]*x,d[G]=J.atlasIndex}),y.quads=(y.quads||0)+(cf()-C);const P=cf();y.sdf={};const T=u.height,R=Math.ceil(a.glyphCount/o),B=Math.pow(2,Math.ceil(Math.log2(R*s)));B>T&&(console.info(`Increasing SDF texture size ${T}->${B}`),ene(u,r,B),l.dispose()),Promise.all(S.map(N=>rL(N,a,t.gpuAccelerateSDF).then(({timing:G})=>{y.sdf[N.atlasIndex]=G}))).then(()=>{S.length&&!a.contextLost&&(iL(a),l.needsUpdate=!0),y.sdfTotal=cf()-P,y.total=cf()-n,e(Object.freeze({parameters:t,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:w,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||$te(u)})}function rL({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Ff,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(a/r)*r,d=Math.floor(c/(a/r))*r,m=e%4;return Jte(r,r,t,n,u,l,i,f,d,m,o)}function one(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(rL(s,t,!0))})}),Promise.all(r).then(()=>{iL(t),t.sdfTexture.needsUpdate=!0})})}function ane({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;nL({font:t,sdfGlyphSize:n,text:i},r)}function lne(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let Tm;function une(t){return Tm||(Tm=typeof document>"u"?{}:document.createElement("a")),Tm.href=t,Tm.href}function iL(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const cne=o3({name:"Typesetter",dependencies:[Ff,ine,Xte,Nte],init(t,e,n,r){const{defaultFontURL:i}=t;return n(e,r(),{defaultFontURL:i})}}),fne=o3({name:"Typesetter",dependencies:[cne],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),RT={};function hne(t){let e=RT[t];if(!e){const n=new oa(1,1,t,t),r=n.clone(),i=n.attributes,s=r.attributes,o=new Vt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new St([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...n.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=RT[t]=o}return e}const dne="aTroikaGlyphBounds",DT="aTroikaGlyphIndex",pne="aTroikaGlyphColor";class mne extends bv{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Cs,this.boundingBox=new rs}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===br?n/2:0,e===ri?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=hne(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){g4(this,dne,e,4),g4(this,DT,n,1),g4(this,pne,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=i/2,f=i*2,d=Math.abs(n),m=e[0]/d,g=e[2]/d,v=s((m+c)/f)!==s((g+c)/f)?-d:o(l(m)*d,l(g)*d),y=s((m-c)/f)!==s((g-c)/f)?d:a(l(m)*d,l(g)*d),S=s((m+i)/f)!==s((g+i)/f)?d*2:a(d-u(m)*d,d-u(g)*d);r.min.set(v,e[1],n<0?-S:0),r.max.set(y,e[3],n<0?0:S)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(DT).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}}function g4(t,e,n,r){const i=t.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(t.setAttribute(e,new vc(n,r)),delete t._maxInstanceCount,t.dispose()):i&&t.deleteAttribute(e)}const gne=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,vne=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,yne=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,xne=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function wne(t){const e=i9(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ve},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new qt(0,0,0,0)},uTroikaClipRect:{value:new qt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ve},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new et},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Fr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:gne,vertexTransform:vne,fragmentDefs:yne,fragmentColorTransform:xne,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(eL,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const ow=new Zi({color:16777215,side:ri,transparent:!0}),BT=8421504,IT=new ht,Cm=new K,v4=new K,zd=[],Sne=new K,y4="+x+y";function LT(t){return Array.isArray(t)?t[0]:t}let sL=()=>{const t=new Un(new oa(1,1),ow);return sL=()=>t,t},oL=()=>{const t=new Un(new oa(1,1,32,1),ow);return oL=()=>t,t};const _ne={type:"syncstart"},Mne={type:"synccomplete"},aL=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Ane=aL.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let lL=class extends Un{constructor(){const e=new mne;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=BT,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=y4,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(_ne),nL({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Mne),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Zs}onAfterRender(e,n,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ow.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=wne(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return LT(this.material).getDepthMaterial()}get customDistanceMaterial(){return LT(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,d,m,g,v=0,y=0;if(n){let{outlineWidth:w,outlineOffsetX:x,outlineOffsetY:M,outlineBlur:E,outlineOpacity:C}=this;u=this._parsePercent(w)||0,c=Math.max(0,this._parsePercent(E)||0),d=C,v=this._parsePercent(x)||0,y=this._parsePercent(M)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??BT),m=this.strokeOpacity,m==null&&(m=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=u,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let S=this.clipRect;if(S&&Array.isArray(S)&&S.length===4)r.uTroikaClipRect.value.fromArray(S);else{const w=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-w,l[1]-w,l[2]+w,l[3]+w)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new et;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||y4;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==y4&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,d]=l;Cm.set(0,0,0)[c]=u==="-"?1:-1,v4.set(0,0,0)[d]=f==="-"?-1:1,IT.lookAt(Sne,Cm.cross(v4),v4),a.setFromMatrix4(IT)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new ve){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new ve){return Cm.copy(e),this.localPositionToTextCoords(this.worldToLocal(Cm),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?oL():sL(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let f=s[0]+u.getX(c)*(s[2]-s[0]);const d=s[1]+u.getY(c)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,d,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,zd.length=0,o.raycast(e,zd);for(let c=0;c<zd.length;c++)zd[c].object=this,n.push(zd[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,Ane.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};aL.forEach(t=>{const e="_private_"+t;Object.defineProperty(lL.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const Ene=H.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const c=en(({invalidate:g})=>g),[f]=H.useState(()=>new lL),[d,m]=H.useMemo(()=>{const g=[];let v="";return H.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return nI(()=>new Promise(g=>ane({font:r,characters:o},g)),["troika-text",r,o]),H.useLayoutEffect(()=>void f.sync(()=>{c(),a&&a(f)})),H.useEffect(()=>()=>f.dispose(),[f]),H.createElement("primitive",Pr({object:f,ref:u,font:r,text:m,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)});function uL(t,e,n,r){const i=class extends Ht{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[u,c])=>{const f=gc.clone({[u]:{value:c}});return{...l,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),r&&r(this)}};return i.key=yo.generateUUID(),i}const cL=parseInt(qs.replace(/\D+/g,""));let bm=null,fL="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function hL(t,e,n){return r=>{n&&n(r),t&&(bm||(bm=new Cte),bm.setDecoderPath(typeof t=="string"?t:fL),r.setDRACOLoader(bm)),e&&r.setMeshoptDecoder(typeof d4=="function"?d4():d4)}}function zh(t,e=!0,n=!0,r){return Tc(rw,t,hL(e,n,r))}zh.preload=(t,e=!0,n=!0,r)=>Tc.preload(rw,t,hL(e,n,r));zh.clear=t=>Tc.clear(rw,t);zh.setDecoderPath=t=>{fL=t};function dL(t,e,n){const r=en(d=>d.size),i=en(d=>d.viewport),s=typeof t=="number"?t:r.width*i.dpr,o=typeof e=="number"?e:r.height*i.dpr,a=(typeof t=="number"?n:t)||{},{samples:l=0,depth:u,...c}=a,f=H.useMemo(()=>{const d=new $t(s,o,{minFilter:gt,magFilter:gt,type:Xn,...c});return u&&(d.depthTexture=new O0(s,o,Pn)),d.samples=l,d},[]);return H.useLayoutEffect(()=>{f.setSize(s,o),l&&(f.samples=l)},[l,f,s,o]),H.useEffect(()=>()=>f.dispose(),[]),f}const Tne=t=>typeof t=="function",Cne=H.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...s},o)=>{const a=en(({set:y})=>y),l=en(({camera:y})=>y),u=en(({size:y})=>y),c=H.useRef(null),f=H.useRef(null),d=dL(e);H.useLayoutEffect(()=>{s.manual||(c.current.aspect=u.width/u.height)},[u,s]),H.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let m=0,g=null;const v=Tne(i);return $s(y=>{v&&(n===1/0||m<n)&&(f.current.visible=!1,y.gl.setRenderTarget(d),g=y.scene.background,t&&(y.scene.background=t),y.gl.render(y.scene,c.current),y.scene.background=g,y.gl.setRenderTarget(null),f.current.visible=!0,m++)}),H.useLayoutEffect(()=>{if(r){const y=l;return a(()=>({camera:c.current})),()=>a(()=>({camera:y}))}},[c,r,a]),H.createElement(H.Fragment,null,H.createElement("perspectiveCamera",Pr({ref:T$([c,o])},s),!v&&i),H.createElement("group",{ref:f},v&&i(d.texture)))}),a3=H.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},c)=>{const f=en(C=>C.invalidate),d=en(C=>C.camera),m=en(C=>C.gl),g=en(C=>C.events),v=en(C=>C.setEvents),y=en(C=>C.set),S=en(C=>C.get),w=en(C=>C.performance),x=e||d,M=r||g.connected||m.domElement,E=H.useMemo(()=>new Wee(x),[x]);return $s(()=>{E.enabled&&E.update()},-1),H.useEffect(()=>(s&&E.connect(s===!0?M:s),E.connect(M),()=>void E.dispose()),[s,M,n,E,f]),H.useEffect(()=>{const C=R=>{f(),n&&w.regress(),o&&o(R)},P=R=>{a&&a(R)},T=R=>{l&&l(R)};return E.addEventListener("change",C),E.addEventListener("start",P),E.addEventListener("end",T),()=>{E.removeEventListener("start",P),E.removeEventListener("end",T),E.removeEventListener("change",C)}},[o,a,l,E,f,v]),H.useEffect(()=>{if(t){const C=S().controls;return y({controls:E}),()=>y({controls:C})}},[t,E]),H.createElement("primitive",Pr({ref:c,object:E,enableDamping:i},u))}),bne=H.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:u,front:c,back:f,onCentered:d,precise:m=!0,cacheKey:g=0,...v},y){const S=H.useRef(null),w=H.useRef(null),x=H.useRef(null);return H.useLayoutEffect(()=>{w.current.matrixWorld.identity();const M=new rs().setFromObject(x.current,m),E=new K,C=new Cs,P=M.max.x-M.min.x,T=M.max.y-M.min.y,R=M.max.z-M.min.z;M.getCenter(E),M.getBoundingSphere(C);const B=l?T/2:u?-T/2:0,N=o?-P/2:a?P/2:0,G=c?R/2:f?-R/2:0;w.current.position.set(n||r?0:-E.x+N,n||i?0:-E.y+B,n||s?0:-E.z+G),typeof d<"u"&&d({parent:S.current.parent,container:S.current,width:P,height:T,depth:R,boundingBox:M,boundingSphere:C,center:E,verticalAlignment:B,horizontalAlignment:N,depthAlignment:G})},[g,d,l,o,c,n,r,i,s,m,a,u,f]),H.useImperativeHandle(y,()=>S.current,[]),H.createElement("group",Pr({ref:S},v),H.createElement("group",{ref:w},H.createElement("group",{ref:x},e)))});var Pne=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Rne extends Do{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${Pne}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const Dne=H.forwardRef(({speed:t=1,...e},n)=>{const[r]=H.useState(()=>new Rne);return $s(i=>r&&(r.time=i.clock.getElapsedTime()*t)),H.createElement("primitive",Pr({object:r,ref:n,attach:"material"},e))}),Bne=uL({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");function Ine(t,e){const n=t+"Geometry";return H.forwardRef(({args:r,children:i,...s},o)=>{const a=H.useRef(null);return H.useImperativeHandle(o,()=>a.current),H.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),H.createElement("mesh",Pr({ref:a},s),H.createElement(n,{attach:"geometry",args:r}),i)})}const pL=Ine("sphere"),ff=t=>t&&t.isOrthographicCamera,Lne=t=>t&&t.isBox3,mL=H.createContext(null);function Fne({children:t,damping:e=6,fit:n,clip:r,observe:i,margin:s=1.2,eps:o=.01,onFit:a}){const l=H.useRef(null),{camera:u,invalidate:c,size:f,controls:d}=en(),m=d,g=H.useRef(a);g.current=a;function v(C,P){return Math.abs(C.x-P.x)<o&&Math.abs(C.y-P.y)<o&&Math.abs(C.z-P.z)<o}function y(C,P,T,R){C.x=yo.damp(C.x,P.x,T,R),C.y=yo.damp(C.y,P.y,T,R),C.z=yo.damp(C.z,P.z,T,R)}const[S]=H.useState(()=>({animating:!1,focus:new K,camera:new K,zoom:1})),[w]=H.useState(()=>({focus:new K,camera:new K,zoom:1})),[x]=H.useState(()=>new rs),M=H.useMemo(()=>{function C(){const P=x.getSize(new K),T=x.getCenter(new K),R=Math.max(P.x,P.y,P.z),B=ff(u)?R*4:R/(2*Math.atan(Math.PI*u.fov/360)),N=ff(u)?R*4:B/u.aspect,G=s*Math.max(B,N);return{box:x,size:P,center:T,distance:G}}return{getSize:C,refresh(P){if(Lne(P))x.copy(P);else{const T=P||l.current;if(!T)return this;T.updateWorldMatrix(!0,!0),x.setFromObject(T)}if(x.isEmpty()){const T=u.position.length()||10;x.setFromCenterAndSize(new K,new K(T,T,T))}if((m==null?void 0:m.constructor.name)==="OrthographicTrackballControls"){const{distance:T}=C(),R=u.position.clone().sub(m.target).normalize().multiplyScalar(T),B=m.target.clone().add(R);u.position.copy(B)}return this},clip(){const{distance:P}=C();return m&&(m.maxDistance=P*10),u.near=P/100,u.far=P*100,u.updateProjectionMatrix(),m&&m.update(),c(),this},to({position:P,target:T}){S.camera.copy(u.position);const{center:R}=C();return w.camera.set(...P),T?w.focus.set(...T):w.focus.copy(R),e?S.animating=!0:u.position.set(...P),this},fit(){S.camera.copy(u.position),m&&S.focus.copy(m.target);const{center:P,distance:T}=C(),R=P.clone().sub(u.position).normalize().multiplyScalar(T);if(w.camera.copy(P).sub(R),w.focus.copy(P),ff(u)){S.zoom=u.zoom;let B=0,N=0;const G=[new K(x.min.x,x.min.y,x.min.z),new K(x.min.x,x.max.y,x.min.z),new K(x.min.x,x.min.y,x.max.z),new K(x.min.x,x.max.y,x.max.z),new K(x.max.x,x.max.y,x.max.z),new K(x.max.x,x.max.y,x.min.z),new K(x.max.x,x.min.y,x.max.z),new K(x.max.x,x.min.y,x.min.z)];P.applyMatrix4(u.matrixWorldInverse);for(const U of G)U.applyMatrix4(u.matrixWorldInverse),B=Math.max(B,Math.abs(U.y-P.y)),N=Math.max(N,Math.abs(U.x-P.x));B*=2,N*=2;const J=(u.top-u.bottom)/B,D=(u.right-u.left)/N;w.zoom=Math.min(J,D)/s,e||(u.zoom=w.zoom,u.updateProjectionMatrix())}return e?S.animating=!0:(u.position.copy(w.camera),u.lookAt(w.focus),m&&(m.target.copy(w.focus),m.update())),g.current&&g.current(this.getSize()),c(),this}}},[x,u,m,s,e,c]);H.useLayoutEffect(()=>{if(m){const C=()=>S.animating=!1;return m.addEventListener("start",C),()=>m.removeEventListener("start",C)}},[m]);const E=H.useRef(0);return H.useLayoutEffect(()=>{(i||E.current++===0)&&(M.refresh(),n&&M.fit(),r&&M.clip())},[f,r,n,i,u,m]),$s((C,P)=>{if(S.animating){if(y(S.focus,w.focus,e,P),y(S.camera,w.camera,e,P),S.zoom=yo.damp(S.zoom,w.zoom,e,P),u.position.copy(S.camera),ff(u)&&(u.zoom=S.zoom,u.updateProjectionMatrix()),m?(m.target.copy(S.focus),m.update()):u.lookAt(S.focus),c(),ff(u)&&!(Math.abs(S.zoom-w.zoom)<o)||!ff(u)&&!v(S.camera,w.camera)||m&&!v(S.focus,w.focus))return;S.animating=!1}}),H.createElement("group",{ref:l},H.createElement(mL.Provider,{value:M},t))}function kne(){return H.useContext(mL)}const x4={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Une="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",FT=t=>Array.isArray(t);function gL({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var s;let o=null,a=!1,l;if(n){if(!(n in x4))throw new Error("Preset must be one of: "+Object.keys(x4).join(", "));t=x4[n],e=Une}if(a=FT(t),l=FT(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(s=t.split(".").pop())==null||(s=s.split("?"))==null||(s=s.shift())==null?void 0:s.toLowerCase(),o=a?zB:l==="hdr"?Ete:l==="exr"?Tte:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=Tc(o,a?[t]:t,m=>{m.setPath==null||m.setPath(e),i&&i(m)}),c=a?u[0]:u;c.mapping=a?ja:hh;const f=3001,d=3e3;return"colorSpace"in c?c.colorSpace=r??a?"srgb":"srgb-linear":c.encoding=r??a?f:d,c}const Nne=t=>t.current&&t.current.isScene,One=t=>Nne(t)?t.current:t;function aw(t,e,n,r,i=0){const s=One(e||n),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return t!=="only"&&(s.environment=r),t&&(s.background=r),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{t!=="only"&&(s.environment=a),t&&(s.background=o),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function lw({scene:t,background:e=!1,blur:n,map:r}){const i=en(s=>s.scene);return H.useLayoutEffect(()=>{if(r)return aw(e,t,i,r,n)},[i,t,r,e,n]),null}function vL({background:t=!1,scene:e,blur:n,...r}){const i=gL(r),s=en(o=>o.scene);return H.useLayoutEffect(()=>aw(t,e,s,i,n),[i,t,e,s,n]),null}function zne({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:c,preset:f=void 0,extensions:d}){const m=en(x=>x.gl),g=en(x=>x.scene),v=H.useRef(null),[y]=H.useState(()=>new Xa),S=H.useMemo(()=>{const x=new N0(r);return x.texture.type=Xn,x},[r]);H.useLayoutEffect(()=>(i===1&&v.current.update(m,y),aw(o,l,g,S.texture,a)),[t,y,S.texture,l,g,o,i,m]);let w=1;return $s(()=>{(i===1/0||w<i)&&(v.current.update(m,y),w++)}),H.createElement(H.Fragment,null,z7(H.createElement(H.Fragment,null,t,H.createElement("cubeCamera",{ref:v,args:[e,n,S]}),u||f?H.createElement(vL,{background:!0,files:u,preset:f,path:c,extensions:d}):s?H.createElement(lw,{background:!0,map:s,extensions:d}):null),y))}function Gne(t){var e,n,r,i;const s=gL(t),o=t.map||s;H.useMemo(()=>Pv({GroundProjectedEnvImpl:Hee}),[]);const a=H.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return H.createElement(H.Fragment,null,H.createElement(lw,Pr({},t,{map:o})),H.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function Hne(t){return t.ground?H.createElement(Gne,t):t.map?H.createElement(lw,t):t.children?H.createElement(zne,t):H.createElement(vL,t)}const Vne=H.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,near:o=0,far:a=10,resolution:l=512,smooth:u=!0,color:c="#000000",depthWrite:f=!1,renderOrder:d,...m},g)=>{const v=H.useRef(null),y=en(D=>D.scene),S=en(D=>D.gl),w=H.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[x,M,E,C,P,T,R]=H.useMemo(()=>{const D=new $t(l,l),U=new $t(l,l);U.texture.generateMipmaps=D.texture.generateMipmaps=!1;const W=new oa(r,i).rotateX(Math.PI/2),ie=new Un(W),L=new Ih;L.depthTest=L.depthWrite=!1,L.onBeforeCompile=j=>{j.uniforms={...j.uniforms,ucolor:{value:new et(c)}},j.fragmentShader=j.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),j.fragmentShader=j.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const O=new Ht(Mte),V=new Ht(Ate);return V.depthTest=O.depthTest=!1,[D,W,L,ie,O,V,U]},[l,r,i,t,c]),B=D=>{C.visible=!0,C.material=P,P.uniforms.tDiffuse.value=x.texture,P.uniforms.h.value=D*1/256,S.setRenderTarget(R),S.render(C,w.current),C.material=T,T.uniforms.tDiffuse.value=R.texture,T.uniforms.v.value=D*1/256,S.setRenderTarget(x),S.render(C,w.current),C.visible=!1};let N=0,G,J;return $s(()=>{w.current&&(e===1/0||N<e)&&(N++,G=y.background,J=y.overrideMaterial,v.current.visible=!1,y.background=null,y.overrideMaterial=E,S.setRenderTarget(x),S.render(y,w.current),B(s),u&&B(s*.4),S.setRenderTarget(null),v.current.visible=!0,y.overrideMaterial=J,y.background=G)}),H.useImperativeHandle(g,()=>v.current,[]),H.createElement("group",Pr({"rotation-x":Math.PI/2},m,{ref:v}),H.createElement("mesh",{renderOrder:d,geometry:M,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},H.createElement("meshBasicMaterial",{transparent:!0,map:x.texture,opacity:n,depthWrite:f})),H.createElement("orthographicCamera",{ref:w,args:[-r/2,r/2,i/2,-i/2,o,a]}))});function Wne(t){return t.isLight}function jne(t){return!!t.geometry}const yL=H.createContext(null),Xne=uL({color:new et,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${cL>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),Jne=H.forwardRef(({children:t,temporal:e,frames:n=40,limit:r=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:u=2,resolution:c=1024,toneMapped:f=!0,...d},m)=>{Pv({SoftShadowMaterial:Xne});const g=en(C=>C.gl),v=en(C=>C.scene),y=en(C=>C.camera),S=en(C=>C.invalidate),w=H.useRef(null),x=H.useRef(null),[M]=H.useState(()=>new Kne(g,v,c));H.useLayoutEffect(()=>{M.configure(w.current)},[]);const E=H.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,n),blend:Math.max(2,n===1/0?i:n),count:0,getMesh:()=>w.current,reset:()=>{M.clear();const C=w.current.material;C.opacity=0,C.alphaTest=0,E.count=0},update:(C=1)=>{const P=w.current.material;E.temporal?(P.opacity=Math.min(o,P.opacity+o/E.blend),P.alphaTest=Math.min(a,P.alphaTest+a/E.blend)):(P.opacity=o,P.alphaTest=a),x.current.visible=!0,M.prepare();for(let T=0;T<C;T++)E.lights.forEach(R=>R.update()),M.update(y,E.blend);x.current.visible=!1,M.finish()}}),[M,y,v,e,n,i,o,a]);return H.useLayoutEffect(()=>{E.reset(),!E.temporal&&E.frames!==1/0&&E.update(E.blend)}),H.useImperativeHandle(m,()=>E,[E]),$s(()=>{(E.temporal||E.frames===1/0)&&E.count<E.frames&&E.count<r&&(S(),E.update(),E.count++)}),H.createElement("group",d,H.createElement("group",{traverse:()=>null,ref:x},H.createElement(yL.Provider,{value:E},t)),H.createElement("mesh",{receiveShadow:!0,ref:w,scale:s,rotation:[-Math.PI/2,0,0]},H.createElement("planeGeometry",null),H.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:l,blend:u,map:M.progressiveLightMap2.texture})))}),Yne=H.forwardRef(({castShadow:t=!0,bias:e=.001,mapSize:n=512,size:r=5,near:i=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:u=8,intensity:c=cL>=155?Math.PI:1,ambient:f=.5,...d},m)=>{const g=H.useRef(null),v=new K(...a).length(),y=H.useContext(yL),S=H.useCallback(()=>{let x;if(g.current)for(let M=0;M<g.current.children.length;M++)if(x=g.current.children[M],Math.random()>f)x.position.set(a[0]+yo.randFloatSpread(l),a[1]+yo.randFloatSpread(l),a[2]+yo.randFloatSpread(l));else{let E=Math.acos(2*Math.random()-1)-Math.PI/2,C=2*Math.PI*Math.random();x.position.set(Math.cos(E)*Math.cos(C)*v,Math.abs(Math.cos(E)*Math.sin(C)*v),Math.sin(E)*v)}},[l,f,v,...a]),w=H.useMemo(()=>({update:S}),[S]);return H.useImperativeHandle(m,()=>w,[w]),H.useLayoutEffect(()=>{const x=g.current;return y&&y.lights.set(x.uuid,w),()=>void y.lights.delete(x.uuid)},[y,w]),H.createElement("group",Pr({ref:g},d),Array.from({length:u},(x,M)=>H.createElement("directionalLight",{key:M,castShadow:t,"shadow-bias":e,"shadow-mapSize":[n,n],intensity:c/u},H.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,s]}))))});class Kne{constructor(e,n,r=1024){this.renderer=e,this.res=r,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new et,this.clearAlpha=0;const i={type:Xn,magFilter:Nt,minFilter:Nt};this.progressiveLightMap1=new $t(this.res,this.res,i),this.progressiveLightMap2=new $t(this.res,this.res,i),this.discardMat=new Bne,this.targetMat=new w7({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{jne(e)?this.meshes.push({object:e,material:e.material}):Wne(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,n=100){if(!this.object)return;this.averagingWindow.value=n,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}const Zne={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Qne({radius:t,adjustCamera:e}){const n=kne();return H.useEffect(()=>{e&&n.refresh().clip().fit()},[t,e]),null}function xL({children:t,center:e,adjustCamera:n=!0,intensity:r=.5,shadows:i="contact",environment:s="city",preset:o="rembrandt",...a}){var l,u,c,f,d,m,g,v;const y=typeof o=="string"?Zne[o]:o,[{radius:S,height:w},x]=H.useState({radius:0,width:0,height:0,depth:0}),M=(l=i==null?void 0:i.bias)!==null&&l!==void 0?l:-1e-4,E=(u=i==null?void 0:i.normalBias)!==null&&u!==void 0?u:0,C=(c=i==null?void 0:i.size)!==null&&c!==void 0?c:1024,P=(f=i==null?void 0:i.offset)!==null&&f!==void 0?f:0,T=i==="contact"||(i==null?void 0:i.type)==="contact",R=i==="accumulative"||(i==null?void 0:i.type)==="accumulative",B={...typeof i=="object"?i:{}},N=s?typeof s=="string"?{preset:s}:s:null,G=H.useCallback(J=>{const{width:D,height:U,depth:W,boundingSphere:ie}=J;x({radius:ie.radius,width:D,height:U,depth:W}),e!=null&&e.onCentered&&e.onCentered(J)},[]);return H.createElement(H.Fragment,null,H.createElement("ambientLight",{intensity:r/3}),H.createElement("spotLight",{penumbra:1,position:[y.main[0]*S,y.main[1]*S,y.main[2]*S],intensity:r*2,castShadow:!!i,"shadow-bias":M,"shadow-normalBias":E,"shadow-mapSize":C}),H.createElement("pointLight",{position:[y.fill[0]*S,y.fill[1]*S,y.fill[2]*S],intensity:r}),H.createElement(Fne,Pr({fit:!!n,clip:!!n,margin:Number(n),observe:!0},a),H.createElement(Qne,{radius:S,adjustCamera:n}),H.createElement(bne,Pr({},e,{position:[0,P/2,0],onCentered:G}),t)),H.createElement("group",{position:[0,-w/2-P/2,0]},T&&H.createElement(Vne,Pr({scale:S*4,far:S,blur:2},B)),R&&H.createElement(Jne,Pr({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:S*4},B),H.createElement(Yne,{amount:(d=B.amount)!==null&&d!==void 0?d:8,radius:(m=B.radius)!==null&&m!==void 0?m:S,ambient:(g=B.ambient)!==null&&g!==void 0?g:.5,intensity:(v=B.intensity)!==null&&v!==void 0?v:1,position:[y.main[0]*S,y.main[1]*S,y.main[2]*S],size:S*4,bias:-M,mapSize:C}))),s&&H.createElement(Hne,N))}const qne=H.forwardRef(({children:t,compute:e,width:n,height:r,samples:i=8,renderPriority:s=0,eventPriority:o=0,frames:a=1/0,stencilBuffer:l=!1,depthBuffer:u=!0,generateMipmaps:c=!1,...f},d)=>{const{size:m,viewport:g}=en(),v=dL((n||m.width)*g.dpr,(r||m.height)*g.dpr,{samples:i,stencilBuffer:l,depthBuffer:u,generateMipmaps:c}),[y]=H.useState(()=>new Xa),S=H.useCallback((w,x,M)=>{var E,C;let P=(E=v.texture)==null?void 0:E.__r3f.parent;for(;P&&!(P instanceof pn);)P=P.__r3f.parent;if(!P)return!1;M.raycaster.camera||M.events.compute(w,M,(C=M.previousRoot)==null?void 0:C.getState());const[T]=M.raycaster.intersectObject(P);if(!T)return!1;const R=T.uv;if(!R)return!1;x.raycaster.setFromCamera(x.pointer.set(R.x*2-1,R.y*2-1),x.camera)},[]);return H.useImperativeHandle(d,()=>v.texture,[v]),H.createElement(H.Fragment,null,z7(H.createElement($ne,{renderPriority:s,frames:a,fbo:v},t,H.createElement("group",{onPointerOver:()=>null})),y,{events:{compute:e||S,priority:o}}),H.createElement("primitive",Pr({object:v.texture},f)))});function $ne({frames:t,renderPriority:e,children:n,fbo:r}){let i=0,s;return $s(o=>{(t===1/0||i<t)&&(s=o.gl.autoClear,o.gl.autoClear=!0,o.gl.setRenderTarget(r),o.gl.render(o.scene,o.camera),o.gl.setRenderTarget(null),o.gl.autoClear=s,i++)},e),H.createElement(H.Fragment,null,n)}const ere=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    height: 200vh;
  }
`,tre=Ft.div`
  height: 100%;
  scroll-snap-align: center;
  width: 1400px;
  display: flex;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    width: 100%;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
`,nre=Ft.div`
  flex: 2;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;

  @media only screen and (max-width: 768px) {
    flex: 1;
    align-items: center;
  }
`,rre=Ft.h1`
  font-size: 74px;

  @media only screen and (max-width: 768px) {
    text-align: center;
  }
`,ire=Ft.div`
  display: flex;
  align-items: center;
  gap: 10px;
`,sre=Ft.img`
  height: 5px;
`,ore=Ft.h2`
  color: #da4ea2;
`,are=Ft.p`
  font-size: 24px;
  color: lightgray;
  @media only screen and (max-width: 768px) {
    padding: 20px;
    text-align: center;
  }
`,lre=Ft.button`
  background-color: #da4ea2;
  color: white;
  font-weight: 500;
  width: 100px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
`,ure=Ft.div`
  flex: 3;
  position: relative;
  @media only screen and (max-width: 768px) {
    flex: 1;
    width: 100%;
  }
`,cre=Ft.img`
  width: 800px;
  height: 600px;
  object-fit: contain;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  animation: animate 2s infinite ease alternate;

  @media only screen and (max-width: 768px) {
    width: 300px;
    height: 300px;
  }

  @keyframes animate {
    to {
      transform: translateY(20px);
    }
  }
`,fre=()=>hn(ere,{children:[Ne(FW,{}),hn(tre,{children:[hn(nre,{children:[Ne(rre,{children:"Think. Make. Solve."}),hn(ire,{children:[Ne(sre,{src:"./img/line.png"}),Ne(ore,{children:"What we Do"})]}),Ne(are,{children:"we enjoy creating delightful, human-centered digital experiences."}),Ne(lre,{children:"Learn More"})]}),hn(ure,{children:[Ne(t3,{children:hn(H.Suspense,{fallback:null,children:[Ne(a3,{enableZoom:!1}),Ne("ambientLight",{intensity:1}),Ne("directionalLight",{position:[3,2,1]}),Ne(pL,{args:[1,100,200],scale:2.4,children:Ne(Dne,{color:"#3d1c56",attach:"material",distort:.5,speed:2})})]})}),Ne(cre,{src:"./img/moon.png"})]})]})]}),hre=()=>{const t=H.useRef();return $s(e=>t.current.position.x=Math.sin(e.clock.elapsedTime)*2),hn("mesh",{children:[Ne("boxGeometry",{}),Ne("meshStandardMaterial",{children:hn(qne,{attach:"map",children:[Ne(Cne,{makeDefault:!0,position:[0,0,5]}),Ne("color",{attach:"background",args:["#dc9dcd"]}),Ne(Ene,{ref:t,fontSize:3,color:"#555",children:"hello"})]})})]})},dre=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  justify-content: center;
`,pre=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  width: 1400px;
  display: flex;
  justify-content: space-between;
`,mre=Ft.div`
  flex: 1;

  @media only screen and (max-width: 768px) {
    display: none;
  }
`,gre=Ft.h1`
  font-size: 74px;

  @media only screen and (max-width: 768px) {
    font-size: 60px;
  }
`,vre=Ft.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;

  @media only screen and (max-width: 768px) {
    align-items: center;
    text-align: center;
  }
`,yre=Ft.div`
  display: flex;
  align-items: center;
  gap: 10px;
`,xre=Ft.img`
  height: 5px;
`,wre=Ft.h2`
  color: #da4ea2;
`,Sre=Ft.p`
  font-size: 24px;
  color: lightgray;
`,_re=Ft.button`
  background-color: #da4ea2;
  color: white;
  font-weight: 500;
  width: 120px;
  padding: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
`,Mre=()=>Ne(dre,{children:hn(pre,{children:[Ne(mre,{children:Ne(t3,{camera:{position:[5,5,5],fov:25},children:hn(H.Suspense,{fallback:null,children:[Ne("ambientLight",{intensity:.5}),Ne("directionalLight",{position:[3,2,1]}),Ne(hre,{}),Ne(a3,{enableZoom:!1,autoRotate:!0})]})})}),hn(vre,{children:[Ne(gre,{children:"Think outside the square space"}),hn(yre,{children:[Ne(xre,{src:"./img/line.png"}),Ne(wre,{children:"Who we Are"})]}),Ne(Sre,{children:"a creative group of designers and developers with a passion for the arts."}),Ne(_re,{children:"See our works"})]})]})});/**
 * postprocessing v6.33.1 build Tue Sep 19 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rüschen
 * @license Zlib
 */var Cc="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Are=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 cocNearFar=texture2D(cocBuffer,vUv).rg*scale;float coc=cocNearFar.x;
#else
float coc=texture2D(cocBuffer,vUv).g*scale;
#endif
if(coc==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(cocNearFar.x,cocNearFar.y);
#else
vec2 step=texelSize*coc;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,Pm=class extends Ht{constructor(t=!1,e=!1){super({name:"BokehMaterial",defines:{PASS:t?"2":"1"},uniforms:{inputBuffer:new de(null),cocBuffer:new de(null),texelSize:new de(new ve),kernel64:new de(null),kernel16:new de(null),scale:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Are,vertexShader:Cc}),e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set cocBuffer(t){this.uniforms.cocBuffer.value=t}setCoCBuffer(t){this.uniforms.cocBuffer.value=t}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(t){return this.scale}setScale(t){this.scale=t}generateKernel(){const t=2.39996323,e=new Float64Array(128),n=new Float64Array(32);let r=0,i=0;for(let s=0,o=Math.sqrt(80);s<80;++s){const a=s*t,l=Math.sqrt(s)/o,u=l*Math.cos(a),c=l*Math.sin(a);s%5===0?(n[i++]=u,n[i++]=c):(e[r++]=u,e[r++]=c)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=n}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Ut={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},kf={RED:0,GREEN:1,BLUE:2,ALPHA:3},wL="",Tn="srgb",Mh="srgb-linear",sp={FULL:0,SINGLE:1},Pp={DEFAULT:0,KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},Ao={NONE:0,DEPTH:1,CONVOLUTION:2},An={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},zu={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3},Gh={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Ere={SCALE_UP:"lut.scaleup"},uw={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2,MULTIPLY_RGB:3},SL=Number(qs.replace(/\D+/g,"")),cw=SL>=152,_L=new Map([[To,Mh],[En,Tn]]),Tre=new Map([[Mh,To],[Tn,En]]);function Ya(t){return t===null?null:cw?t.outputColorSpace:_L.get(t.outputEncoding)}function kr(t,e){t!==null&&(cw?t.colorSpace=e:t.encoding=Tre.get(e))}function w4(t,e){t===null||e===null||(cw?e.colorSpace=t.colorSpace:e.encoding=t.encoding)}function l3(t){return SL<154?t.replace("colorspace_fragment","encodings_fragment"):t}function Uf(t,e,n){return t*(e-n)-e}function Qu(t,e,n){return Math.min(Math.max((t+e)/(e-n),0),1)}var Cre=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#ifdef LOG_DEPTH
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#endif
return depth;}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,bre=class extends Ht{constructor(t){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),focusDistance:new de(0),focusRange:new de(0),cameraNear:new de(.3),cameraFar:new de(1e3)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Cre,vertexShader:Cc}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(t)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(t){this.uniforms.focusDistance.value=t}get worldFocusDistance(){return-Uf(this.focusDistance,this.near,this.far)}set worldFocusDistance(t){this.focusDistance=Qu(-t,this.near,this.far)}getFocusDistance(t){this.uniforms.focusDistance.value=t}setFocusDistance(t){this.uniforms.focusDistance.value=t}get focalLength(){return this.focusRange}set focalLength(t){this.focusRange=t}get focusRange(){return this.uniforms.focusRange.value}set focusRange(t){this.uniforms.focusRange.value=t}get worldFocusRange(){return-Uf(this.focusRange,this.near,this.far)}set worldFocusRange(t){this.focusRange=Qu(-t,this.near,this.far)}getFocalLength(t){return this.focusRange}setFocalLength(t){this.focusRange=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Pre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,Rre="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",Dre=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Bre=class extends Ht{constructor(t=new qt){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new de(null),texelSize:new de(new qt),scale:new de(1),kernel:new de(0)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Pre,vertexShader:Rre}),this.fragmentShader=l3(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=Gh.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return Dre[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},Ire=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,ML=class extends Ht{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new de(null),opacity:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ire,vertexShader:Cc}),this.fragmentShader=l3(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},Lre=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,Fre=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,kre=class extends Ht{constructor(t=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),cameraNear:new de(.3),cameraFar:new de(1e3)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Lre,vertexShader:Fre}),this.depthBuffer=t,this.depthPacking=Co,this.copyCameraSettings(e)}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Co){this.depthBuffer=t,this.depthPacking=e}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Ure=`#include <packing>
varying vec2 vUv;
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
#if INPUT_DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if INPUT_DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
void main(){
#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING
gl_FragColor=texture2D(depthBuffer,vUv);
#else
float depth=readDepth(vUv);
#if OUTPUT_DEPTH_PACKING == 3201
gl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);
#else
gl_FragColor=vec4(vec3(depth),1.0);
#endif
#endif
}`,Nre=`varying vec2 vUv;
#if DEPTH_COPY_MODE == 1
uniform vec2 texelPosition;
#endif
void main(){
#if DEPTH_COPY_MODE == 1
vUv=texelPosition;
#else
vUv=position.xy*0.5+0.5;
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,Ore=class extends Ht{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new de(null),texelPosition:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ure,vertexShader:Nre}),this.depthCopyMode=sp.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set inputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.inputDepthPacking=e}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(t){this.uniforms.texelPosition.value=t}get mode(){return this.depthCopyMode}set mode(t){this.depthCopyMode=t,this.defines.DEPTH_COPY_MODE=t.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(t){this.mode=t}},zre=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in highp float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;highp float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){highp float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
highp vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
highp vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,Gre="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Hre=class extends Ht{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),normalBuffer:new de(null),texelSize:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:zre,vertexShader:Gre})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Vre=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.x*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.x=a+b/d;
#endif
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.y*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.y=a+b/d;
#endif
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,AL=class extends Ht{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:Pp.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new de(null),depthBuffer0:new de(null),depthBuffer1:new de(null),cameraNearFar:new de(new ve(1,1))},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Vre,vertexShader:Cc}),this.depthMode=mg}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,e=Yr){this.depthBuffer0=t,this.depthPacking0=e}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,e=Yr){this.depthBuffer1=t,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?Pp.KEEP_MAX_DEPTH:Pp.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let e;switch(t){case Vx:e="false";break;case Wx:e="true";break;case a0:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case cv:e="abs(d1 - d0) > DEPTH_EPSILON";break;case mg:e="d0 > d1";break;case o0:e="d0 >= d1";break;case jx:e="d0 <= d1";break;case Xx:default:e="d0 < d1";break}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Wre=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,jre="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",Xre=class extends Ht{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new de(null),texelSize:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Wre,vertexShader:jre}),this.fragmentShader=l3(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Jre=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,Yre="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",Kre=class extends Ht{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:qs.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new de(null),depthBuffer:new de(null),resolution:new de(new ve),texelSize:new de(new ve),cameraNear:new de(.3),cameraFar:new de(1e3),aspect:new de(1),time:new de(0)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=Jre.replace(An.FRAGMENT_HEAD,t.get(An.FRAGMENT_HEAD)||"").replace(An.FRAGMENT_MAIN_UV,t.get(An.FRAGMENT_MAIN_UV)||"").replace(An.FRAGMENT_MAIN_IMAGE,t.get(An.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=Yre.replace(An.VERTEX_HEAD,t.get(An.VERTEX_HEAD)||"").replace(An.VERTEX_MAIN_SUPPORT,t.get(An.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=l3(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return An}},Zre=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);
#include <dithering_fragment>
}`,Qre=class extends Ht{constructor(t){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new de(null),lightPosition:new de(t),density:new de(1),decay:new de(1),weight:new de(1),exposure:new de(1),clampMax:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Zre,vertexShader:Cc})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(t){this.uniforms.lightPosition.value=t}get density(){return this.uniforms.density.value}set density(t){this.uniforms.density.value=t}getDensity(){return this.uniforms.density.value}setDensity(t){this.uniforms.density.value=t}get decay(){return this.uniforms.decay.value}set decay(t){this.uniforms.decay.value=t}getDecay(){return this.uniforms.decay.value}setDecay(t){this.uniforms.decay.value=t}get weight(){return this.uniforms.weight.value}set weight(t){this.uniforms.weight.value=t}getWeight(){return this.uniforms.weight.value}setWeight(t){this.uniforms.weight.value=t}get exposure(){return this.uniforms.exposure.value}set exposure(t){this.uniforms.exposure.value=t}getExposure(){return this.uniforms.exposure.value}setExposure(t){this.uniforms.exposure.value=t}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(t){this.uniforms.clampMax.value=t}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(t){this.uniforms.clampMax.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){const e=Math.floor(t);this.defines.SAMPLES_INT=e.toFixed(0),this.defines.SAMPLES_FLOAT=e.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}},qre=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,$re=class extends Ht{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:qs.replace(/\D+/g,"")},uniforms:{inputBuffer:new de(null),threshold:new de(0),smoothing:new de(1),range:new de(null)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:qre,vertexShader:Cc}),this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},eie=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 3
vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=vec4(mask*texel.rgb,texel.a);
#elif MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,tie=class extends Ht{constructor(t=null){super({name:"MaskMaterial",uniforms:{maskTexture:new de(t),inputBuffer:new de(null),strength:new de(1)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:eie,vertexShader:Cc}),this.colorChannel=kf.RED,this.maskFunction=uw.DISCARD}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set maskTexture(t){this.uniforms.maskTexture.value=t,delete this.defines.MASK_PRECISION_HIGH,t.type!==Gn&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(t){this.maskTexture=t}set colorChannel(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}setColorChannel(t){this.colorChannel=t}set maskFunction(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}setMaskFunction(t){this.maskFunction=t}get inverted(){return this.defines.INVERTED!==void 0}set inverted(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get strength(){return this.uniforms.strength.value}set strength(t){this.uniforms.strength.value=t}getStrength(){return this.strength}setStrength(t){this.strength=t}},nie="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",rie="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",iie=class extends Ht{constructor(t=new ve){super({name:"OutlineMaterial",uniforms:{inputBuffer:new de(null),texelSize:new de(new ve)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:nie,vertexShader:rie}),this.uniforms.texelSize.value.set(t.x,t.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},sie=`#include <common>
#include <packing>
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
uniform lowp sampler2D normalBuffer;
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
uniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);
#ifdef PERSPECTIVE_CAMERA
float linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearSampleDepth=sampleDepth;
#endif
float proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){
#ifdef NORMAL_DEPTH
vec4 normalDepth=texture2D(normalDepthBuffer,vUv);
#else
vec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));
#endif
float ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);
#ifdef PERSPECTIVE_CAMERA
float linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearDepth=depth;
#endif
if(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);
#ifdef LEGACY_INTENSITY
ao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);
#endif
}gl_FragColor.r=ao;}`,oie="uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}",aie=class extends Ht{constructor(t){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new de(null),normalBuffer:new de(null),normalDepthBuffer:new de(null),noiseTexture:new de(null),inverseProjectionMatrix:new de(new ht),projectionMatrix:new de(new ht),texelSize:new de(new ve),cameraNearFar:new de(new ve),distanceCutoff:new de(new ve),proximityCutoff:new de(new ve),noiseScale:new de(new ve),minRadiusScale:new de(.33),intensity:new de(1),fade:new de(.01),bias:new de(0)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:sie,vertexShader:oie}),this.copyCameraSettings(t),this.resolution=new ve,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,t!==null?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(t){this.normalDepthBuffer=t}set normalBuffer(t){this.uniforms.normalBuffer.value=t}setNormalBuffer(t){this.uniforms.normalBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Yr){this.depthBuffer=t,this.depthPacking=e}set noiseTexture(t){this.uniforms.noiseTexture.value=t}setNoiseTexture(t){this.uniforms.noiseTexture.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){this.defines.SAMPLES_INT=t.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/t).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(t){this.defines.SPIRAL_TURNS=t.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(t){this.rings=t}get intensity(){return this.uniforms.intensity.value}set intensity(t){this.uniforms.intensity.value=t,this.defines.LEGACY_INTENSITY===void 0&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(t){this.uniforms.intensity.value=t}get fade(){return this.uniforms.fade.value}set fade(t){this.uniforms.fade.value=t}getFade(){return this.uniforms.fade.value}setFade(t){this.uniforms.fade.value=t}get bias(){return this.uniforms.bias.value}set bias(t){this.uniforms.bias.value=t}getBias(){return this.uniforms.bias.value}setBias(t){this.uniforms.bias.value=t}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(t){this.uniforms.minRadiusScale.value=t}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(t){this.uniforms.minRadiusScale.value=t}updateRadius(){const t=this.r*this.resolution.height;this.defines.RADIUS=t.toFixed(11),this.defines.RADIUS_SQ=(t*t).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(t){this.r=Math.min(Math.max(t,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(t){this.radius=t}get distanceScaling(){return!0}set distanceScaling(t){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(t){this.distanceScaling=t}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.distanceFalloff,0),1))}get worldDistanceThreshold(){return-Uf(this.distanceThreshold,this.near,this.far)}set worldDistanceThreshold(t){this.distanceThreshold=Qu(-t,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(t){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+t,0),1)}get worldDistanceFalloff(){return-Uf(this.distanceFalloff,this.near,this.far)}set worldDistanceFalloff(t){this.distanceFalloff=Qu(-t,this.near,this.far)}setDistanceCutoff(t,e){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.proximityFalloff,0),1))}get worldProximityThreshold(){return-Uf(this.proximityThreshold,this.near,this.far)}set worldProximityThreshold(t){this.proximityThreshold=Qu(-t,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(t){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+t,0),1)}get worldProximityFalloff(){return-Uf(this.proximityFalloff,this.near,this.far)}set worldProximityFalloff(t){this.proximityFalloff=Qu(-t,this.near,this.far)}setProximityCutoff(t,e){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),this.uniforms.projectionMatrix.value.copy(t.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(t.projectionMatrix).invert(),t instanceof In?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms,r=n.noiseTexture.value;r!==null&&n.noiseScale.value.set(t/r.image.width,e/r.image.height),n.texelSize.value.set(1/t,1/e),this.resolution.set(t,e),this.updateRadius()}},lie=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,uie="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",cie=class extends Ht{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new de(null),supportBuffer:new de(null),texelSize:new de(new ve),radius:new de(.85)},blending:Jn,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:lie,vertexShader:uie}),this.fragmentShader=l3(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},fie=new Dh,vl=null;function hie(){if(vl===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);vl=new Vt,vl.setAttribute!==void 0?(vl.setAttribute("position",new ln(t,3)),vl.setAttribute("uv",new ln(e,2))):(vl.addAttribute("position",new ln(t,3)),vl.addAttribute("uv",new ln(e,2)))}return vl}var Rr=class EL{constructor(e="Pass",n=new Xa,r=fie){this.name=e,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new Un(hie(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new Xa),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=Yr){}render(e,n,r,i,s){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,r){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof $t||n instanceof pr||n instanceof bn||n instanceof EL)&&this[e].dispose()}}},TL=class extends Rr{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new ML,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new $t(1,1,{minFilter:gt,magFilter:gt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==Gn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":Ya(t)===Tn&&kr(this.renderTarget.texture,Tn))}},die=class extends Rr{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},kT=new et,u3=class extends Rr{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,u=o>=0;l?(t.getClearColor(kT),t.setClearColor(s,u?o:a)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(kT,a):u&&t.setClearAlpha(a)}},Hh=class extends Rr{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new u3,this.overrideMaterialManager=n===null?null:new NT(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new NT(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,u=s.background,c=t.shadowMap.autoUpdate,f=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(f),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=u,t.shadowMap.autoUpdate=c}},fw=class extends Rr{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=Cn.AUTO_SIZE,height:s=Cn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new Hh(t,e,new Ih({depthPacking:Co}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const u=l.clearPass;u.overrideClearColor=new et(16777215),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new $t(1,1,{minFilter:Nt,magFilter:Nt}),this.renderTarget.texture.name="DepthPass.Target");const c=this.resolution=new Cn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},CL=class extends Rr{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=Cn.AUTO_SIZE,height:r=Cn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new Hre;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new $t(1,1,{minFilter:Nt,magFilter:Nt,depthBuffer:!1,type:Pn}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new Cn(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=Yr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},pie=class extends Rr{constructor({depthPacking:t=Co}={}){super("DepthCopyPass");const e=new Ore;e.outputDepthPacking=t,this.fullscreenMaterial=e,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new $t(1,1,{type:t===Co?Gn:Pn,minFilter:Nt,magFilter:Nt,depthBuffer:!1}),this.renderTarget.texture.name="DepthCopyPass.Target"}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get depthPacking(){return this.fullscreenMaterial.outputDepthPacking}getDepthPacking(){return this.fullscreenMaterial.outputDepthPacking}setDepthTexture(t,e=Yr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.inputDepthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.renderTarget.setSize(t,e)}},Rm=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]);function mie(t){return(t[0]*Rm[0]+t[1]*Rm[1]+t[2]*Rm[2]+t[3]*Rm[3])/255}var gie=class extends pie{constructor({depthPacking:t=Co,mode:e=sp.SINGLE}={}){super({depthPacking:t}),this.name="DepthPickingPass",this.fullscreenMaterial.mode=e,this.pixelBuffer=t===Co?new Uint8Array(4):new Float32Array(4),this.callback=null}readDepth(t){return this.fullscreenMaterial.texelPosition.set(t.x*.5+.5,t.y*.5+.5),new Promise(e=>{this.callback=e})}render(t,e,n,r,i){const s=this.fullscreenMaterial,o=s.mode;if(o===sp.FULL&&super.render(t),this.callback!==null){const a=this.renderTarget,l=this.pixelBuffer,u=a.texture.type!==Pn;let c=0,f=0;if(o===sp.SINGLE)super.render(t);else{const d=s.texelPosition;c=Math.round(d.x*a.width),f=Math.round(d.y*a.height)}t.readRenderTargetPixels(a,c,f,1,1,l),this.callback(u?mie(l):l[0]),this.callback=null}}setSize(t,e){this.fullscreenMaterial.mode===sp.FULL&&super.setSize(t,e)}};function UT(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,i))}}function vie(t,e,n){let r=e.getFragmentShader(),i=e.getVertexShader();const s=r!==void 0&&/mainImage/.test(r),o=r!==void 0&&/mainUv/.test(r);if(n.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(o&&n.attributes&Ao.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let u=l.get(An.FRAGMENT_HEAD)||"",c=l.get(An.FRAGMENT_MAIN_UV)||"",f=l.get(An.FRAGMENT_MAIN_IMAGE)||"",d=l.get(An.VERTEX_HEAD)||"",m=l.get(An.VERTEX_MAIN_SUPPORT)||"";const g=new Set,v=new Set;if(o&&(c+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const w=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);m+=`	${t}MainSupport(`,m+=w?`vUv);
`:`);
`;for(const x of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const M of x[1].split(/\s*,\s*/))n.varyings.add(M),g.add(M),v.add(M);for(const x of i.matchAll(a))v.add(x[1])}for(const w of r.matchAll(a))v.add(w[1]);for(const w of e.defines.keys())v.add(w.replace(/\([\w\s,]*\)/g,""));for(const w of e.uniforms.keys())v.add(w);v.delete("while"),v.delete("for"),v.delete("if"),e.uniforms.forEach((w,x)=>n.uniforms.set(t+x.charAt(0).toUpperCase()+x.slice(1),w)),e.defines.forEach((w,x)=>n.defines.set(t+x.charAt(0).toUpperCase()+x.slice(1),w));const y=new Map([["fragment",r],["vertex",i]]);UT(t,v,n.defines),UT(t,v,y),r=y.get("fragment"),i=y.get("vertex");const S=e.blendMode;if(n.blendModes.set(S.blendFunction,S),s){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(f+=e.inputColorSpace===Tn?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==wL?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const w=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;f+=`${t}MainImage(color0, UV, `,n.attributes&Ao.DEPTH&&w.test(r)&&(f+="depth, ",n.readDepth=!0),f+=`color1);
	`;const x=t+"BlendOpacity";n.uniforms.set(x,S.opacity),f+=`color0 = blend${S.blendFunction}(color0, color1, ${x});

	`,u+=`uniform float ${x};

`}if(u+=r+`
`,i!==null&&(d+=i+`
`),l.set(An.FRAGMENT_HEAD,u),l.set(An.FRAGMENT_MAIN_UV,c),l.set(An.FRAGMENT_MAIN_IMAGE,f),l.set(An.VERTEX_HEAD,d),l.set(An.VERTEX_MAIN_SUPPORT,m),e.extensions!==null)for(const w of e.extensions)n.extensions.add(w)}}var yie=class extends Rr{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new Kre(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new Tie;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Ut.DST)t.attributes|=o.getAttributes()&Ao.DEPTH;else{if(t.attributes&o.getAttributes()&Ao.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);vie("e"+e++,o,t)}let n=t.shaderParts.get(An.FRAGMENT_HEAD),r=t.shaderParts.get(An.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(An.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&Ao.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===Tn&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(An.FRAGMENT_HEAD,n),t.shaderParts.set(An.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(An.FRAGMENT_MAIN_UV,i);for(const[o,a]of t.shaderParts)a!==null&&t.shaderParts.set(o,a.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=Yr){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const s of this.effects)s.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==Gn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},Fv=class extends Rr{constructor({kernelSize:t=Gh.MEDIUM,resolutionScale:e=.5,width:n=Cn.AUTO_SIZE,height:r=Cn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new $t(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new Cn(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new Bre,this._blurMaterial.kernelSize=t,this.copyMaterial=new ML}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence;let f=e;this.fullscreenMaterial=u;for(let d=0,m=c.length;d<m;++d){const g=d&1?l:a;u.kernel=c[d],u.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=f.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Gn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):Ya(t)===Tn&&(kr(this.renderTargetA.texture,Tn),kr(this.renderTargetB.texture,Tn)))}static get AUTO_SIZE(){return Cn.AUTO_SIZE}},xie=class extends Rr{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:r=1,width:i=Cn.AUTO_SIZE,height:s=Cn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new $re(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new Cn(this,o,a,r);l.addEventListener("change",u=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,r,i){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==Gn&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},wie=class extends Rr{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new u3(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,f=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,c,4294967295),o.stencil.setClear(f),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},Sie=class extends Rr{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new Xre,this.upsamplingMaterial=new cie,this.resolution=new ve}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const r=e.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let n=1,r=t-1;n<r;++n){const i=e.clone();i.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,r,i){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:u,upsamplingMipmaps:c}=this;let f=e;this.fullscreenMaterial=a;for(let d=0,m=u.length;d<m;++d){const g=u[d];a.setSize(f.width,f.height),a.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=l;for(let d=c.length-1;d>=0;--d){const m=c[d];l.setSize(f.width,f.height),l.inputBuffer=f.texture,l.supportBuffer=u[d].texture,t.setRenderTarget(m),t.render(s,o),f=m}}setSize(t,e){const n=this.resolution;n.set(t,e);let r=n.width,i=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[s].setSize(r,i),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(r,i)}initialize(t,e,n){if(n!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=n;if(n!==Gn)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(Ya(t)===Tn)for(const i of r)kr(i.texture,Tn)}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},_ie=class extends Rr{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=Cn.AUTO_SIZE,height:s=Cn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Hh(t,e,new x7);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const u=l.getClearPass();u.overrideClearColor=new et(7829503),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new $t(1,1,{minFilter:Nt,magFilter:Nt}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new Cn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},po=class extends Rr{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,r,i){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==Gn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},S4=1/1e3,Mie=1e3,Aie=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*S4}get fixedDelta(){return this._fixedDelta*S4}set fixedDelta(t){this._fixedDelta=t*Mie}get elapsed(){return this._elapsed*S4}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},Eie=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new TL,this.depthTexture=null,this.passes=[],this.timer=new Aie,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new ve),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Gn&&Ya(e)===Tn&&(kr(this.inputBuffer.texture,Tn),kr(this.outputBuffer.texture,Tn),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new O0;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Ql,e.type=jl):e.type=La,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const s=this.renderer,o=s===null?new ve:s.getDrawingBufferSize(new ve),a={minFilter:gt,magFilter:gt,stencilBuffer:n,depthBuffer:e,type:r},l=new $t(o.width,o.height,a);return i>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=i),r===Gn&&Ya(s)===Tn&&kr(l.texture,Tn),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new ve),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,u)=>l||u.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,u;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(n,i,s,e,o),c.needsSwap&&(o&&(r.renderToScreen=c.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(n,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof wie?o=!0:c instanceof die&&(o=!1))}setSize(e,n,r){const i=this.renderer,s=i.getSize(new ve);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&i.setSize(e,n,r);const o=i.getDrawingBufferSize(new ve);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},Tie=class{constructor(){this.shaderParts=new Map([[An.FRAGMENT_HEAD,null],[An.FRAGMENT_MAIN_UV,null],[An.FRAGMENT_MAIN_IMAGE,null],[An.VERTEX_HEAD,null],[An.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Ao.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Mh}},_4=!1,NT=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case ri:n=this.materialsFlatShadedDoubleSide;break;case br:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case ri:n=this.materialsDoubleSide;break;case br:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof Ht))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const s=e[i].value;s.isRenderTargetTexture&&(e[i].value=null,n.set(i,s))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=Zs;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=br,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=ri,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=br,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=ri,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,_4){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return _4}static set workaroundEnabled(t){_4=t}},yl=-1,Cn=class extends Ts{constructor(t,e=yl,n=yl,r=1){super(),this.resizable=t,this.baseSize=new ve(1,1),this.preferredSize=new ve(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new ve,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==yl?n.width=e.width:e.height!==yl?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==yl?n.height=e.height:e.width!==yl?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(yl),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return yl}},hw=class extends Set{constructor(t,e=10){super(),this.l=e,this.exclusive=!1,t!==void 0&&this.set(t)}get layer(){return this.l}set layer(t){const e=this.l;for(const n of this)n.layers.disable(e),n.layers.enable(t);this.l=t}getLayer(){return this.layer}setLayer(t){this.layer=t}isExclusive(){return this.exclusive}setExclusive(t){this.exclusive=t}clear(){const t=this.layer;for(const e of this)e.layers.disable(t);return super.clear()}set(t){this.clear();for(const e of t)this.add(e);return this}indexOf(t){return this.has(t)?0:-1}add(t){return this.exclusive?t.layers.set(this.layer):t.layers.enable(this.layer),super.add(t)}delete(t){return this.has(t)&&t.layers.disable(this.layer),super.delete(t)}toggle(t){let e;return this.has(t)?(this.delete(t),e=!1):(this.add(t),e=!0),e}setVisible(t){for(const e of this)t?e.layers.enable(0):e.layers.disable(0);return this}},Cie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",bie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Pie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",Rie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Die="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",Bie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",Iie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",Lie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",Fie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",kie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",Uie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",Nie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",Oie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",zie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",Gie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",Hie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",Vie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",Wie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",jie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",Xie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Jie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",Yie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",Kie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",Zie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",Qie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",qie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",$ie="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",ese="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",tse="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",nse="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",rse="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",ise="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",sse=new Map([[Ut.ADD,Cie],[Ut.ALPHA,bie],[Ut.AVERAGE,Pie],[Ut.COLOR,Rie],[Ut.COLOR_BURN,Die],[Ut.COLOR_DODGE,Bie],[Ut.DARKEN,Iie],[Ut.DIFFERENCE,Lie],[Ut.DIVIDE,Fie],[Ut.DST,null],[Ut.EXCLUSION,kie],[Ut.HARD_LIGHT,Uie],[Ut.HARD_MIX,Nie],[Ut.HUE,Oie],[Ut.INVERT,zie],[Ut.INVERT_RGB,Gie],[Ut.LIGHTEN,Hie],[Ut.LINEAR_BURN,Vie],[Ut.LINEAR_DODGE,Wie],[Ut.LINEAR_LIGHT,jie],[Ut.LUMINOSITY,Xie],[Ut.MULTIPLY,Jie],[Ut.NEGATION,Yie],[Ut.NORMAL,Kie],[Ut.OVERLAY,Zie],[Ut.PIN_LIGHT,Qie],[Ut.REFLECT,qie],[Ut.SATURATION,$ie],[Ut.SCREEN,ese],[Ut.SOFT_LIGHT,tse],[Ut.SRC,nse],[Ut.SUBTRACT,rse],[Ut.VIVID_LIGHT,ise]]),ose=class extends Ts{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new de(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return sse.get(this.blendFunction)}},wi=class extends Ts{constructor(t,e,{attributes:n=Ao.NONE,blendFunction:r=Ut.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new ose(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=Mh,this._outputColorSpace=wL}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=Yr){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof $t||e instanceof pr||e instanceof bn||e instanceof Rr)&&this[t].dispose()}}},ase=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,bL=class extends wi{constructor({blendFunction:t=Ut.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:r=!1,intensity:i=1,radius:s=.85,levels:o=8,kernelSize:a=Gh.LARGE,resolutionScale:l=.5,width:u=Cn.AUTO_SIZE,height:c=Cn.AUTO_SIZE,resolutionX:f=u,resolutionY:d=c}={}){super("BloomEffect",ase,{blendFunction:t,uniforms:new Map([["map",new de(null)],["intensity",new de(i)]])}),this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Fv({kernelSize:a}),this.luminancePass=new xie({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new Sie,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const m=this.resolution=new Cn(this,f,d,l);m.addEventListener("change",g=>this.setSize(m.baseWidth,m.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,i.renderTarget):this.blurPass.render(t,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,Ya(t)===Tn&&kr(this.renderTarget.texture,Tn))}},lse="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",use=class extends wi{constructor(t){super("ColorAverageEffect",lse,{blendFunction:t})}},cse=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform lowp sampler2D farCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);
#if MASK_FUNCTION == 1
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,colorFar.a);cocNearFar.x=min(cocNearFar.x*scale,1.0);
#else
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,texture2D(farCoCBuffer,uv).g);cocNearFar=min(cocNearFar*scale,1.0);
#endif
vec4 result=inputColor*(1.0-cocNearFar.y)+colorFar;result=mix(result,colorNear,cocNearFar.x);outputColor=result;}`,fse=class extends wi{constructor(t,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i=0,focalLength:s=.1,focusRange:o=s,bokehScale:a=1,resolutionScale:l=1,width:u=Cn.AUTO_SIZE,height:c=Cn.AUTO_SIZE,resolutionX:f=u,resolutionY:d=c}={}){super("DepthOfFieldEffect",cse,{blendFunction:e,attributes:Ao.DEPTH,uniforms:new Map([["nearColorBuffer",new de(null)],["farColorBuffer",new de(null)],["nearCoCBuffer",new de(null)],["farCoCBuffer",new de(null)],["scale",new de(1)]])}),this.camera=t,this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.uniforms.get("farCoCBuffer").value=this.renderTargetCoC.texture,this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new po(new bre(t));const m=this.cocMaterial;m.focusDistance=i,m.focusRange=o,n!==void 0&&(m.worldFocusDistance=n),r!==void 0&&(m.worldFocusRange=r),this.blurPass=new Fv({resolutionScale:l,resolutionX:f,resolutionY:d,kernelSize:Gh.MEDIUM}),this.maskPass=new po(new tie(this.renderTargetCoC.texture));const g=this.maskPass.fullscreenMaterial;g.colorChannel=kf.GREEN,this.maskFunction=uw.MULTIPLY_RGB,this.bokehNearBasePass=new po(new Pm(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new po(new Pm(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new po(new Pm(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new po(new Pm(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const v=this.resolution=new Cn(this,f,d,l);v.addEventListener("change",y=>this.setSize(v.baseWidth,v.baseHeight)),this.bokehScale=a}set mainCamera(t){this.camera=t,this.cocMaterial.copyCameraSettings(t)}get cocTexture(){return this.renderTargetCoC.texture}get maskFunction(){return this.maskPass.fullscreenMaterial.maskFunction}set maskFunction(t){this.maskFunction!==t&&(this.defines.set("MASK_FUNCTION",t.toFixed(0)),this.maskPass.fullscreenMaterial.maskFunction=t,this.setChanged())}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.cocMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(t){this.bokehNearBasePass.fullscreenMaterial.scale=t,this.bokehNearFillPass.fullscreenMaterial.scale=t,this.bokehFarBasePass.fullscreenMaterial.scale=t,this.bokehFarFillPass.fullscreenMaterial.scale=t,this.maskPass.fullscreenMaterial.strength=t,this.uniforms.get("scale").value=t}getBokehScale(){return this.bokehScale}setBokehScale(t){this.bokehScale=t}getTarget(){return this.target}setTarget(t){this.target=t}calculateFocusDistance(t){const e=this.camera,n=e.position.distanceTo(t);return Qu(-n,e.near,e.far)}setDepthTexture(t,e=Yr){this.cocMaterial.depthBuffer=t,this.cocMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget,i=this.renderTargetCoC,s=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(this.target!==null){const a=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=a}this.cocPass.render(t,null,i),this.blurPass.render(t,i,s),this.maskPass.render(t,e,o),this.bokehFarBasePass.render(t,o,r),this.bokehFarFillPass.render(t,r,this.renderTargetFar),this.bokehNearBasePass.render(t,e,r),this.bokehNearFillPass.render(t,r,this.renderTargetNear)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.cocPass.setSize(t,e),this.blurPass.setSize(t,e),this.maskPass.setSize(t,e),this.renderTargetFar.setSize(t,e),this.renderTargetCoC.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.renderTarget.setSize(r,i),this.renderTargetNear.setSize(r,i),this.renderTargetCoCBlurred.setSize(r,i),this.bokehNearBasePass.fullscreenMaterial.setSize(t,e),this.bokehNearFillPass.fullscreenMaterial.setSize(t,e),this.bokehFarBasePass.fullscreenMaterial.setSize(t,e),this.bokehFarFillPass.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){this.cocPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.bokehNearBasePass.initialize(t,e,n),this.bokehNearFillPass.initialize(t,e,n),this.bokehFarBasePass.initialize(t,e,n),this.bokehFarFillPass.initialize(t,e,n),this.blurPass.initialize(t,e,Gn),t.capabilities.logarithmicDepthBuffer&&(this.cocPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,Ya(t)===Tn&&(kr(this.renderTarget.texture,Tn),kr(this.renderTargetNear.texture,Tn),kr(this.renderTargetFar.texture,Tn),kr(this.renderTargetMasked.texture,Tn)))}};function OT(t,e,n){const r=document.createElement("canvas"),i=r.getContext("2d");if(r.width=t,r.height=e,n instanceof Image)i.drawImage(n,0,0);else{const s=i.createImageData(t,e);s.data.set(n),i.putImageData(s,0,0)}return r}var hse=class PL{constructor(e=0,n=0,r=null){this.width=e,this.height=n,this.data=r}toCanvas(){return typeof document>"u"?null:OT(this.width,this.height,this.data)}static from(e){const{width:n,height:r}=e;let i;if(e instanceof Image){const s=OT(n,r,e);s!==null&&(i=s.getContext("2d").getImageData(0,0,n,r).data)}else i=e.data;return new PL(n,r,i)}},dse=`"use strict";(()=>{var O={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function k(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=_[0];P[0]=s,P[1]=F,P[2]=f;let o=_[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(r**3*4),y=t instanceof Uint8Array?255:1,h=r**2,A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;k(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case O.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();
`,zT=new et,pse=class h1 extends nc{constructor(e,n){super(e,n,n,n),this.type=Pn,this.format=zn,this.minFilter=gt,this.magFilter=gt,this.wrapS=Cr,this.wrapT=Cr,this.wrapR=Cr,this.unpackAlignment=1,this.needsUpdate=!0,kr(this,Mh),this.domainMin=new K(0,0,0),this.domainMax=new K(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(e,n=!0){const r=this.image;let i;return e<=r.width?i=Promise.reject(new Error("The target size must be greater than the current size")):i=new Promise((s,o)=>{const a=URL.createObjectURL(new Blob([dse],{type:"text/javascript"})),l=new Worker(a);l.addEventListener("error",c=>o(c.error)),l.addEventListener("message",c=>{const f=new h1(c.data,e);w4(this,f),f.type=this.type,f.name=this.name,URL.revokeObjectURL(a),s(f)});const u=n?[r.data.buffer]:[];l.postMessage({operation:Ere.SCALE_UP,data:r.data,size:e},u)}),i}applyLUT(e){const n=this.image,r=e.image,i=Math.min(n.width,n.height,n.depth),s=Math.min(r.width,r.height,r.depth);if(i!==s)console.error("Size mismatch");else if(e.type!==Pn||this.type!==Pn)console.error("Both LUTs must be FloatType textures");else if(e.format!==zn||this.format!==zn)console.error("Both LUTs must be RGBA textures");else{const o=n.data,a=r.data,l=i,u=l**2,c=l-1;for(let f=0,d=l**3;f<d;++f){const m=f*4,g=o[m+0]*c,v=o[m+1]*c,y=o[m+2]*c,S=Math.round(g+v*l+y*u)*4;o[m+0]=a[S+0],o[m+1]=a[S+1],o[m+2]=a[S+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===Pn){const e=this.image.data,n=new Uint8Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]*255+.5;this.image.data=n,this.type=Gn,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===Gn){const e=this.image.data,n=new Float32Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]/255;this.image.data=n,this.type=Pn,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const e=this.image.data;if(this.type===Pn){for(let n=0,r=e.length;n<r;n+=4)zT.fromArray(e,n).convertLinearToSRGB().toArray(e,n);kr(this,Tn),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const e=this.image.data;if(this.type===Pn){for(let n=0,r=e.length;n<r;n+=4)zT.fromArray(e,n).convertSRGBToLinear().toArray(e,n);kr(this,Mh),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const e=this.image.width,n=this.image.height*this.image.depth,r=new qo(this.image.data,e,n);return r.name=this.name,r.type=this.type,r.format=this.format,r.minFilter=gt,r.magFilter=gt,r.wrapS=this.wrapS,r.wrapT=this.wrapT,r.generateMipmaps=!1,r.needsUpdate=!0,w4(this,r),r}static from(e){const n=e.image,{width:r,height:i}=n,s=Math.min(r,i);let o;if(n instanceof Image){const u=hse.from(n).data;if(r>i){o=new Uint8Array(u.length);for(let c=0;c<s;++c)for(let f=0;f<s;++f)for(let d=0;d<s;++d){const m=(d+c*s+f*s*s)*4,g=(d+f*s+c*s*s)*4;o[g+0]=u[m+0],o[g+1]=u[m+1],o[g+2]=u[m+2],o[g+3]=u[m+3]}}else o=new Uint8Array(u.buffer)}else o=n.data.slice();const a=new h1(o,s);return a.type=e.type,a.name=e.name,w4(e,a),a}static createNeutral(e){const n=new Float32Array(e**3*4),r=e**2,i=1/(e-1);for(let o=0;o<e;++o)for(let a=0;a<e;++a)for(let l=0;l<e;++l){const u=(o+a*e+l*r)*4;n[u+0]=o*i,n[u+1]=a*i,n[u+2]=l*i,n[u+3]=1}const s=new h1(n,e);return s.name="neutral",s}};function mse(t,e,n){const r=new Map([[dv,1],[k0,1],[Kx,2],[zn,4]]);let i;if(r.has(e)||console.error("Invalid noise texture format"),n===Gn){i=new Uint8Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()*255+.5}else{i=new Float32Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()}return i}var o9=class extends qo{constructor(t,e,n=dv,r=Gn){super(mse(t*e,n,r),t,e,n,r),this.needsUpdate=!0}},gse="uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",Dm="Glitch.Generated";function Xi(t,e){return t+Math.random()*(e-t)}var vse=class extends wi{constructor({chromaticAberrationOffset:t=null,delay:e=new ve(1.5,3.5),duration:n=new ve(.6,1),strength:r=new ve(.3,1),columns:i=.05,ratio:s=.85,perturbationMap:o=null,dtSize:a=64}={}){if(super("GlitchEffect",gse,{uniforms:new Map([["perturbationMap",new de(null)],["columns",new de(i)],["active",new de(!1)],["random",new de(1)],["seeds",new de(new ve)],["distortion",new de(new ve)]])}),o===null){const l=new o9(a,a,zn);l.name=Dm,this.perturbationMap=l}else this.perturbationMap=o;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=e,this.duration=n,this.breakPoint=new ve(Xi(this.delay.x,this.delay.y),Xi(this.duration.x,this.duration.y)),this.strength=r,this.mode=zu.SPORADIC,this.ratio=s,this.chromaticAberrationOffset=t}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(t){this.delay.x=t}getMinDelay(){return this.delay.x}setMinDelay(t){this.delay.x=t}get maxDelay(){return this.delay.y}set maxDelay(t){this.delay.y=t}getMaxDelay(){return this.delay.y}setMaxDelay(t){this.delay.y=t}get minDuration(){return this.duration.x}set minDuration(t){this.duration.x=t}getMinDuration(){return this.duration.x}setMinDuration(t){this.duration.x=t}get maxDuration(){return this.duration.y}set maxDuration(t){this.duration.y=t}getMaxDuration(){return this.duration.y}setMaxDuration(t){this.duration.y=t}get minStrength(){return this.strength.x}set minStrength(t){this.strength.x=t}getMinStrength(){return this.strength.x}setMinStrength(t){this.strength.x=t}get maxStrength(){return this.strength.y}set maxStrength(t){this.strength.y=t}getMaxStrength(){return this.strength.y}setMaxStrength(t){this.strength.y=t}getMode(){return this.mode}setMode(t){this.mode=t}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(t){this.ratio=Math.min(Math.max(1-t,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(t){this.uniforms.get("columns").value=t}getGlitchColumns(){return this.columns}setGlitchColumns(t){this.columns=t}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(t){this.chromaticAberrationOffset=t}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(t){const e=this.perturbationMap;e!==null&&e.name===Dm&&e.dispose(),t.minFilter=t.magFilter=Nt,t.wrapS=t.wrapT=xi,t.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=t}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(t){this.perturbationMap=t}generatePerturbationMap(t=64){const e=new o9(t,t,zn);return e.name=Dm,e}update(t,e,n){const r=this.mode,i=this.breakPoint,s=this.chromaticAberrationOffset,o=this.strength;let a=this.time,l=!1,u=0,c=0,f;r!==zu.DISABLED&&(r===zu.SPORADIC&&(a+=n,f=a>i.x,a>=i.x+i.y&&(i.set(Xi(this.delay.x,this.delay.y),Xi(this.duration.x,this.duration.y)),a=0)),u=Math.random(),this.uniforms.get("random").value=u,f&&u>this.ratio||r===zu.CONSTANT_WILD?(l=!0,u*=o.y*.03,c=Xi(-Math.PI,Math.PI),this.seeds.set(Xi(-o.y,o.y),Xi(-o.y,o.y)),this.distortion.set(Xi(0,1),Xi(0,1))):(f||r===zu.CONSTANT_MILD)&&(l=!0,u*=o.x*.03,c=Xi(-Math.PI,Math.PI),this.seeds.set(Xi(-o.x,o.x),Xi(-o.x,o.x)),this.distortion.set(Xi(0,1),Xi(0,1))),this.time=a),s!==null&&(l?s.set(Math.cos(c),Math.sin(c)).multiplyScalar(u):s.set(0,0)),this.uniforms.get("active").value=l}dispose(){const t=this.perturbationMap;t!==null&&t.name===Dm&&t.dispose()}},yse=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}`,M4=new K,GT=new ht,xse=class extends wi{constructor(t,e,{blendFunction:n=Ut.SCREEN,samples:r=60,density:i=.96,decay:s=.9,weight:o=.4,exposure:a=.6,clampMax:l=1,blur:u=!0,kernelSize:c=Gh.SMALL,resolutionScale:f=.5,width:d=Cn.AUTO_SIZE,height:m=Cn.AUTO_SIZE,resolutionX:g=d,resolutionY:v=m}={}){super("GodRaysEffect",yse,{blendFunction:n,attributes:Ao.DEPTH,uniforms:new Map([["map",new de(null)]])}),this.camera=t,this._lightSource=e,this.lightSource=e,this.lightScene=new Xa,this.screenPosition=new ve,this.renderTargetA=new $t(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("map").value=this.renderTargetB.texture,this.renderTargetLight=new $t(1,1),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthTexture=new O0,this.renderPassLight=new Hh(this.lightScene,t),this.renderPassLight.clearPass.overrideClearColor=new et(0),this.clearPass=new u3(!0,!1,!1),this.clearPass.overrideClearColor=new et(0),this.blurPass=new Fv({kernelSize:c}),this.blurPass.enabled=u,this.depthMaskPass=new po(new AL);const y=this.depthMaskMaterial;y.depthBuffer1=this.renderTargetLight.depthTexture,y.copyCameraSettings(t),this.godRaysPass=new po(new Qre(this.screenPosition));const S=this.godRaysMaterial;S.density=i,S.decay=s,S.weight=o,S.exposure=a,S.maxIntensity=l,S.samples=r;const w=this.resolution=new Cn(this,g,v,f);w.addEventListener("change",x=>this.setSize(w.baseWidth,w.baseHeight))}set mainCamera(t){this.camera=t,this.renderPassLight.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}get lightSource(){return this._lightSource}set lightSource(t){this._lightSource=t,t!==null&&(t.material.depthWrite=!1,t.material.transparent=!0)}getBlurPass(){return this.blurPass}get texture(){return this.renderTargetB.texture}getTexture(){return this.texture}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get godRaysMaterial(){return this.godRaysPass.fullscreenMaterial}getGodRaysMaterial(){return this.godRaysMaterial}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.godRaysMaterial.dithering}set dithering(t){const e=this.godRaysMaterial;e.dithering=t,e.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}get samples(){return this.godRaysMaterial.samples}set samples(t){this.godRaysMaterial.samples=t}setDepthTexture(t,e=Yr){this.depthMaskPass.fullscreenMaterial.depthBuffer0=t,this.depthMaskPass.fullscreenMaterial.depthPacking0=e}update(t,e,n){const r=this.lightSource,i=r.parent,s=r.matrixAutoUpdate,o=this.renderTargetA,a=this.renderTargetLight;r.material.depthWrite=!0,r.matrixAutoUpdate=!1,r.updateWorldMatrix(!0,!1),i!==null&&(s||GT.copy(r.matrix),r.matrix.copy(r.matrixWorld)),this.lightScene.add(r),this.renderPassLight.render(t,a),this.clearPass.render(t,o),this.depthMaskPass.render(t,a,o),r.material.depthWrite=!1,r.matrixAutoUpdate=s,i!==null&&(s||r.matrix.copy(GT),i.add(r)),M4.setFromMatrixPosition(r.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max((M4.x+1)*.5,-1),2),Math.min(Math.max((M4.y+1)*.5,-1),2)),this.blurPass.enabled&&this.blurPass.render(t,o,o),this.godRaysPass.render(t,o,this.renderTargetB)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.renderTargetLight.setSize(r,i),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.renderPassLight.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),this.godRaysPass.initialize(t,e,n),n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,Ya(t)===Tn&&(kr(this.renderTargetA.texture,Tn),kr(this.renderTargetB.texture,Tn),kr(this.renderTargetLight.texture,Tn)))}},wse="uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}",Sse=class extends wi{constructor({blendFunction:t=Ut.OVERLAY,scale:e=1,lineWidth:n=0}={}){super("GridEffect",wse,{blendFunction:t,uniforms:new Map([["scale",new de(new ve)],["lineWidth",new de(n)]])}),this.resolution=new ve,this.s=0,this.scale=e,this.l=0,this.lineWidth=n}get scale(){return this.s}set scale(t){this.s=Math.max(t,1e-6),this.setSize(this.resolution.width,this.resolution.height)}getScale(){return this.scale}setScale(t){this.scale=t}get lineWidth(){return this.l}set lineWidth(t){this.l=t,this.setSize(this.resolution.width,this.resolution.height)}getLineWidth(){return this.lineWidth}setLineWidth(t){this.lineWidth=t}setSize(t,e){this.resolution.set(t,e);const n=t/e,r=this.scale*(e*.125);this.uniforms.get("scale").value.set(n*r,r),this.uniforms.get("lineWidth").value=r/e+this.lineWidth}},_se=`uniform vec3 scale;uniform vec3 offset;
#ifdef CUSTOM_INPUT_DOMAIN
uniform vec3 domainMin;uniform vec3 domainMax;
#endif
#ifdef LUT_3D
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler3D lut;
#else
uniform mediump sampler3D lut;
#endif
#else
uniform lowp sampler3D lut;
#endif
vec4 applyLUT(const in vec3 rgb){
#ifdef TETRAHEDRAL_INTERPOLATION
vec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);
#else
return texture(lut,rgb);
#endif
}
#else
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D lut;
#else
uniform mediump sampler2D lut;
#endif
#else
uniform lowp sampler2D lut;
#endif
vec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);
#ifdef LUT_STRIP_HORIZONTAL
float xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);
#else
float yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);
#endif
vec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;
#ifdef CUSTOM_INPUT_DOMAIN
if(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}
#else
#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)
c=clamp(c,0.0,1.0);
#endif
c=applyLUT(scale*c+offset).rgb;
#endif
outputColor=vec4(c,inputColor.a);}`,Mse=class extends wi{constructor(t,{blendFunction:e=Ut.SRC,tetrahedralInterpolation:n=!1,inputEncoding:r=En,inputColorSpace:i}={}){super("LUT3DEffect",_se,{blendFunction:e,uniforms:new Map([["lut",new de(null)],["scale",new de(new K)],["offset",new de(new K)],["domainMin",new de(null)],["domainMax",new de(null)]])}),this.tetrahedralInterpolation=n,this.inputColorSpace=i||_L.get(r),this.lut=t}get inputEncoding(){return this.inputColorSpace}set inputEncoding(t){this.inputColorSpace=t}getInputEncoding(){return this.inputColorSpace}setInputEncoding(t){this.inputColorSpace=t}getOutputEncoding(){return this.outputColorSpace}get lut(){return this.uniforms.get("lut").value}set lut(t){const e=this.defines,n=this.uniforms;if(this.lut!==t&&(n.get("lut").value=t,t!==null)){const r=t.image,i=this.tetrahedralInterpolation;if(e.clear(),e.set("LUT_SIZE",Math.min(r.width,r.height).toFixed(16)),e.set("LUT_TEXEL_WIDTH",(1/r.width).toFixed(16)),e.set("LUT_TEXEL_HEIGHT",(1/r.height).toFixed(16)),n.get("domainMin").value=null,n.get("domainMax").value=null,(t.type===Pn||t.type===Xn)&&e.set("LUT_PRECISION_HIGH","1"),r.width>r.height?e.set("LUT_STRIP_HORIZONTAL","1"):t instanceof nc&&e.set("LUT_3D","1"),t instanceof pse){const s=t.domainMin,o=t.domainMax;(s.x!==0||s.y!==0||s.z!==0||o.x!==1||o.y!==1||o.z!==1)&&(e.set("CUSTOM_INPUT_DOMAIN","1"),n.get("domainMin").value=s.clone(),n.get("domainMax").value=o.clone())}this.tetrahedralInterpolation=i}}getLUT(){return this.lut}setLUT(t){this.lut=t}updateScaleOffset(){const t=this.lut;if(t!==null){const e=Math.min(t.image.width,t.image.height),n=this.uniforms.get("scale").value,r=this.uniforms.get("offset").value;if(this.tetrahedralInterpolation&&t instanceof nc)if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n)}else n.setScalar(e-1),r.setScalar(0);else if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin).multiplyScalar(e);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n).addScalar(1/(2*e))}else n.setScalar((e-1)/e),r.setScalar(1/(2*e))}}configureTetrahedralInterpolation(){const t=this.lut;t!==null&&(t.minFilter=gt,t.magFilter=gt,this.tetrahedralInterpolation&&(t instanceof nc?(t.minFilter=Nt,t.magFilter=Nt):console.warn("Tetrahedral interpolation requires a 3D texture")),t.source===void 0&&(t.needsUpdate=!0))}get tetrahedralInterpolation(){return this.defines.has("TETRAHEDRAL_INTERPOLATION")}set tetrahedralInterpolation(t){t?this.defines.set("TETRAHEDRAL_INTERPOLATION","1"):this.defines.delete("TETRAHEDRAL_INTERPOLATION"),this.configureTetrahedralInterpolation(),this.updateScaleOffset(),this.setChanged()}setTetrahedralInterpolationEnabled(t){this.tetrahedralInterpolation=t}},Ase=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texture2D(patternTexture,vUvPattern);
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,Ese="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",Tse=class extends wi{constructor(t,e,{blendFunction:n=Ut.SCREEN,patternTexture:r=null,patternScale:i=1,edgeStrength:s=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:l=2230538,kernelSize:u=Gh.VERY_SMALL,blur:c=!1,xRay:f=!0,multisampling:d=0,resolutionScale:m=.5,width:g=Cn.AUTO_SIZE,height:v=Cn.AUTO_SIZE,resolutionX:y=g,resolutionY:S=v}={}){super("OutlineEffect",Ase,{uniforms:new Map([["maskTexture",new de(null)],["edgeTexture",new de(null)],["edgeStrength",new de(s)],["visibleEdgeColor",new de(new et(a))],["hiddenEdgeColor",new de(new et(l))],["pulse",new de(1)],["patternScale",new de(i)],["patternTexture",new de(null)]])}),this.blendMode.addEventListener("change",E=>{this.blendMode.blendFunction===Ut.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.blendFunction=n,this.patternTexture=r,this.xRay=f,this.scene=t,this.camera=e,this.renderTargetMask=new $t(1,1),this.renderTargetMask.samples=d,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new $t(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new u3,this.clearPass.overrideClearColor=new et(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new fw(t,e),this.maskPass=new Hh(t,e,new kre(this.depthPass.texture,e));const w=this.maskPass.clearPass;w.overrideClearColor=new et(16777215),w.overrideClearAlpha=1,this.blurPass=new Fv({resolutionScale:m,resolutionX:y,resolutionY:S,kernelSize:u}),this.blurPass.enabled=c;const x=this.blurPass.resolution;x.addEventListener("change",E=>this.setSize(x.baseWidth,x.baseHeight)),this.outlinePass=new po(new iie);const M=this.outlinePass.fullscreenMaterial;M.inputBuffer=this.renderTargetMask.texture,this.time=0,this.forceUpdate=!0,this.selection=new hw,this.selection.layer=10,this.pulseSpeed=o}set mainScene(t){this.scene=t,this.depthPass.mainScene=t,this.maskPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.maskPass.mainCamera=t,this.maskPass.overrideMaterial.copyCameraSettings(t)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(t){this.renderTargetMask.samples=t,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(t){this.uniforms.get("patternScale").value=t}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(t){this.uniforms.get("edgeStrength").value=t}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(t){this.uniforms.get("visibleEdgeColor").value=t}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(t){this.uniforms.get("hiddenEdgeColor").value=t}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(t){this.pulseSpeed=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get selectionLayer(){return this.selection.layer}set selectionLayer(t){this.selection.layer=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get xRay(){return this.defines.has("X_RAY")}set xRay(t){this.xRay!==t&&(t?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(t){this.xRay=t}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(t){t!==null?(t.wrapS=t.wrapT=xi,this.defines.set("USE_PATTERN","1"),this.setVertexShader(Ese)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=t,this.setChanged()}setPatternTexture(t){this.patternTexture=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}setSelection(t){return this.selection.set(t),this}clearSelection(){return this.selection.clear(),this}selectObject(t){return this.selection.add(t),this}deselectObject(t){return this.selection.delete(t),this}update(t,e,n){const r=this.scene,i=this.camera,s=this.selection,a=this.uniforms.get("pulse"),l=r.background,u=i.layers.mask;(this.forceUpdate||s.size>0)&&(r.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.time+=n,s.setVisible(!1),this.depthPass.render(t),s.setVisible(!0),i.layers.set(s.layer),this.maskPass.render(t,this.renderTargetMask),i.layers.mask=u,r.background=l,this.outlinePass.render(t,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(t,this.renderTargetOutline,this.renderTargetOutline)),this.forceUpdate=s.size>0}setSize(t,e){this.blurPass.setSize(t,e),this.renderTargetMask.setSize(t,e);const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.depthPass.setSize(r,i),this.renderTargetOutline.setSize(r,i),this.outlinePass.fullscreenMaterial.setSize(r,i)}initialize(t,e,n){this.blurPass.initialize(t,e,Gn),n!==void 0&&(this.depthPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.outlinePass.initialize(t,e,n))}},Cse="uniform bool active;uniform vec4 d;void mainUv(inout vec2 uv){if(active){uv=d.xy*(floor(uv*d.zw)+0.5);}}",bse=class extends wi{constructor(t=30){super("PixelationEffect",Cse,{uniforms:new Map([["active",new de(!1)],["d",new de(new qt)]])}),this.resolution=new ve,this._granularity=0,this.granularity=t}get granularity(){return this._granularity}set granularity(t){let e=Math.floor(t);e%2>0&&(e+=1),this._granularity=e,this.uniforms.get("active").value=e>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(t){this.granularity=t}setSize(t,e){const n=this.resolution;n.set(t,e);const r=this.granularity,i=r/n.x,s=r/n.y;this.uniforms.get("d").value.set(i,s,1/i,1/s)}},Pse=class extends bL{constructor(t,e,n){super(n),this.setAttributes(this.getAttributes()|Ao.DEPTH),this.camera=e,this.depthPass=new fw(t,e),this.clearPass=new u3(!0,!1,!1),this.clearPass.overrideClearColor=new et(0),this.depthMaskPass=new po(new AL);const r=this.depthMaskMaterial;r.copyCameraSettings(e),r.depthBuffer1=this.depthPass.texture,r.depthPacking1=Co,r.depthMode=a0,this.renderTargetMasked=new $t(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new hw,this.selection.layer=11,this._inverted=!1,this._ignoreBackground=!1}set mainScene(t){this.depthPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(t){this._inverted=t,this.depthMaskMaterial.depthMode=t?cv:a0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(t){this._ignoreBackground=t,this.depthMaskMaterial.maxDepthStrategy=t?Pp.DISCARD_MAX_DEPTH:Pp.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}setDepthTexture(t,e=Yr){this.depthMaskMaterial.depthBuffer0=t,this.depthMaskMaterial.depthPacking0=e}update(t,e,n){const r=this.camera,i=this.selection,s=this.inverted;let o=e;if(this.ignoreBackground||!s||i.size>0){const a=r.layers.mask;r.layers.set(i.layer),this.depthPass.render(t),r.layers.mask=a,o=this.renderTargetMasked,this.clearPass.render(t,o),this.depthMaskPass.render(t,e,o)}super.update(t,o,n)}setSize(t,e){super.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.depthPass.setSize(t,e)}initialize(t,e,n){super.initialize(t,e,n),this.clearPass.initialize(t,e,n),this.depthPass.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),t.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTargetMasked.texture.type=n,Ya(t)===Tn&&kr(this.renderTargetMasked.texture,Tn))}},Rse=`uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;uniform float intensity;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH)
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#endif
#ifdef COLORIZE
uniform vec3 color;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH) && __VERSION__ == 300
vec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);
#else
float ao=aoLinear;
#endif
float l=luminance(inputColor.rgb);ao=mix(ao,0.0,l*luminanceInfluence);ao=clamp(ao*intensity,0.0,1.0);
#ifdef COLORIZE
outputColor=vec4(1.0-ao*(1.0-color),inputColor.a);
#else
outputColor=vec4(vec3(1.0-ao),inputColor.a);
#endif
}`,HT=64,Dse=class extends wi{constructor(t,e,{blendFunction:n=Ut.MULTIPLY,samples:r=9,rings:i=7,normalDepthBuffer:s=null,depthAwareUpsampling:o=!0,worldDistanceThreshold:a,worldDistanceFalloff:l,worldProximityThreshold:u,worldProximityFalloff:c,distanceThreshold:f=.97,distanceFalloff:d=.03,rangeThreshold:m=5e-4,rangeFalloff:g=.001,minRadiusScale:v=.1,luminanceInfluence:y=.7,radius:S=.1825,intensity:w=1,bias:x=.025,fade:M=.01,color:E=null,resolutionScale:C=1,width:P=Cn.AUTO_SIZE,height:T=Cn.AUTO_SIZE,resolutionX:R=P,resolutionY:B=T}={}){super("SSAOEffect",Rse,{blendFunction:n,attributes:Ao.DEPTH,defines:new Map([["THRESHOLD","0.997"]]),uniforms:new Map([["aoBuffer",new de(null)],["normalDepthBuffer",new de(s)],["luminanceInfluence",new de(y)],["color",new de(null)],["intensity",new de(w)],["scale",new de(0)]])}),this.renderTarget=new $t(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="AO.Target",this.uniforms.get("aoBuffer").value=this.renderTarget.texture;const N=this.resolution=new Cn(this,R,B,C);N.addEventListener("change",D=>this.setSize(N.baseWidth,N.baseHeight)),this.camera=t,this.depthDownsamplingPass=new CL({normalBuffer:e,resolutionScale:C}),this.depthDownsamplingPass.enabled=s===null,this.ssaoPass=new po(new aie(t));const G=new o9(HT,HT,zn);G.wrapS=G.wrapT=xi;const J=this.ssaoMaterial;J.normalBuffer=e,J.noiseTexture=G,J.minRadiusScale=v,J.samples=r,J.radius=S,J.rings=i,J.fade=M,J.bias=x,J.distanceThreshold=f,J.distanceFalloff=d,J.proximityThreshold=m,J.proximityFalloff=g,a!==void 0&&(J.worldDistanceThreshold=a),l!==void 0&&(J.worldDistanceFalloff=l),u!==void 0&&(J.worldProximityThreshold=u),c!==void 0&&(J.worldProximityFalloff=c),s!==null&&(this.ssaoMaterial.normalDepthBuffer=s,this.defines.set("NORMAL_DEPTH","1")),this.depthAwareUpsampling=o,this.color=E}set mainCamera(t){this.camera=t,this.ssaoMaterial.copyCameraSettings(t)}get normalBuffer(){return this.ssaoMaterial.normalBuffer}set normalBuffer(t){this.ssaoMaterial.normalBuffer=t,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=t}getResolution(){return this.resolution}get ssaoMaterial(){return this.ssaoPass.fullscreenMaterial}getSSAOMaterial(){return this.ssaoMaterial}get samples(){return this.ssaoMaterial.samples}set samples(t){this.ssaoMaterial.samples=t}get rings(){return this.ssaoMaterial.rings}set rings(t){this.ssaoMaterial.rings=t}get radius(){return this.ssaoMaterial.radius}set radius(t){this.ssaoMaterial.radius=t}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(t){this.depthAwareUpsampling!==t&&(t?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}isDepthAwareUpsamplingEnabled(){return this.depthAwareUpsampling}setDepthAwareUpsamplingEnabled(t){this.depthAwareUpsampling=t}get distanceScaling(){return!0}set distanceScaling(t){}get color(){return this.uniforms.get("color").value}set color(t){const e=this.uniforms,n=this.defines;t!==null?n.has("COLORIZE")?e.get("color").value.set(t):(n.set("COLORIZE","1"),e.get("color").value=new et(t),this.setChanged()):n.has("COLORIZE")&&(n.delete("COLORIZE"),e.get("color").value=null,this.setChanged())}get luminanceInfluence(){return this.uniforms.get("luminanceInfluence").value}set luminanceInfluence(t){this.uniforms.get("luminanceInfluence").value=t}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getColor(){return this.color}setColor(t){this.color=t}setDistanceCutoff(t,e){this.ssaoMaterial.distanceThreshold=t,this.ssaoMaterial.distanceFalloff=e}setProximityCutoff(t,e){this.ssaoMaterial.proximityThreshold=t,this.ssaoMaterial.proximityFalloff=e}setDepthTexture(t,e=Yr){this.depthDownsamplingPass.setDepthTexture(t,e),this.ssaoMaterial.depthBuffer=t,this.ssaoMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget;this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(t),this.ssaoPass.render(t,null,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(r,i),this.renderTarget.setSize(r,i),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(t,e)}initialize(t,e,n){try{let r=this.uniforms.get("normalDepthBuffer").value;r===null&&(this.depthDownsamplingPass.initialize(t,e,n),r=this.depthDownsamplingPass.texture,this.uniforms.get("normalDepthBuffer").value=r,this.ssaoMaterial.normalDepthBuffer=r,this.defines.set("NORMAL_DEPTH","1"))}catch{this.depthDownsamplingPass.enabled=!1}}},Bse=`#ifdef TEXTURE_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
varying vec2 vUv2;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#ifdef UV_TRANSFORM
vec4 texel=texture2D(map,vUv2);
#else
vec4 texel=texture2D(map,uv);
#endif
outputColor=TEXEL;}`,Ise=`#ifdef ASPECT_CORRECTION
uniform float scale;
#else
uniform mat3 uvTransform;
#endif
varying vec2 vUv2;void mainSupport(const in vec2 uv){
#ifdef ASPECT_CORRECTION
vUv2=uv*vec2(aspect,1.0)*scale;
#else
vUv2=(uvTransform*vec3(uv,1.0)).xy;
#endif
}`,Lse=class extends wi{constructor({blendFunction:t,texture:e=null,aspectCorrection:n=!1}={}){super("TextureEffect",Bse,{blendFunction:t,defines:new Map([["TEXEL","texel"]]),uniforms:new Map([["map",new de(null)],["scale",new de(1)],["uvTransform",new de(null)]])}),this.texture=e,this.aspectCorrection=n}get texture(){return this.uniforms.get("map").value}set texture(t){const e=this.texture,n=this.uniforms,r=this.defines;e!==t&&(n.get("map").value=t,n.get("uvTransform").value=t.matrix,r.delete("TEXTURE_PRECISION_HIGH"),t!==null&&(t.matrixAutoUpdate?(r.set("UV_TRANSFORM","1"),this.setVertexShader(Ise)):(r.delete("UV_TRANSFORM"),this.setVertexShader(null)),t.type!==Gn&&r.set("TEXTURE_PRECISION_HIGH","1"),(e===null||e.type!==t.type||e.encoding!==t.encoding)&&this.setChanged()))}getTexture(){return this.texture}setTexture(t){this.texture=t}get aspectCorrection(){return this.defines.has("ASPECT_CORRECTION")}set aspectCorrection(t){this.aspectCorrection!==t&&(t?this.defines.set("ASPECT_CORRECTION","1"):this.defines.delete("ASPECT_CORRECTION"),this.setChanged())}get uvTransform(){const t=this.texture;return t!==null&&t.matrixAutoUpdate}set uvTransform(t){const e=this.texture;e!==null&&(e.matrixAutoUpdate=t)}setTextureSwizzleRGBA(t,e=t,n=t,r=t){const i="rgba";let s="";(t!==kf.RED||e!==kf.GREEN||n!==kf.BLUE||r!==kf.ALPHA)&&(s=[".",i[t],i[e],i[n],i[r]].join("")),this.defines.set("TEXEL","texel"+s),this.setChanged()}update(t,e,n){this.texture.matrixAutoUpdate&&this.texture.updateMatrix()}};function Rp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fse(t,e){if(t){if(typeof t=="string")return a9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a9(t,e)}}function kse(t){if(Array.isArray(t))return a9(t)}function Use(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(t){return kse(t)||Use(t)||Fse(t)||Nse()}new ve;new ve;function zse(t,e,n){return Math.max(e,Math.min(n,t))}function Gse(t,e){return zse(t-Math.floor(t/e)*e,0,e)}function Hse(t,e){var n=Gse(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function RL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Us=function t(e,n,r){var i=this;RL(this,t),Rp(this,"dot2",function(s,o){return i.x*s+i.y*o}),Rp(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},Vse=[new Us(1,1,0),new Us(-1,1,0),new Us(1,-1,0),new Us(-1,-1,0),new Us(1,0,1),new Us(-1,0,1),new Us(1,0,-1),new Us(-1,0,-1),new Us(0,1,1),new Us(0,-1,1),new Us(0,1,-1),new Us(0,-1,-1)],VT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],WT=new Array(512),jT=new Array(512),Wse=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=VT[n]^e&255:r=VT[n]^e>>8&255,WT[n]=WT[n+256]=r,jT[n]=jT[n+256]=Vse[r%12]}};Wse(0);function jse(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function XT(t){var e=jse(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var Xse=function t(e){var n=this;RL(this,t),Rp(this,"seed",0),Rp(this,"init",function(r){n.seed=r,n.value=XT(r)}),Rp(this,"value",XT(this.seed)),this.init(e)};new Xse(Math.random());var Jse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},DL=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function Ur(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:DL,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,c=o(u*i),f=t[e]-n,d=n,m=s*r;f=Math.min(Math.max(f,-m),m),n=t[e]-f;var g=(t.__damp[l]+u*f)*i;t.__damp[l]=(t.__damp[l]-u*g)*c;var v=n+(f+g)*c;return d-t[e]>0==v>d&&(v=d,t.__damp[l]=(v-d)/i),t[e]=v,!0}function Zf(t,e,n,r,i,s,o,a){return Ur(t,e,t[e]+Hse(t[e],n),r,i,s,o,a)}var Gd=new ve,JT,YT;function Yse(t,e,n,r,i,s,o){return typeof e=="number"?Gd.setScalar(e):Array.isArray(e)?Gd.set(e[0],e[1]):Gd.copy(e),JT=Ur(t,"x",Gd.x,n,r,i,s,o),YT=Ur(t,"y",Gd.y,n,r,i,s,o),JT||YT}var hf=new K,KT,ZT,QT;function l9(t,e,n,r,i,s,o){return typeof e=="number"?hf.setScalar(e):Array.isArray(e)?hf.set(e[0],e[1],e[2]):hf.copy(e),KT=Ur(t,"x",hf.x,n,r,i,s,o),ZT=Ur(t,"y",hf.y,n,r,i,s,o),QT=Ur(t,"z",hf.z,n,r,i,s,o),KT||ZT||QT}var Du=new qt,qT,$T,eC,tC;function Kse(t,e,n,r,i,s,o){return typeof e=="number"?Du.setScalar(e):Array.isArray(e)?Du.set(e[0],e[1],e[2],e[3]):Du.copy(e),qT=Ur(t,"x",Du.x,n,r,i,s,o),$T=Ur(t,"y",Du.y,n,r,i,s,o),eC=Ur(t,"z",Du.z,n,r,i,s,o),tC=Ur(t,"w",Du.w,n,r,i,s,o),qT||$T||eC||tC}var Hd=new Rh,nC,rC,iC;function Zse(t,e,n,r,i,s,o){return Array.isArray(e)?Hd.set(e[0],e[1],e[2],e[3]):Hd.copy(e),nC=Zf(t,"x",Hd.x,n,r,i,s,o),rC=Zf(t,"y",Hd.y,n,r,i,s,o),iC=Zf(t,"z",Hd.z,n,r,i,s,o),nC||rC||iC}var df=new et,sC,oC,aC;function Qse(t,e,n,r,i,s,o){return e instanceof et?df.copy(e):Array.isArray(e)?df.setRGB(e[0],e[1],e[2]):df.set(e),sC=Ur(t,"r",df.r,n,r,i,s,o),oC=Ur(t,"g",df.g,n,r,i,s,o),aC=Ur(t,"b",df.b,n,r,i,s,o),sC||oC||aC}var ao=new or,Ma=new qt,lC=new qt,Vd=new qt,uC,cC,fC,hC;function BL(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?ao.set(e[0],e[1],e[2],e[3]):ao.copy(e);var l=t.dot(ao)>0?1:-1;return ao.x*=l,ao.y*=l,ao.z*=l,ao.w*=l,uC=Ur(t,"x",ao.x,n,r,i,s,o),cC=Ur(t,"y",ao.y,n,r,i,s,o),fC=Ur(t,"z",ao.z,n,r,i,s,o),hC=Ur(t,"w",ao.w,n,r,i,s,o),Ma.set(t.x,t.y,t.z,t.w).normalize(),lC.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Vd.copy(Ma).multiplyScalar(lC.dot(Ma)/Ma.dot(Ma)),a.__damp.velocity_x-=Vd.x,a.__damp.velocity_y-=Vd.y,a.__damp.velocity_z-=Vd.z,a.__damp.velocity_w-=Vd.w,t.set(Ma.x,Ma.y,Ma.z,Ma.w),uC||cC||fC||hC}var Wd=new Sg,dC,pC,mC;function qse(t,e,n,r,i,s,o){return Array.isArray(e)?Wd.set(e[0],e[1],e[2]):Wd.copy(e),dC=Ur(t,"radius",Wd.radius,n,r,i,s,o),pC=Zf(t,"phi",Wd.phi,n,r,i,s,o),mC=Zf(t,"theta",Wd.theta,n,r,i,s,o),dC||pC||mC}var Bm=new ht,gC=new K,vC=new or,yC=new K,xC,wC,SC;function $se(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new K,rotation:new or,scale:new K},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Bm.set.apply(Bm,Ose(e)):Bm.copy(e),Bm.decompose(gC,vC,yC),xC=l9(a.__damp.position,gC,n,r,i,s,o),wC=BL(a.__damp.rotation,vC,n,r,i,s,o),SC=l9(a.__damp.scale,yC,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),xC||wC||SC}var IL=Object.freeze({__proto__:null,rsqw:Jse,exp:DL,damp:Ur,dampAngle:Zf,damp2:Yse,damp3:l9,damp4:Kse,dampE:Zse,dampC:Qse,dampQ:BL,dampS:qse,dampM:$se});const dw=H.createContext(null),qa=H.createContext(null),eoe=Rn.memo(H.forwardRef(({children:t,camera:e,scene:n,resolutionScale:r,enabled:i=!0,renderPriority:s=1,autoClear:o=!0,depthBuffer:a,disableNormalPass:l,stencilBuffer:u,multisampling:c=8,frameBufferType:f=Xn},d)=>{const{gl:m,scene:g,camera:v,size:y}=en(),S=n||g,w=e||v,[x,M,E]=H.useMemo(()=>{const R=zee(),B=new Eie(m,{depthBuffer:a,stencilBuffer:u,multisampling:c>0&&R?c:0,frameBufferType:f});B.addPass(new Hh(S,w));let N=null,G=null;return l||(G=new _ie(S,w),G.enabled=!1,B.addPass(G),r!==void 0&&R&&(N=new CL({normalBuffer:G.texture,resolutionScale:r}),N.enabled=!1,B.addPass(N))),[B,G,N]},[w,m,a,u,c,f,S,l,r]);H.useEffect(()=>x==null?void 0:x.setSize(y.width,y.height),[x,y]),$s((R,B)=>{if(i){const N=m.autoClear;m.autoClear=o,u&&!o&&m.clearStencil(),x.render(B),m.autoClear=N}},i?s:0);const C=H.useRef(null),P=i$(C);H.useLayoutEffect(()=>{const R=[];if(C.current&&P.current&&x){const B=P.current.objects;for(let N=0;N<B.length;N++){const G=B[N];if(G instanceof wi){const J=[];for(;B[N]instanceof wi;)J.push(B[N++]);N--;const D=new yie(w,...J);R.push(D)}else G instanceof Rr&&R.push(G)}for(const N of R)x==null||x.addPass(N);M&&(M.enabled=!0),E&&(E.enabled=!0)}return()=>{for(const B of R)x==null||x.removePass(B);M&&(M.enabled=!1),E&&(E.enabled=!1)}},[x,t,w,M,E,P]);const T=H.useMemo(()=>({composer:x,normalPass:M,downSamplingPass:E,resolutionScale:r,camera:w,scene:S}),[x,M,E,r,w,S]);return H.useImperativeHandle(d,()=>x,[x]),Ne(qa.Provider,{value:T,children:Ne("group",{ref:C,children:t})})})),Fl=t=>typeof t=="object"&&t!=null&&"current"in t?t.current:t;let toe=0;const _C=new WeakMap,noe=(t,e)=>Rn.forwardRef(function({blendFunction:r=e==null?void 0:e.blendFunction,opacity:i=e==null?void 0:e.opacity,...s},o){let a=_C.get(t);if(!a){const c=`@react-three/postprocessing/${t.name}-${toe++}`;Pv({[c]:t}),_C.set(t,a=c)}const l=en(c=>c.camera),u=Rn.useMemo(()=>{var c,f;return[...(c=e==null?void 0:e.args)!=null?c:[],...(f=s.args)!=null?f:[{...e,...s}]]},[JSON.stringify(s)]);return Ne(a,{camera:l,"blendMode-blendFunction":r,"blendMode-opacity-value":i,...s,ref:o,args:u})}),Im=(t,e)=>{const n=t[e];return Rn.useMemo(()=>typeof n=="number"?new ve(n,n):n?new ve(...n):new ve,[n])},roe=H.forwardRef(function({blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:d,target:m,depthTexture:g,...v},y){const{camera:S}=H.useContext(qa),w=m!=null,x=H.useMemo(()=>{const M=new fse(S,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:d});w&&(M.target=new K),g&&M.setDepthTexture(g.texture,g.packing);const E=M.maskPass.getFullscreenMaterial();return E.maskFunction=uw.MULTIPLY_RGB_SET_ALPHA,M},[S,e,n,r,i,s,o,a,l,u,c,f,d,w,g]);return H.useEffect(()=>()=>{x.dispose()},[x]),Ne("primitive",{...v,ref:y,object:x,target:m})});H.forwardRef(({target:t=void 0,mouse:e=!1,debug:n=void 0,manual:r=!1,smoothTime:i=.25,...s},o)=>{const a=H.useRef(null),l=H.useRef(null),u=H.useRef(null),c=en(({scene:E})=>E),f=en(({pointer:E})=>E),{composer:d,camera:m}=H.useContext(qa),[g]=H.useState(()=>new gie),[v]=H.useState(()=>new TL);H.useEffect(()=>(d.addPass(g),d.addPass(v),()=>{d.removePass(g),d.removePass(v)}),[d,g,v]),H.useEffect(()=>()=>{g.dispose(),v.dispose()},[g,v]);const[y]=H.useState(()=>new K(0,0,0)),[S]=H.useState(()=>new K(0,0,0)),w=H.useCallback(async(E,C)=>(S.x=E,S.y=C,S.z=await g.readDepth(S),S.z=S.z*2-1,1-S.z>1e-7?S.unproject(m):!1),[S,g,m]),x=H.useCallback(async(E,C=!0)=>{var P;if(t)y.set(...t);else{const{x:T,y:R}=e?f:{x:0,y:0},B=await w(T,R);B&&y.copy(B)}C&&((P=a.current)!=null&&P.target)&&(i>0&&E>0?IL.damp3(a.current.target,y,i,E):a.current.target.copy(y))},[t,y,e,w,i,f]);$s(async(E,C)=>{var P;r||x(C),l.current&&l.current.position.copy(y),u.current&&((P=a.current)!=null&&P.target)&&u.current.position.copy(a.current.target)});const M=H.useMemo(()=>({dofRef:a,hitpoint:y,update:x}),[y,x]);return H.useImperativeHandle(o,()=>M,[M]),hn(Qf,{children:[n?z7(hn(Qf,{children:[hn("mesh",{ref:l,children:[Ne("sphereGeometry",{args:[n,16,16]}),Ne("meshBasicMaterial",{color:"#00ff00",opacity:1,transparent:!0,depthWrite:!1})]}),hn("mesh",{ref:u,children:[Ne("sphereGeometry",{args:[n/2,16,16]}),Ne("meshBasicMaterial",{color:"#00ff00",opacity:.5,transparent:!0,depthWrite:!1})]})]}),c):null,Ne(roe,{ref:a,...s,target:y})]})});const ioe={fragmentShader:`

  uniform float iTime;
  uniform vec2 lensPosition;
  uniform vec2 iResolution;
  uniform vec3 colorGain;
  uniform float starPoints;
  uniform float glareSize;
  uniform float flareSize;
  uniform float flareSpeed;
  uniform float flareShape;
  uniform float haloScale;
  uniform float opacity;
  uniform bool animated;
  uniform bool anamorphic;
  uniform bool enabled;
  uniform bool secondaryGhosts;
  uniform bool starBurst;
  uniform float ghostScale;
  uniform bool aditionalStreaks;
  uniform sampler2D lensDirtTexture;
  vec2 vxtC;

  float rndf(float n){return fract(sin(n) * 43758.5453123);}float niz(float p){float fl = floor(p);float fc = fract(p);return mix(rndf(fl),rndf(fl + 1.0), fc);}
  vec3 hsv2rgb(vec3 c){vec4 k = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);vec3 p = abs(fract(c.xxx + k.xyz) * 6.0 - k.www);return c.z * mix(k.xxx, clamp(p - k.xxx, 0.0, 1.0), c.y);}
  float satU(float x){return clamp(x, 0.,1.);}vec2 rtU(vec2 naz, float rtn){return vec2(cos(rtn) * naz.x + sin(rtn) * naz.y,cos(rtn) * naz.y - sin(rtn) * naz.x);}
  vec3 drwF(vec2 p, float intensity, float rnd, float speed, int id){float flhos = (1. / 32.) * float(id) * 0.1;float lingrad = distance(vec2(0.), p);float expg = 1. / exp(lingrad * (fract(rnd) * 0.66 + 0.33));vec3 qzTg = hsv2rgb(vec3( fract( (expg * 8.) + speed * flareSpeed + flhos), pow(1.-abs(expg*2.-1.), 0.45), 20.0 * expg * intensity));float internalStarPoints;if(anamorphic){internalStarPoints = 1.0;} else{internalStarPoints = starPoints;}float ams = length(p * flareShape * sin(internalStarPoints * atan(p.x, p.y)));float kJhg = pow(1.-satU(ams), ( anamorphic ? 100. : 12.));kJhg += satU(expg-0.9) * 3.;kJhg = pow(kJhg * expg, 8. + (1.-intensity) * 5.);if(flareSpeed > 0.0){return vec3(kJhg) * qzTg;} else{return vec3(kJhg) * flareSize * 15.;}}
  float ams2(vec3 a, vec3 b) { return abs(a.x - b.x) + abs(a.y - b.y) + abs(a.z - b.z);}vec3 satU(vec3 x){return clamp(x, vec3(0.0), vec3(1.0));}
  float glR(vec2 naz, vec2 pos, float zsi){vec2 mni;if(animated){mni = rtU(naz-pos, iTime * 0.1);} else{mni = naz-pos;}float ang = atan(mni.y, mni.x) * (anamorphic ? 1.0 : starPoints);float ams2 = length(mni);ams2 = pow(ams2, .9);float f0 = 1.0/(length(naz-pos)*(1.0/zsi*16.0)+.2);return f0+f0*(sin((ang))*.2 +.3);}
  float sdHex(vec2 p){p = abs(p);vec2 q = vec2(p.x*2.0*0.5773503, p.y + p.x*0.5773503);return dot(step(q.xy,q.yx), 1.0-q.yx);}float fpow(float x, float k){return x > k ? pow((x-k)/(1.0-k),2.0) : 0.0;}
  vec3 rHx(vec2 naz, vec2 p, float s, vec3 col){naz -= p;if (abs(naz.x) < 0.2*s && abs(naz.y) < 0.2*s){return mix(vec3(0),mix(vec3(0),col,0.1 + fpow(length(naz/s),0.1)*10.0),smoothstep(0.0,0.1,sdHex(naz*20.0/s)));}return vec3(0);}
  vec3 mLs(vec2 naz, vec2 pos){vec2 mni = naz-pos;vec2 zxMp = naz*(length(naz));float ang = atan(mni.x,mni.y);float f0 = .3/(length(naz-pos)*16.0+1.0);f0 = f0*(sin(niz(sin(ang*3.9-(animated ? iTime : 0.0) * 0.3) * starPoints))*.2 );float f1 = max(0.01-pow(length(naz+1.2*pos),1.9),.0)*7.0;float f2 = max(.9/(10.0+32.0*pow(length(zxMp+0.99*pos),2.0)),.0)*0.35;float f22 = max(.9/(11.0+32.0*pow(length(zxMp+0.85*pos),2.0)),.0)*0.23;float f23 = max(.9/(12.0+32.0*pow(length(zxMp+0.95*pos),2.0)),.0)*0.6;vec2 ztX = mix(naz,zxMp, 0.1);float f4 = max(0.01-pow(length(ztX+0.4*pos),2.9),.0)*4.02;float f42 = max(0.0-pow(length(ztX+0.45*pos),2.9),.0)*4.1;float f43 = max(0.01-pow(length(ztX+0.5*pos),2.9),.0)*4.6;ztX = mix(naz,zxMp,-.4);float f5 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;float f52 = max(0.01-pow(length(ztX+0.2*pos),5.5),.0)*2.0;float f53 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;ztX = mix(naz,zxMp, 2.1);float f6 = max(0.01-pow(length(ztX-0.3*pos),1.61),.0)*3.159;float f62 = max(0.01-pow(length(ztX-0.325*pos),1.614),.0)*3.14;float f63 = max(0.01-pow(length(ztX-0.389*pos),1.623),.0)*3.12;vec3 c = vec3(glR(naz,pos, glareSize));vec2 prot;if(animated){prot = rtU(naz - pos, (iTime * 0.1));} else if(anamorphic){prot = rtU(naz - pos, 1.570796);} else {prot = naz - pos;}c += drwF(prot, (anamorphic ? flareSize * 10. : flareSize), 0.1, iTime, 1);c.r+=f1+f2+f4+f5+f6; c.g+=f1+f22+f42+f52+f62; c.b+=f1+f23+f43+f53+f63;c = c*1.3 * vec3(length(zxMp)+.09);c+=vec3(f0);return c;}
  vec3 cc(vec3 clr, float fct,float fct2){float w = clr.x+clr.y+clr.z;return mix(clr,vec3(w)*fct,w*fct2);}float rnd(vec2 p){float f = fract(sin(dot(p, vec2(12.1234, 72.8392) )*45123.2));return f;}float rnd(float w){float f = fract(sin(w)*1000.);return f;}
  float rShp(vec2 p, int N){float f;float a=atan(p.x,p.y)+.2;float b=6.28319/float(N);f=smoothstep(.5,.51, cos(floor(.5+a/b)*b-a)*length(p.xy)* 2.0  -ghostScale);return f;}
  vec3 drC(vec2 p, float zsi, float dCy, vec3 clr, vec3 clr2, float ams2, vec2 esom){float l = length(p + esom*(ams2*2.))+zsi/2.;float l2 = length(p + esom*(ams2*4.))+zsi/3.;float c = max(0.01-pow(length(p + esom*ams2), zsi*ghostScale), 0.0)*10.;float c1 = max(0.001-pow(l-0.3, 1./40.)+sin(l*20.), 0.0)*3.;float c2 =  max(0.09/pow(length(p-esom*ams2/.5)*1., .95), 0.0)/20.;float s = max(0.02-pow(rShp(p*5. + esom*ams2*5. + dCy, 6) , 1.), 0.0)*1.5;clr = cos(vec3(0.44, .24, .2)*8. + ams2*4.)*0.5+.5;vec3 f = c*clr;f += c1*clr;f += c2*clr;f +=  s*clr;return f-0.01;}
  vec4 geLC(float x){return vec4(vec3(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(vec3(0., 0., 0.),vec3(0., 0., 0.), smoothstep(0.0, 0.063, x)),vec3(0., 0., 0.), smoothstep(0.063, 0.125, x)),vec3(0.0, 0., 0.), smoothstep(0.125, 0.188, x)),vec3(0.188, 0.131, 0.116), smoothstep(0.188, 0.227, x)),vec3(0.31, 0.204, 0.537), smoothstep(0.227, 0.251, x)),vec3(0.192, 0.106, 0.286), smoothstep(0.251, 0.314, x)),vec3(0.102, 0.008, 0.341), smoothstep(0.314, 0.392, x)),vec3(0.086, 0.0, 0.141), smoothstep(0.392, 0.502, x)),vec3(1.0, 0.31, 0.0), smoothstep(0.502, 0.604, x)),vec3(.1, 0.1, 0.1), smoothstep(0.604, 0.643, x)),vec3(1.0, 0.929, 0.0), smoothstep(0.643, 0.761, x)),vec3(1.0, 0.086, 0.424), smoothstep(0.761, 0.847, x)),vec3(1.0, 0.49, 0.0), smoothstep(0.847, 0.89, x)),vec3(0.945, 0.275, 0.475), smoothstep(0.89, 0.941, x)),vec3(0.251, 0.275, 0.796), smoothstep(0.941, 1.0, x))),1.0);}
  float diTN(vec2 p){vec2 f = fract(p);f = (f * f) * (3.0 - (2.0 * f));float n = dot(floor(p), vec2(1.0, 157.0));vec4 a = fract(sin(vec4(n + 0.0, n + 1.0, n + 157.0, n + 158.0)) * 43758.5453123);return mix(mix(a.x, a.y, f.x), mix(a.z, a.w, f.x), f.y);} 
  float fbm(vec2 p){const mat2 m = mat2(0.80, -0.60, 0.60, 0.80);float f = 0.0;f += 0.5000*diTN(p); p = m*p*2.02;f += 0.2500*diTN(p); p = m*p*2.03;f += 0.1250*diTN(p); p = m*p*2.01;f += 0.0625*diTN(p);return f/0.9375;} 
  vec4 geLS(vec2 p){vec2 pp = (p - vec2(0.5)) * 2.0;float a = atan(pp.y, pp.x);vec4 cp = vec4(sin(a * 1.0), length(pp), sin(a * 13.0), sin(a * 53.0));float d = sin(clamp(pow(length(vec2(0.5) - p) * 0.5 + haloScale /2., 5.0), 0.0, 1.0) * 3.14159);vec3 c = vec3(d) * vec3(fbm(cp.xy * 16.0) * fbm(cp.zw * 9.0) * max(max(max(max(0.5, sin(a * 1.0)), sin(a * 3.0) * 0.8), sin(a * 7.0) * 0.8), sin(a * 9.0) * 10.6));c *= vec3(mix(2.0, (sin(length(pp.xy) * 256.0) * 0.5) + 0.5, sin((clamp((length(pp.xy) - 0.875) / 0.1, 0.0, 1.0) + 0.0) * 2.0 * 3.14159) * 1.5) + 0.5) * 0.3275;return vec4(vec3(c * 1.0), d);}
  vec4 geLD(vec2 p){p.xy += vec2(fbm(p.yx * 3.0), fbm(p.yx * 2.0)) * 0.0825;vec3 o = vec3(mix(0.125, 0.25, max(max(smoothstep(0.1, 0.0, length(p - vec2(0.25))),smoothstep(0.4, 0.0, length(p - vec2(0.75)))),smoothstep(0.8, 0.0, length(p - vec2(0.875, 0.125))))));o += vec3(max(fbm(p * 1.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 2.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 4.0) - 0.5, 0.0)) * 0.25;o += vec3(max(fbm(p * 8.0) - 0.75, 0.0)) * 1.0;o += vec3(max(fbm(p * 16.0) - 0.75, 0.0)) * 0.75;o += vec3(max(fbm(p * 64.0) - 0.75, 0.0)) * 0.5;return vec4(clamp(o, vec3(0.15), vec3(1.0)), 1.0);}
  vec4 txL(sampler2D tex, vec2 xtC){if(((xtC.x < 0.) || (xtC.y < 0.)) || ((xtC.x > 1.) || (xtC.y > 1.))){return vec4(0.0);}else{return texture(tex, xtC); }}
  vec4 txD(sampler2D tex, vec2 xtC, vec2 dir, vec3 ditn) {return vec4(txL(tex, (xtC + (dir * ditn.r))).r,txL(tex, (xtC + (dir * ditn.g))).g,txL(tex, (xtC + (dir * ditn.b))).b,1.0);}
  vec4 strB(){vec2 aspXtc = vec2(1.0) - (((vxtC - vec2(0.5)) * vec2(1.0)) + vec2(0.5)); vec2 xtC = vec2(1.0) - vxtC; vec2 ghvc = (vec2(0.5) - xtC) * 0.3 - lensPosition; vec2 ghNm = normalize(ghvc * vec2(1.0)) * vec2(1.0);vec2 haloVec = normalize(ghvc) * 0.6;vec2 hlNm = ghNm * 0.6;vec2 texelSize = vec2(1.0) / vec2(iResolution.xy);vec3 ditn = vec3(-(texelSize.x * 1.5), 0.2, texelSize.x * 1.5);vec4 c = vec4(0.0);for (int i = 0; i < 8; i++) {vec2 offset = xtC + (ghvc * float(i));c += txD(lensDirtTexture, offset, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - offset) / length(vec2(0.5)))), 10.0);}vec2 uyTrz = xtC + hlNm; return (c * geLC((length(vec2(0.5) - aspXtc) / length(vec2(haloScale))))) +(txD(lensDirtTexture, uyTrz, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - uyTrz) / length(vec2(0.5)))), 10.0));} 
  void mainImage(vec4 v,vec2 r,out vec4 i){vec2 g=r-.5;g.y*=iResolution.y/iResolution.x;vec2 l=lensPosition*.5;l.y*=iResolution.y/iResolution.x;vec3 f=mLs(g,l)*20.*colorGain/256.;if(aditionalStreaks){vec3 o=vec3(.9,.2,.1),p=vec3(.3,.1,.9);for(float n=0.;n<10.;n++)f+=drC(g,pow(rnd(n*2e3)*2.8,.1)+1.41,0.,o+n,p+n,rnd(n*20.)*3.+.2-.5,lensPosition);}if(secondaryGhosts){vec3 n=vec3(0);n+=rHx(g,-lensPosition*.25,ghostScale*1.4,vec3(.25,.35,0));n+=rHx(g,lensPosition*.25,ghostScale*.5,vec3(1,.5,.5));n+=rHx(g,lensPosition*.1,ghostScale*1.6,vec3(1));n+=rHx(g,lensPosition*1.8,ghostScale*2.,vec3(0,.5,.75));n+=rHx(g,lensPosition*1.25,ghostScale*.8,vec3(1,1,.5));n+=rHx(g,-lensPosition*1.25,ghostScale*5.,vec3(.5,.5,.25));n+=fpow(1.-abs(distance(lensPosition*.8,g)-.7),.985)*colorGain/2100.;f+=n;}if(starBurst){vxtC=g+.5;vec4 n=geLD(g);float o=1.-clamp(0.5,0.,.5)*2.;n+=mix(n,pow(n*2.,vec4(2))*.5,o);float s=(g.x+g.y)*(1./6.);vec2 d=mat2(cos(s),-sin(s),sin(s),cos(s))*vxtC;n+=geLS(d)*2.;f+=clamp(n.xyz*strB().xyz,.01,1.);}i=enabled?vec4(mix(f,vec3(0),opacity)+v.xyz,v.w):vec4(v);}
`};class soe extends wi{constructor({blendFunction:e=Ut.NORMAL,enabled:n=!0,glareSize:r=.2,lensPosition:i=[.01,.01],iResolution:s=[0,0],starPoints:o=6,flareSize:a=.01,flareSpeed:l=.01,flareShape:u=.01,animated:c=!0,anamorphic:f=!1,colorGain:d=new et(20,20,20),lensDirtTexture:m=null,haloScale:g=.5,secondaryGhosts:v=!0,aditionalStreaks:y=!0,ghostScale:S=0,opacity:w=1,starBurst:x=!1}={}){super("LensFlareEffect",ioe.fragmentShader,{blendFunction:e,uniforms:new Map([["enabled",new de(n)],["glareSize",new de(r)],["lensPosition",new de(i)],["iTime",new de(0)],["iResolution",new de(s)],["starPoints",new de(o)],["flareSize",new de(a)],["flareSpeed",new de(l)],["flareShape",new de(u)],["animated",new de(c)],["anamorphic",new de(f)],["colorGain",new de(d)],["lensDirtTexture",new de(m)],["haloScale",new de(g)],["secondaryGhosts",new de(v)],["aditionalStreaks",new de(y)],["ghostScale",new de(S)],["starBurst",new de(x)],["opacity",new de(w)]])})}update(e,n,r){const i=this.uniforms.get("iTime");i&&(i.value+=r)}}H.forwardRef(({position:t=new K(-25,6,-60),followMouse:e=!1,smoothTime:n=.07,...r},i)=>{const s=en(({viewport:m})=>m),o=en(({raycaster:m})=>m),a=en(({pointer:m})=>m),{scene:l,camera:u}=H.useContext(qa),[c]=H.useState(()=>new K),[f]=H.useState(()=>new ve),d=H.useMemo(()=>new soe(r),[r]);return $s((m,g)=>{var v,y,S;const w=d.uniforms.get("lensPosition"),x=d.uniforms.get("opacity");if(!w||!x)return;let M=1;if(e)w.value.x=a.x,w.value.y=a.y,M=0;else{if(c.copy(t).project(u),c.z>1)return;w.value.x=c.x,w.value.y=c.y,f.set(c.x,c.y),o.setFromCamera(f,u);const E=o.intersectObjects(l.children,!0),{object:C}=E[0];C&&(((v=C.userData)==null?void 0:v.lensflare)==="no-occlusion"?M=0:C instanceof Un&&(((S=(y=C.material.uniforms)==null?void 0:y._transmission)==null?void 0:S.value)>.2||C.material._transmission&&C.material._transmission>.2?M=.2:C.material.transparent&&(M=C.material.opacity)))}IL.damp(x,"value",M,n,g)}),H.useEffect(()=>{const m=d.uniforms.get("iResolution");m&&(m.value.x=s.width,m.value.y=s.height)},[d,s]),Ne("primitive",{ref:i,object:d,dispose:null})});const ooe=noe(bL,{blendFunction:Ut.ADD});H.forwardRef(function({blendFunction:e=Ut.NORMAL},n){const r=H.useMemo(()=>new use(e),[e]);return Ne("primitive",{ref:n,object:r,dispose:null})});H.forwardRef(function({active:e=!0,...n},r){const i=en(c=>c.invalidate),s=Im(n,"delay"),o=Im(n,"duration"),a=Im(n,"strength"),l=Im(n,"chromaticAberrationOffset"),u=H.useMemo(()=>new vse({...n,delay:s,duration:o,strength:a,chromaticAberrationOffset:l}),[s,o,n,a,l]);return H.useLayoutEffect(()=>{u.mode=e?n.mode||zu.SPORADIC:zu.DISABLED,i()},[e,u,i,n.mode]),H.useEffect(()=>()=>{u.dispose()},[u]),Ne("primitive",{ref:r,object:u,dispose:null})});H.forwardRef(function(e,n){const{camera:r}=H.useContext(qa),i=H.useMemo(()=>new xse(r,Fl(e.sun),e),[r,e]);return H.useLayoutEffect(()=>void(i.lightSource=Fl(e.sun)),[i,e.sun]),Ne("primitive",{ref:n,object:i,dispose:null})});H.forwardRef(function({size:e,...n},r){const i=en(o=>o.invalidate),s=H.useMemo(()=>new Sse(n),[n]);return H.useLayoutEffect(()=>{e&&s.setSize(e.width,e.height),i()},[s,e]),Ne("primitive",{ref:r,object:s,dispose:null})});H.forwardRef(function({selection:e=[],selectionLayer:n=10,blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:d,xRay:m,...g},v){const y=en(E=>E.invalidate),{scene:S,camera:w}=H.useContext(qa),x=H.useMemo(()=>new Tse(S,w,{blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:d,xRay:m,...g}),[r,d,w,s,c,l,f,i,o,S,a,u,m]),M=H.useContext(dw);return H.useEffect(()=>{if(!M&&e)return x.selection.set(Array.isArray(e)?e.map(Fl):[Fl(e)]),y(),()=>{x.selection.clear(),y()}},[x,e,M,y]),H.useEffect(()=>{x.selectionLayer=n,y()},[x,y,n]),H.useRef(),H.useEffect(()=>{var E;if(M&&M.enabled&&(E=M.selected)!=null&&E.length)return x.selection.set(M.selected),y(),()=>{x.selection.clear(),y()}},[M,x.selection,y]),Ne("primitive",{ref:v,object:x})});H.forwardRef(function({granularity:e=5},n){const r=H.useMemo(()=>new bse(e),[e]);return Ne("primitive",{ref:n,object:r,dispose:null})});const aoe=(t,e)=>t.layers.enable(e.selection.layer),loe=(t,e)=>t.layers.disable(e.selection.layer);H.forwardRef(function({selection:e=[],selectionLayer:n=10,lights:r=[],luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f},d){r.length===0&&console.warn("SelectiveBloom requires lights to work.");const m=en(w=>w.invalidate),{scene:g,camera:v}=H.useContext(qa),y=H.useMemo(()=>new Pse(g,v,{blendFunction:Ut.ADD,luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f}),[g,v,i,s,o,a,l,u,c,f]),S=H.useContext(dw);return H.useEffect(()=>{if(!S&&e)return y.selection.set(Array.isArray(e)?e.map(Fl):[Fl(e)]),m(),()=>{y.selection.clear(),m()}},[y,e,S,m]),H.useEffect(()=>{y.selection.layer=n,m()},[y,m,n]),H.useEffect(()=>{if(r&&r.length>0)return r.forEach(w=>aoe(Fl(w),y)),m(),()=>{r.forEach(w=>loe(Fl(w),y)),m()}},[y,m,r,n]),H.useEffect(()=>{var w;if(S&&S.enabled&&(w=S.selected)!=null&&w.length)return y.selection.set(S.selected),m(),()=>{y.selection.clear(),m()}},[S,y.selection,m]),Ne("primitive",{ref:d,object:y,dispose:null})});H.forwardRef(function(e,n){const{camera:r,normalPass:i,downSamplingPass:s,resolutionScale:o}=H.useContext(qa),a=H.useMemo(()=>i===null&&s===null?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),{}):new Dse(r,i&&!s?i.texture:null,{blendFunction:Ut.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,bias:.5,intensity:1,color:void 0,normalDepthBuffer:s?s.texture:null,resolutionScale:o??1,depthAwareUpsampling:!0,...e}),[r,i,e]);return Ne("primitive",{ref:n,object:a,dispose:null})});H.forwardRef(function({textureSrc:e,texture:n,...r},i){const s=Tc(C7,e);H.useLayoutEffect(()=>{s.encoding=En,s.wrapS=s.wrapT=xi},[s]);const o=H.useMemo(()=>new Lse({...r,texture:s||n}),[r,s,n]);return Ne("primitive",{ref:i,object:o,dispose:null})});H.forwardRef(function({lut:e,tetrahedralInterpolation:n,...r},i){const s=H.useMemo(()=>new Mse(e,r),[e,r]),o=en(a=>a.invalidate);return H.useLayoutEffect(()=>{n&&(s.tetrahedralInterpolation=n),e&&(s.lut=e),o()},[s,o,e,n]),Ne("primitive",{ref:i,object:s,dispose:null})});const uoe=`
uniform sampler2D uCharacters;
uniform float uCharactersCount;
uniform float uCellSize;
uniform bool uInvert;
uniform vec3 uColor;

const vec2 SIZE = vec2(16.);

vec3 greyscale(vec3 color, float strength) {
    float g = dot(color, vec3(0.299, 0.587, 0.114));
    return mix(color, vec3(g), strength);
}

vec3 greyscale(vec3 color) {
    return greyscale(color, 1.0);
}

void mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {
    vec2 cell = resolution / uCellSize;
    vec2 grid = 1.0 / cell;
    vec2 pixelizedUV = grid * (0.5 + floor(uv / grid));
    vec4 pixelized = texture2D(inputBuffer, pixelizedUV);
    float greyscaled = greyscale(pixelized.rgb).r;

    if (uInvert) {
        greyscaled = 1.0 - greyscaled;
    }

    float characterIndex = floor((uCharactersCount - 1.0) * greyscaled);
    vec2 characterPosition = vec2(mod(characterIndex, SIZE.x), floor(characterIndex / SIZE.y));
    vec2 offset = vec2(characterPosition.x, -characterPosition.y) / SIZE;
    vec2 charUV = mod(uv * (cell / SIZE), 1.0 / SIZE) - vec2(0., 1.0 / SIZE) + offset;
    vec4 asciiCharacter = texture2D(uCharacters, charUV);

    asciiCharacter.rgb = uColor * asciiCharacter.r;
    asciiCharacter.a = pixelized.a;
    outputColor = asciiCharacter;
}
`;class coe extends wi{constructor({characters:e=" .:,'-^=*+?!|0#X%WM@",fontSize:n=54,cellSize:r=16,color:i="#ffffff",invert:s=!1}={}){const o=new Map([["uCharacters",new de(new bn)],["uCellSize",new de(r)],["uCharactersCount",new de(e.length)],["uColor",new de(new et(i))],["uInvert",new de(s)]]);super("ASCIIEffect",uoe,{uniforms:o});const a=this.uniforms.get("uCharacters");a&&(a.value=this.createCharactersTexture(e,n))}createCharactersTexture(e,n){const r=document.createElement("canvas"),i=1024,s=16,o=i/s;r.width=r.height=i;const a=new xB(r,void 0,xi,xi,Nt,Nt),l=r.getContext("2d");if(!l)throw new Error("Context not available");l.clearRect(0,0,i,i),l.font=`${n}px arial`,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(let u=0;u<e.length;u++){const c=e[u],f=u%s,d=Math.floor(u/s);l.fillText(c,f*o+o/2,d*o+o/2)}return a.needsUpdate=!0,a}}H.forwardRef(({characters:t=" .:,'-^=*+?!|0#X%WM@",fontSize:e=54,cellSize:n=16,color:r="#ffffff",invert:i=!1},s)=>{const o=H.useMemo(()=>new coe({characters:t,fontSize:e,cellSize:n,color:r,invert:i}),[t,e,n,r,i]);return Ne("primitive",{ref:s,object:o})});var foe=`#define GLSLIFY 1
uniform float blur;uniform float blurSharpness;uniform int blurKernel;vec3 denoise(vec3 center,sampler2D tex,vec2 uv,vec2 invTexSize,float blur,float blurSharpness,int blurKernel){vec3 color;float total;vec3 col;float weight;for(int x=-blurKernel;x<=blurKernel;x++){for(int y=-blurKernel;y<=blurKernel;y++){col=textureLod(tex,uv+vec2(x,y)*invTexSize,0.).rgb;weight=1.0-abs(dot(col-center,vec3(0.25)));weight=pow(weight,blurSharpness);color+=col*weight;total+=weight;}}return color/total;}`,hoe=`#define GLSLIFY 1
#define MODE_DEFAULT 0
#define MODE_REFLECTIONS 1
#define MODE_RAW_REFLECTION 2
#define MODE_BLURRED_REFLECTIONS 3
#define MODE_INPUT 4
#define MODE_BLUR_MIX 5
#define FLOAT_EPSILON 0.00001
uniform sampler2D inputTexture;uniform sampler2D reflectionsTexture;uniform float samples;
#include <boxBlur>
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 reflectionsTexel=texture2D(reflectionsTexture,vUv);ivec2 size=textureSize(reflectionsTexture,0);vec2 invTexSize=1./vec2(size.x,size.y);vec3 reflectionClr=reflectionsTexel.xyz;if(blur>FLOAT_EPSILON){vec3 blurredReflectionsColor=denoise(reflectionsTexel.rgb,reflectionsTexture,vUv,invTexSize,blur,blurSharpness,blurKernel);reflectionClr=mix(reflectionClr,blurredReflectionsColor.rgb,blur);}
#if RENDER_MODE == MODE_DEFAULT
outputColor=vec4(inputColor.rgb+reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_REFLECTIONS
outputColor=vec4(reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_RAW_REFLECTION
outputColor=vec4(reflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLURRED_REFLECTIONS
outputColor=vec4(blurredReflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_INPUT
outputColor=vec4(inputColor.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLUR_MIX
outputColor=vec4(vec3(blur),1.0);
#endif
}`,LL=`#define GLSLIFY 1
vec3 getViewPosition(const float depth){float clipW=_projectionMatrix[2][3]*depth+_projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(vUv,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(_inverseProjectionMatrix*clipPosition).xyz;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 screenSpaceToWorldSpace(const vec2 uv,const float depth){vec4 ndc=vec4((uv.x-0.5)*2.0,(uv.y-0.5)*2.0,(depth-0.5)*2.0,1.0);vec4 clip=_inverseProjectionMatrix*ndc;vec4 view=cameraMatrixWorld*(clip/clip.w);return view.xyz;}
#define Scale (vec3(0.8, 0.8, 0.8))
#define K (19.19)
vec3 hash(vec3 a){a=fract(a*Scale);a+=dot(a,a.yxz+K);return fract((a.xxy+a.yxx)*a.zyx);}float fresnel_dielectric_cos(float cosi,float eta){float c=abs(cosi);float g=eta*eta-1.0+c*c;float result;if(g>0.0){g=sqrt(g);float A=(g-c)/(g+c);float B=(c*(g+c)-1.0)/(c*(g-c)+1.0);result=0.5*A*A*(1.0+B*B);}else{result=1.0;}return result;}float fresnel_dielectric(vec3 Incoming,vec3 Normal,float eta){float cosine=dot(Incoming,Normal);return min(1.0,5.0*fresnel_dielectric_cos(cosine,eta));}`,doe=`#define GLSLIFY 1
#define INV_EULER 0.36787944117144233
alpha=velocityDisocclusion<FLOAT_EPSILON ?(alpha+0.0075): 0.0;alpha=clamp(alpha,0.0,1.0);bool needsBlur=!didReproject||velocityDisocclusion>0.5;
#ifdef boxBlur
if(needsBlur)inputColor=boxBlurredColor;
#endif
if(alpha==1.0){outputColor=accumulatedColor;}else{float m=mix(alpha,1.0,blend);if(needsBlur)m=0.0;outputColor=accumulatedColor*m+inputColor*(1.0-m);}`;class poe extends Ht{constructor(){super({type:"MRTMaterial",defines:{USE_UV:"",TEMPORAL_RESOLVE:""},uniforms:{opacity:new de(1),normalMap:new de(null),normalScale:new de(new ve(1,1)),uvTransform:new de(new Fr),roughness:new de(1),roughnessMap:new de(null)},vertexShader:`
                #ifdef USE_MRT
                 varying vec2 vHighPrecisionZW;
                #endif
                #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <common>
                #include <uv_pars_vertex>
                #include <displacementmap_pars_vertex>
                #include <normal_pars_vertex>
                #include <morphtarget_pars_vertex>
                #include <skinning_pars_vertex>
                #include <logdepthbuf_pars_vertex>
                #include <clipping_planes_pars_vertex>
                #ifdef USE_UV
                  ${qs.replace(/\D+/g,"")>=151?"uniform mat3 uvTransform;":""}
                #endif
                void main() {
                    #include <uv_vertex>
                    #include <beginnormal_vertex>
                    #include <morphnormal_vertex>
                    #include <skinbase_vertex>
                    #include <skinnormal_vertex>
                    #include <defaultnormal_vertex>
                    #include <normal_vertex>
                    #include <begin_vertex>
                    #include <morphtarget_vertex>
                    #include <skinning_vertex>
                    #include <displacementmap_vertex>
                    #include <project_vertex>
                    #include <logdepthbuf_vertex>
                    #include <clipping_planes_vertex>
                    #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                        vViewPosition = - mvPosition.xyz;
                    #endif
                    #ifdef USE_MRT
                        vHighPrecisionZW = gl_Position.zw;
                    #endif
                    #ifdef USE_UV
                        vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
                    #endif
                }
            `,fragmentShader:`
                 #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <packing>
                #include <uv_pars_fragment>
                #include <normal_pars_fragment>
                #include <bumpmap_pars_fragment>
                #include <normalmap_pars_fragment>
                #include <logdepthbuf_pars_fragment>
                #include <clipping_planes_pars_fragment>
                #include <roughnessmap_pars_fragment>

                #ifdef USE_MRT
                layout(location = 0) out vec4 gNormal;
                layout(location = 1) out vec4 gDepth;

                varying vec2 vHighPrecisionZW;
                #endif
                uniform float roughness;
                void main() {
                    #include <clipping_planes_fragment>
                    #include <logdepthbuf_fragment>
                    #include <normal_fragment_begin>
                    #include <normal_fragment_maps>

                    float roughnessFactor = roughness;

                    if(roughness > 10.0e9){
                        roughnessFactor = 1.;
                    }else{
                        #ifdef useRoughnessMap
                            vec4 texelRoughness = texture2D( roughnessMap, vUv );
                            // reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
                            roughnessFactor *= texelRoughness.g;
                        #endif
                    }

                    vec3 normalColor = packNormalToRGB( normal );
                    #ifdef USE_MRT
                        float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
                        vec4 depthColor = packDepthToRGBA( fragCoordZ );
                        gNormal = vec4( normalColor, roughnessFactor );
                        gDepth = depthColor;
                    #else
                        gl_FragColor = vec4(normalColor, roughnessFactor);
                    #endif
                }
            `,toneMapped:!1}),this.normalMapType=Za,this.normalScale=new ve(1,1),Object.defineProperty(this,"glslVersion",{get(){return"USE_MRT"in this.defines?vg:null},set(e){}})}}var moe=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,goe=`#define GLSLIFY 1
varying vec2 vUv;uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D normalTexture;uniform sampler2D depthTexture;uniform sampler2D envMap;uniform mat4 _projectionMatrix;uniform mat4 _inverseProjectionMatrix;uniform mat4 cameraMatrixWorld;uniform float cameraNear;uniform float cameraFar;uniform float rayDistance;uniform float intensity;uniform float maxDepthDifference;uniform float roughnessFade;uniform float maxRoughness;uniform float fade;uniform float thickness;uniform float ior;uniform float samples;uniform float jitter;uniform float jitterRoughness;
#define INVALID_RAY_COORDS vec2(-1.0);
#define EARLY_OUT_COLOR vec4(0.0, 0.0, 0.0, 1.0)
#define FLOAT_EPSILON 0.00001
float nearMinusFar;float nearMulFar;float farMinusNear;
#include <packing>
#include <helperFunctions>
vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);float fastGetViewZ(const in float depth);vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness);void main(){vec4 depthTexel=textureLod(depthTexture,vUv,0.0);if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON){gl_FragColor=EARLY_OUT_COLOR;return;}float unpackedDepth=unpackRGBAToDepth(depthTexel);vec4 normalTexel=textureLod(normalTexture,vUv,0.0);float roughness=normalTexel.a;float specular=1.0-roughness;nearMinusFar=cameraNear-cameraFar;nearMulFar=cameraNear*cameraFar;farMinusNear=cameraFar-cameraNear;normalTexel.rgb=unpackRGBToNormal(normalTexel.rgb);float depth=fastGetViewZ(unpackedDepth);vec3 viewPos=getViewPosition(depth);vec3 viewDir=normalize(viewPos);vec3 viewNormal=normalTexel.xyz;vec3 worldPos=screenSpaceToWorldSpace(vUv,unpackedDepth);vec3 jitt=vec3(0.0);if(jitterRoughness!=0.0||jitter!=0.0){vec3 randomJitter=hash(50.0*samples*worldPos)-0.5;float spread=((2.0-specular)+roughness*jitterRoughness);float jitterMix=jitter*0.25+jitterRoughness*roughness;if(jitterMix>1.0)jitterMix=1.0;jitt=mix(vec3(0.0),randomJitter*spread,jitterMix);}viewNormal+=jitt;float fresnelFactor=fresnel_dielectric(viewDir,viewNormal,ior);vec3 iblRadiance=getIBLRadiance(-viewDir,viewNormal,0.)*fresnelFactor;float lastFrameAlpha=textureLod(accumulatedTexture,vUv,0.0).a;if(roughness>maxRoughness||(roughness>1.0-FLOAT_EPSILON&&roughnessFade>1.0-FLOAT_EPSILON)){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec3 reflected=reflect(viewDir,viewNormal);vec3 rayDir=reflected*-viewPos.z;vec3 hitPos=viewPos;float rayHitDepthDifference;vec2 coords=RayMarch(rayDir,hitPos,rayHitDepthDifference);if(coords.x==-1.0){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec4 SSRTexel=textureLod(inputTexture,coords.xy,0.0);vec4 SSRTexelReflected=textureLod(accumulatedTexture,coords.xy,0.0);vec3 SSR=SSRTexel.rgb+SSRTexelReflected.rgb;float roughnessFactor=mix(specular,1.0,max(0.0,1.0-roughnessFade));vec2 coordsNDC=(coords.xy*2.0-1.0);float screenFade=0.1;float maxDimension=min(1.0,max(abs(coordsNDC.x),abs(coordsNDC.y)));float reflectionIntensity=1.0-(max(0.0,maxDimension-screenFade)/(1.0-screenFade));reflectionIntensity=max(0.,reflectionIntensity);vec3 finalSSR=mix(iblRadiance,SSR,reflectionIntensity)*roughnessFactor;if(fade!=0.0){vec3 hitWorldPos=screenSpaceToWorldSpace(coords,rayHitDepthDifference);float reflectionDistance=distance(hitWorldPos,worldPos)+1.0;float opacity=1.0/(reflectionDistance*fade*0.1);if(opacity>1.0)opacity=1.0;finalSSR*=opacity;}finalSSR*=fresnelFactor*intensity;finalSSR=min(vec3(1.0),finalSSR);float alpha=hitPos.z==1.0 ? 1.0 : SSRTexelReflected.a;alpha=min(lastFrameAlpha,alpha);gl_FragColor=vec4(finalSSR,alpha);}vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){dir=normalize(dir);dir*=rayDistance/float(steps);float depth;vec4 projectedCoord;vec4 lastProjectedCoord;float unpackedDepth;vec4 depthTexel;for(int i=0;i<steps;i++){hitPos+=dir;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;
#ifndef missedRays
if(projectedCoord.x<0.0||projectedCoord.x>1.0||projectedCoord.y<0.0||projectedCoord.y>1.0){return INVALID_RAY_COORDS;}
#endif
depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;if(rayHitDepthDifference>=0.0&&rayHitDepthDifference<thickness){
#if refineSteps == 0
if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;
#else
return BinarySearch(dir,hitPos,rayHitDepthDifference);
#endif
}
#ifndef missedRays
if(hitPos.z>0.0){return INVALID_RAY_COORDS;}
#endif
lastProjectedCoord=projectedCoord;}hitPos.z=1.0;
#ifndef missedRays
return INVALID_RAY_COORDS;
#endif
rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){float depth;vec4 projectedCoord;vec2 lastMinProjectedCoordXY;float unpackedDepth;vec4 depthTexel;for(int i=0;i<refineSteps;i++){projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;dir*=0.5;if(rayHitDepthDifference>0.0){hitPos-=dir;}else{hitPos+=dir;}}if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;if(abs(rayHitDepthDifference)>maxDepthDifference)return INVALID_RAY_COORDS;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}float fastGetViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return nearMulFar/(farMinusNear*depth-cameraFar);
#else
return depth*nearMinusFar-cameraNear;
#endif
}
#include <common>
#include <cube_uv_reflection_fragment>
vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness){
#if defined(ENVMAP_TYPE_CUBE_UV)
vec3 reflectVec=reflect(-viewDir,normal);reflectVec=normalize(mix(reflectVec,normal,roughness*roughness));reflectVec=inverseTransformDirection(reflectVec,viewMatrix);vec4 envMapColor=textureCubeUV(envMap,reflectVec,roughness);return envMapColor.rgb*intensity;
#else
return vec3(0.0);
#endif
}`;class voe extends Ht{constructor(){super({type:"ReflectionsMaterial",uniforms:{inputTexture:new de(null),accumulatedTexture:new de(null),normalTexture:new de(null),depthTexture:new de(null),_projectionMatrix:new de(new ht),_inverseProjectionMatrix:new de(new ht),cameraMatrixWorld:new de(new ht),cameraNear:new de(0),cameraFar:new de(0),rayDistance:new de(0),intensity:new de(0),roughnessFade:new de(0),fade:new de(0),thickness:new de(0),ior:new de(0),maxDepthDifference:new de(0),jitter:new de(0),jitterRoughness:new de(0),maxRoughness:new de(0),samples:new de(0),envMap:new de(null),envMapPosition:new de(new K),envMapSize:new de(new K),viewMatrix:new de(new ht)},defines:{steps:20,refineSteps:5,CUBEUV_TEXEL_WIDTH:0,CUBEUV_TEXEL_HEIGHT:0,CUBEUV_MAX_MIP:0,vWorldPosition:"worldPos"},fragmentShader:goe.replace("#include <helperFunctions>",LL),vertexShader:moe,toneMapped:!1,depthWrite:!1,depthTest:!1})}}const FL=t=>{const e=[t],n=[];for(;e.length!==0;){const r=e.shift();r.material&&n.push(r);for(const i of r.children)i.visible&&e.push(i)}return n},yoe=t=>{const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}},MC=(t,e,n)=>{t.uniforms.envMap.value=e;const r=yoe({envMapCubeUVHeight:n});t.defines.ENVMAP_TYPE_CUBE_UV="",t.defines.CUBEUV_TEXEL_WIDTH=r.texelWidth,t.defines.CUBEUV_TEXEL_HEIGHT=r.texelHeight,t.defines.CUBEUV_MAX_MIP=r.maxMip+".0",t.needsUpdate=!0},xoe=()=>{try{const t=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&t.getContext("webgl2"))}catch{return!1}};class woe extends Rr{constructor(e,n={}){super("ReflectionsPass"),this.ssrEffect=void 0,this.cachedMaterials=new WeakMap,this.USE_MRT=!1,this.webgl1DepthPass=null,this.visibleMeshes=[],this.ssrEffect=e,this._scene=e._scene,this._camera=e._camera,this.fullscreenMaterial=new voe,e._camera.isPerspectiveCamera&&(this.fullscreenMaterial.defines.PERSPECTIVE_CAMERA="");const r=n.width||typeof window<"u"?window.innerWidth:2e3,i=n.height||typeof window<"u"?window.innerHeight:1e3;this.renderTarget=new $t(r,i,{minFilter:gt,magFilter:gt,type:Xn,depthBuffer:!1}),this.renderPass=new Hh(this._scene,this._camera),this.USE_MRT=xoe(),this.USE_MRT?(this.gBuffersRenderTarget=new t7(r,i,2,{minFilter:gt,magFilter:gt}),this.normalTexture=this.gBuffersRenderTarget.texture[0],this.depthTexture=this.gBuffersRenderTarget.texture[1]):(this.webgl1DepthPass=new fw(this._scene,this._camera),this.webgl1DepthPass.renderTarget.minFilter=gt,this.webgl1DepthPass.renderTarget.magFilter=gt,this.webgl1DepthPass.renderTarget.texture.minFilter=gt,this.webgl1DepthPass.renderTarget.texture.magFilter=gt,this.webgl1DepthPass.setSize(typeof window<"u"?window.innerWidth:2e3,typeof window<"u"?window.innerHeight:1e3),this.gBuffersRenderTarget=new $t(r,i,{minFilter:gt,magFilter:gt}),this.normalTexture=this.gBuffersRenderTarget.texture,this.depthTexture=this.webgl1DepthPass.texture),this.fullscreenMaterial.uniforms.normalTexture.value=this.normalTexture,this.fullscreenMaterial.uniforms.depthTexture.value=this.depthTexture,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.uniforms.cameraMatrixWorld.value=this._camera.matrixWorld,this.fullscreenMaterial.uniforms._projectionMatrix.value=this._camera.projectionMatrix,this.fullscreenMaterial.uniforms._inverseProjectionMatrix.value=this._camera.projectionMatrixInverse}setSize(e,n){this.renderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.gBuffersRenderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.needsUpdate=!0}dispose(){this.renderTarget.dispose(),this.gBuffersRenderTarget.dispose(),this.renderPass.dispose(),this.USE_MRT||this.webgl1DepthPass.dispose(),this.fullscreenMaterial.dispose(),this.normalTexture=null,this.depthTexture=null,this.velocityTexture=null}keepMaterialMapUpdated(e,n,r,i){this.ssrEffect[i]?n[r]!==e[r]&&(e[r]=n[r],e.uniforms[r].value=n[r],n[r]?e.defines[i]="":delete e.defines[i],e.needsUpdate=!0):e[r]!==void 0&&(e[r]=void 0,e.uniforms[r].value=void 0,delete e.defines[i],e.needsUpdate=!0)}setMRTMaterialInScene(){this.visibleMeshes=FL(this._scene);for(const e of this.visibleMeshes)if(e.material){const n=e.material;let[r,i]=this.cachedMaterials.get(e)||[];if(n!==r){i&&i.dispose(),i=new poe,this.USE_MRT&&(i.defines.USE_MRT=""),i.normalScale=n.normalScale,i.uniforms.normalScale.value=n.normalScale;const s=n.map||n.normalMap||n.roughnessMap||n.metalnessMap;s&&(i.uniforms.uvTransform.value=s.matrix),this.cachedMaterials.set(e,[n,i])}this.keepMaterialMapUpdated(i,n,"normalMap","useNormalMap"),this.keepMaterialMapUpdated(i,n,"roughnessMap","useRoughnessMap"),i.uniforms.roughness.value=this.ssrEffect.selection.size===0||this.ssrEffect.selection.has(e)?n.roughness||0:1e11,e.material=i}}unsetMRTMaterialInScene(){for(const n of this.visibleMeshes){var e;if(((e=n.material)==null?void 0:e.type)==="MRTMaterial"){n.visible=!0;const[r]=this.cachedMaterials.get(n);n.material=r}}}render(e,n){this.setMRTMaterialInScene(),e.setRenderTarget(this.gBuffersRenderTarget),this.renderPass.render(e,this.gBuffersRenderTarget),this.unsetMRTMaterialInScene(),this.USE_MRT||this.webgl1DepthPass.renderPass.render(e,this.webgl1DepthPass.renderTarget),this.fullscreenMaterial.uniforms.inputTexture.value=n.texture,this.fullscreenMaterial.uniforms.samples.value=this.ssrEffect.temporalResolvePass.samples,this.fullscreenMaterial.uniforms.cameraNear.value=this._camera.near,this.fullscreenMaterial.uniforms.cameraFar.value=this._camera.far,this.fullscreenMaterial.uniforms.viewMatrix.value.copy(this._camera.matrixWorldInverse),e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera)}}const AC={intensity:1,exponent:1,distance:10,fade:0,roughnessFade:1,thickness:10,ior:1.45,maxRoughness:1,maxDepthDifference:10,blend:.9,correction:1,correctionRadius:1,blur:.5,blurKernel:1,blurSharpness:10,jitter:0,jitterRoughness:0,steps:20,refineSteps:5,missedRays:!0,useNormalMap:!0,useRoughnessMap:!0,resolutionScale:1,velocityResolutionScale:1};var Soe=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,_oe=`#define GLSLIFY 1
uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D velocityTexture;uniform sampler2D lastVelocityTexture;uniform float blend;uniform float correction;uniform float exponent;uniform float samples;uniform vec2 invTexSize;uniform mat4 curInverseProjectionMatrix;uniform mat4 curCameraMatrixWorld;uniform mat4 prevInverseProjectionMatrix;uniform mat4 prevCameraMatrixWorld;varying vec2 vUv;
#define MAX_NEIGHBOR_DEPTH_DIFFERENCE 0.001
#define FLOAT_EPSILON 0.00001
#define FLOAT_ONE_MINUS_EPSILON 0.99999
vec3 transformexponent;vec3 undoColorTransformExponent;vec3 transformColor(vec3 color){if(exponent==1.0)return color;return pow(abs(color),transformexponent);}vec3 undoColorTransform(vec3 color){if(exponent==1.0)return color;return max(pow(abs(color),undoColorTransformExponent),vec3(0.0));}void main(){if(exponent!=1.0){transformexponent=vec3(1.0/exponent);undoColorTransformExponent=vec3(exponent);}vec4 inputTexel=textureLod(inputTexture,vUv,0.0);vec4 accumulatedTexel;vec3 inputColor=transformColor(inputTexel.rgb);vec3 accumulatedColor;float alpha=inputTexel.a;float velocityDisocclusion;bool didReproject=false;
#ifdef boxBlur
vec3 boxBlurredColor=inputTexel.rgb;
#endif
vec4 velocity=textureLod(velocityTexture,vUv,0.0);bool isMoving=alpha<1.0||dot(velocity.xy,velocity.xy)>0.0;if(isMoving){vec3 minNeighborColor=inputColor;vec3 maxNeighborColor=inputColor;vec3 col;vec2 neighborUv;vec2 reprojectedUv=vUv-velocity.xy;vec4 lastVelocity=textureLod(lastVelocityTexture,reprojectedUv,0.0);float depth=velocity.b;float closestDepth=depth;float lastClosestDepth=lastVelocity.b;float neighborDepth;float lastNeighborDepth;for(int x=-correctionRadius;x<=correctionRadius;x++){for(int y=-correctionRadius;y<=correctionRadius;y++){if(x!=0||y!=0){neighborUv=vUv+vec2(x,y)*invTexSize;vec4 neigborVelocity=textureLod(velocityTexture,neighborUv,0.0);neighborDepth=neigborVelocity.b;col=textureLod(inputTexture,neighborUv,0.0).xyz;int absX=abs(x);int absY=abs(y);
#ifdef dilation
if(absX==1&&absY==1){if(neighborDepth>closestDepth){velocity=neigborVelocity;closestDepth=neighborDepth;}vec4 lastNeighborVelocity=textureLod(velocityTexture,vUv+vec2(x,y)*invTexSize,0.0);lastNeighborDepth=lastNeighborVelocity.b;if(neighborDepth>closestDepth){lastVelocity=lastNeighborVelocity;lastClosestDepth=lastNeighborDepth;}}
#endif
if(abs(depth-neighborDepth)<MAX_NEIGHBOR_DEPTH_DIFFERENCE){
#ifdef boxBlur
if(absX<=2&&absY<=2)boxBlurredColor+=col;
#endif
col=transformColor(col);minNeighborColor=min(col,minNeighborColor);maxNeighborColor=max(col,maxNeighborColor);}}}}float velocityLength=length(lastVelocity.xy-velocity.xy);velocityDisocclusion=(velocityLength-0.000005)*10.0;velocityDisocclusion*=velocityDisocclusion;reprojectedUv=vUv-velocity.xy;
#ifdef boxBlur
float pxRadius=correctionRadius>5 ? 121.0 : pow(float(correctionRadius*2+1),2.0);boxBlurredColor/=pxRadius;boxBlurredColor=transformColor(boxBlurredColor);
#endif
if(reprojectedUv.x>=0.0&&reprojectedUv.x<=1.0&&reprojectedUv.y>=0.0&&reprojectedUv.y<=1.0){accumulatedTexel=textureLod(accumulatedTexture,reprojectedUv,0.0);accumulatedColor=transformColor(accumulatedTexel.rgb);vec3 clampedColor=clamp(accumulatedColor,minNeighborColor,maxNeighborColor);accumulatedColor=mix(accumulatedColor,clampedColor,correction);didReproject=true;}else{
#ifdef boxBlur
accumulatedColor=boxBlurredColor;
#else
accumulatedColor=inputColor;
#endif
}if(velocity.r>FLOAT_ONE_MINUS_EPSILON&&velocity.g>FLOAT_ONE_MINUS_EPSILON){alpha=0.0;velocityDisocclusion=1.0;}}else{accumulatedColor=transformColor(textureLod(accumulatedTexture,vUv,0.0).rgb);}vec3 outputColor=inputColor;
#include <custom_compose_shader>
gl_FragColor=vec4(undoColorTransform(outputColor),alpha);}`;class Moe extends Ht{constructor(e){const n=_oe.replace("#include <custom_compose_shader>",e);super({type:"TemporalResolveMaterial",uniforms:{inputTexture:new de(null),accumulatedTexture:new de(null),velocityTexture:new de(null),lastVelocityTexture:new de(null),samples:new de(1),blend:new de(.5),correction:new de(1),exponent:new de(1),invTexSize:new de(new ve)},defines:{correctionRadius:1},vertexShader:Soe,fragmentShader:n})}}const Aoe=`
    #ifdef USE_SKINNING
      #ifdef BONE_TEXTURE
        uniform sampler2D prevBoneTexture;
        mat4 getPrevBoneMatrix( const in float i ) {
          float j = i * 4.0;
          float x = mod( j, float( boneTextureSize ) );
          float y = floor( j / float( boneTextureSize ) );
          float dx = 1.0 / float( boneTextureSize );
          float dy = 1.0 / float( boneTextureSize );
          y = dy * ( y + 0.5 );
          vec4 v1 = texture2D( prevBoneTexture, vec2( dx * ( x + 0.5 ), y ) );
          vec4 v2 = texture2D( prevBoneTexture, vec2( dx * ( x + 1.5 ), y ) );
          vec4 v3 = texture2D( prevBoneTexture, vec2( dx * ( x + 2.5 ), y ) );
          vec4 v4 = texture2D( prevBoneTexture, vec2( dx * ( x + 3.5 ), y ) );
          mat4 bone = mat4( v1, v2, v3, v4 );
          return bone;
        }
      #else
        uniform mat4 prevBoneMatrices[ MAX_BONES ];
        mat4 getPrevBoneMatrix( const in float i ) {
          mat4 bone = prevBoneMatrices[ int(i) ];
          return bone;
        }
      #endif
    #endif
`,Eoe=`
    vec3 transformed;

    // Get the normal
    ${bt.skinbase_vertex}
    ${bt.beginnormal_vertex}
    ${bt.skinnormal_vertex}
    ${bt.defaultnormal_vertex}

    // Get the current vertex position
    transformed = vec3( position );
    ${bt.skinning_vertex}
    newPosition = velocityMatrix * vec4( transformed, 1.0 );

    // Get the previous vertex position
    transformed = vec3( position );
    ${bt.skinbase_vertex.replace(/mat4 /g,"").replace(/getBoneMatrix/g,"getPrevBoneMatrix")}
    ${bt.skinning_vertex.replace(/vec4 /g,"")}
    prevPosition = prevVelocityMatrix * vec4( transformed, 1.0 );

    gl_Position = newPosition;
`;class Toe extends Ht{constructor(){super({uniforms:{prevVelocityMatrix:{value:new ht},velocityMatrix:{value:new ht},prevBoneTexture:{value:null},interpolateGeometry:{value:0},intensity:{value:1},boneTexture:{value:null},alphaTest:{value:0},map:{value:null},alphaMap:{value:null},opacity:{value:1}},vertexShader:`
                    #define MAX_BONES 1024

                    ${bt.skinning_pars_vertex}
                    ${Aoe}

                    uniform mat4 velocityMatrix;
                    uniform mat4 prevVelocityMatrix;
                    uniform float interpolateGeometry;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {

                        ${Eoe}

            vHighPrecisionZW = gl_Position.zw;

                    }`,fragmentShader:`
                    uniform float intensity;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {
            #ifdef FULL_MOVEMENT
            gl_FragColor = vec4( 1., 1., 1. - gl_FragCoord.z, 0. );
            return;
            #endif

                        vec2 pos0 = (prevPosition.xy / prevPosition.w) * 0.5 + 0.5;
                        vec2 pos1 = (newPosition.xy / newPosition.w) * 0.5 + 0.5;

                        vec2 vel = pos1 - pos0;

            float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;

                        gl_FragColor = vec4( vel, 1. - fragCoordZ, 0. );

                    }`}),this.isVelocityMaterial=!0}}const Coe=new et(0),boe=["visible","wireframe","side"];class Poe extends Rr{constructor(e,n){var r,i;super("VelocityPass"),this.cachedMaterials=new WeakMap,this.lastCameraTransform={position:new K,quaternion:new or},this.visibleMeshes=[],this.renderedMeshesThisFrame=0,this.renderedMeshesLastFrame=0,this._scene=e,this._camera=n,this.renderTarget=new $t(((r=window)==null?void 0:r.innerWidth)||1e3,((i=window)==null?void 0:i.innerHeight)||1e3,{type:Xn})}setVelocityMaterialInScene(){this.renderedMeshesThisFrame=0,this.visibleMeshes=FL(this._scene);for(const r of this.visibleMeshes){var e;const i=r.material;let[s,o]=this.cachedMaterials.get(r)||[];if(i!==s){var n;o=new Toe,o.lastMatrixWorld=new ht,r.material=o,(n=r.skeleton)!=null&&n.boneTexture&&this.saveBoneTexture(r),this.cachedMaterials.set(r,[i,o])}if(o.uniforms.velocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,r.modelViewMatrix),r.userData.needsUpdatedReflections||i.map instanceof yB?("FULL_MOVEMENT"in o.defines||(o.needsUpdate=!0),o.defines.FULL_MOVEMENT=""):"FULL_MOVEMENT"in o.defines&&(delete o.defines.FULL_MOVEMENT,o.needsUpdate=!0),r.visible=this.cameraMovedThisFrame||!r.matrixWorld.equals(o.lastMatrixWorld)||r.skeleton||"FULL_MOVEMENT"in o.defines,r.material=o,!!r.visible){this.renderedMeshesThisFrame++;for(const a of boe)o[a]=i[a];(e=r.skeleton)!=null&&e.boneTexture&&(o.defines.USE_SKINNING="",o.defines.BONE_TEXTURE="",o.uniforms.boneTexture.value=r.skeleton.boneTexture)}}}saveBoneTexture(e){let n=e.material.uniforms.prevBoneTexture.value;if(n&&n.image.width===e.skeleton.boneTexture.width)n=e.material.uniforms.prevBoneTexture.value,n.image.data.set(e.skeleton.boneTexture.image.data);else{var r;(r=n)==null||r.dispose();const i=e.skeleton.boneTexture.image.data.slice(),s=e.skeleton.boneTexture.image.width;n=new qo(i,s,s,zn,Pn),e.material.uniforms.prevBoneTexture.value=n,n.needsUpdate=!0}}unsetVelocityMaterialInScene(){for(const n of this.visibleMeshes)if(n.material.isVelocityMaterial){var e;n.visible=!0,n.material.lastMatrixWorld.copy(n.matrixWorld),n.material.uniforms.prevVelocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,n.modelViewMatrix),(e=n.skeleton)!=null&&e.boneTexture&&this.saveBoneTexture(n),n.material=this.cachedMaterials.get(n)[0]}}setSize(e,n){this.renderTarget.setSize(e,n)}renderVelocity(e){if(e.setRenderTarget(this.renderTarget),this.renderedMeshesThisFrame>0){const{background:n}=this._scene;this._scene.background=Coe,e.render(this._scene,this._camera),this._scene.background=n}else e.clearColor()}checkCameraMoved(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));return e>1e-6||n>1e-6?(this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion),!0):!1}render(e){this.cameraMovedThisFrame=this.checkCameraMoved(),this.setVelocityMaterialInScene(),(this.renderedMeshesThisFrame>0||this.renderedMeshesLastFrame>0)&&this.renderVelocity(e),this.unsetVelocityMaterialInScene(),this.renderedMeshesLastFrame=this.renderedMeshesThisFrame}}const EC=new ve;class Roe extends Rr{constructor(e,n,r,i={}){super("TemporalResolvePass"),this.velocityPass=null,this.velocityResolutionScale=1,this.samples=1,this.lastCameraTransform={position:new K,quaternion:new or},this._scene=e,this._camera=n,this.renderTarget=new $t(1,1,{minFilter:gt,magFilter:gt,type:Xn,depthBuffer:!1}),this.velocityPass=new Poe(e,n),this.fullscreenMaterial=new Moe(r),this.fullscreenMaterial.defines.correctionRadius=i.correctionRadius||1,i.dilation&&(this.fullscreenMaterial.defines.dilation=""),i.boxBlur&&(this.fullscreenMaterial.defines.boxBlur=""),this.setupFramebuffers(1,1),this.checkCanUseSharedVelocityTexture()}dispose(){this._scene.userData.velocityTexture===this.velocityPass.renderTarget.texture&&(delete this._scene.userData.velocityTexture,delete this._scene.userData.lastVelocityTexture),this.renderTarget.dispose(),this.accumulatedTexture.dispose(),this.fullscreenMaterial.dispose(),this.velocityPass.dispose()}setSize(e,n){this.renderTarget.setSize(e,n),this.velocityPass.setSize(e*this.velocityResolutionScale,n*this.velocityResolutionScale),this.velocityPass.renderTarget.texture.minFilter=this.velocityResolutionScale===1?Nt:gt,this.velocityPass.renderTarget.texture.magFilter=this.velocityResolutionScale===1?Nt:gt,this.velocityPass.renderTarget.texture.needsUpdate=!0,this.fullscreenMaterial.uniforms.invTexSize.value.set(1/e,1/n),this.setupFramebuffers(e,n)}setupFramebuffers(e,n){this.accumulatedTexture&&this.accumulatedTexture.dispose(),this.lastVelocityTexture&&this.lastVelocityTexture.dispose(),this.accumulatedTexture=new Fy(e,n,zn),this.accumulatedTexture.minFilter=gt,this.accumulatedTexture.magFilter=gt,this.accumulatedTexture.type=Xn,this.lastVelocityTexture=new Fy(e*this.velocityResolutionScale,n*this.velocityResolutionScale,zn),this.lastVelocityTexture.minFilter=this.velocityResolutionScale===1?Nt:gt,this.lastVelocityTexture.magFilter=this.velocityResolutionScale===1?Nt:gt,this.lastVelocityTexture.type=Xn,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.accumulatedTexture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0}checkCanUseSharedVelocityTexture(){return this._scene.userData.velocityTexture&&this.velocityPass.renderTarget.texture!==this._scene.userData.velocityTexture?this.velocityPass.renderTarget.texture===this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this._scene.userData.lastVelocityTexture,this.fullscreenMaterial.uniforms.velocityTexture.value=this._scene.userData.velocityTexture,this.fullscreenMaterial.needsUpdate=!0):this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.velocityTexture.value=this.velocityPass.renderTarget.texture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0,this._scene.userData.velocityTexture||(this._scene.userData.velocityTexture=this.velocityPass.renderTarget.texture,this._scene.userData.lastVelocityTexture=this.lastVelocityTexture)),this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value}checkNeedsResample(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));(e>1e-6||n>1e-6)&&(this.samples=1,this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion))}render(e){this.samples++,this.checkNeedsResample(),this.fullscreenMaterial.uniforms.samples.value=this.samples,e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera),e.copyFramebufferToTexture(EC,this.accumulatedTexture),e.setRenderTarget(this.velocityPass.renderTarget),e.copyFramebufferToTexture(EC,this.lastVelocityTexture)}}const TC=function(e,n){let r=1,i=0;for(;e>0;)r/=n,i+=r*(e%n),e=~~(e/n);return i},Doe=t=>{const e=[];let n=1;const r=n+t;for(;n<r;n++)e.push([TC(n,2)-.5,TC(n,3)-.5]);return e};function CC(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Boe=`
#if defined( USE_ENVMAP ) || defined(  ) || defined ( USE_SHADOWMAP )
    vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );

    #ifdef BOX_PROJECTED_ENV_MAP
        vWorldPosition = worldPosition.xyz;
    #endif
#endif
`,Ioe=`
#ifdef BOX_PROJECTED_ENV_MAP
    uniform vec3 envMapSize;
    uniform vec3 envMapPosition;
    varying vec3 vWorldPosition;

    vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {
        vec3 nDir = normalize( v );

        vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;
        vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;

        vec3 rbminmax;

        rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;
        rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;
        rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;

        float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );
        vec3 boxIntersection = vWorldPosition + nDir * correction;

        return boxIntersection - cubePos;
    }
#endif
`,Loe=`
#ifdef BOX_PROJECTED_ENV_MAP
    worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );
#endif
`,Foe=`
#ifdef BOX_PROJECTED_ENV_MAP
    reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );
#endif
`;function koe(t,e,n){t.defines.BOX_PROJECTED_ENV_MAP="",t.uniforms.envMapPosition={value:e},t.uniforms.envMapSize={value:n};const r=new RegExp(CC("vec3 worldNormal = inverseTransformDirection ( normal , viewMatrix ) ;").replaceAll(" ","\\s*"),"g"),i=new RegExp(CC("reflectVec = inverseTransformDirection ( reflectVec , viewMatrix ) ;").replaceAll(" ","\\s*"),"g");t.vertexShader=`varying vec3 vWorldPosition;
`+t.vertexShader.replace("#include <worldpos_vertex>",Boe),t.fragmentShader=Ioe+`
`+t.fragmentShader.replace("#include <envmap_physical_pars_fragment>",bt.envmap_physical_pars_fragment).replace(r,`vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
                ${Loe}`).replace(i,`reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
                ${Foe}`)}const Uoe=hoe.replace("#include <helperFunctions>",LL).replace("#include <boxBlur>",foe),Noe=["blur","blurSharpness","blurKernel"],Ooe=new N0(1);let Lm;class zoe extends wi{constructor(e,n,r=AC){super("SSREffect",Uoe,{type:"FinalSSRMaterial",uniforms:new Map([["reflectionsTexture",new de(null)],["blur",new de(0)],["blurSharpness",new de(0)],["blurKernel",new de(0)]]),defines:new Map([["RENDER_MODE","0"]])}),this.haltonSequence=Doe(1024),this.haltonIndex=0,this.selection=new hw,this.lastSize=void 0,this.cubeCamera=new i7(.001,1e3,Ooe),this.usingBoxProjectedEnvMap=!1,this._scene=e,this._camera=n,r={...AC,...r,...{boxBlur:!0,dilation:!0}},this.temporalResolvePass=new Roe(e,n,doe,r),this.uniforms.get("reflectionsTexture").value=this.temporalResolvePass.renderTarget.texture,this.reflectionsPass=new woe(this,r),this.temporalResolvePass.fullscreenMaterial.uniforms.inputTexture.value=this.reflectionsPass.renderTarget.texture,this.lastSize={width:r.width,height:r.height,resolutionScale:r.resolutionScale,velocityResolutionScale:r.velocityResolutionScale},this.setSize(r.width,r.height),this.makeOptionsReactive(r)}makeOptionsReactive(e){let n=!1;const r=this.reflectionsPass.fullscreenMaterial.uniforms,i=Object.keys(r);for(const s of Object.keys(e))Object.defineProperty(this,s,{get(){return e[s]},set(o){if(!(e[s]===o&&n))switch(e[s]=o,Noe.includes(s)||this.setSize(this.lastSize.width,this.lastSize.height,!0),s){case"resolutionScale":this.setSize(this.lastSize.width,this.lastSize.height);break;case"velocityResolutionScale":this.temporalResolvePass.velocityResolutionScale=o,this.setSize(this.lastSize.width,this.lastSize.height,!0);break;case"blur":this.uniforms.get("blur").value=o;break;case"blurSharpness":this.uniforms.get("blurSharpness").value=o;break;case"blurKernel":this.uniforms.get("blurKernel").value=o;break;case"steps":this.reflectionsPass.fullscreenMaterial.defines.steps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"refineSteps":this.reflectionsPass.fullscreenMaterial.defines.refineSteps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"missedRays":o?this.reflectionsPass.fullscreenMaterial.defines.missedRays="":delete this.reflectionsPass.fullscreenMaterial.defines.missedRays,this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"correctionRadius":this.temporalResolvePass.fullscreenMaterial.defines.correctionRadius=Math.round(o),this.temporalResolvePass.fullscreenMaterial.needsUpdate=n;break;case"blend":this.temporalResolvePass.fullscreenMaterial.uniforms.blend.value=o;break;case"correction":this.temporalResolvePass.fullscreenMaterial.uniforms.correction.value=o;break;case"exponent":this.temporalResolvePass.fullscreenMaterial.uniforms.exponent.value=o;break;case"distance":r.rayDistance.value=o;default:i.includes(s)&&(r[s].value=o)}}}),this[s]=e[s];n=!0}setSize(e,n,r=!1){!r&&e===this.lastSize.width&&n===this.lastSize.height&&this.resolutionScale===this.lastSize.resolutionScale&&this.velocityResolutionScale===this.lastSize.velocityResolutionScale||(this.temporalResolvePass.setSize(e,n),this.reflectionsPass.setSize(e,n),this.lastSize={width:e,height:n,resolutionScale:this.resolutionScale,velocityResolutionScale:this.velocityResolutionScale})}generateBoxProjectedEnvMapFallback(e,n=new K,r=new K,i=512){this.cubeCamera.renderTarget.dispose(),this.cubeCamera.renderTarget=new N0(i),this.cubeCamera.position.copy(n),this.cubeCamera.updateMatrixWorld(),this.cubeCamera.update(e,this._scene),Lm||(Lm=new xg(e),Lm.compileCubemapShader());const s=Lm.fromCubemap(this.cubeCamera.renderTarget.texture).texture;s.minFilter=gt,s.magFilter=gt;const o=this.reflectionsPass.fullscreenMaterial;return koe(o,n,r),o.fragmentShader=o.fragmentShader.replace("vec3 worldPos","worldPos").replace("varying vec3 vWorldPosition;","vec3 worldPos;"),o.uniforms.envMapPosition.value.copy(n),o.uniforms.envMapSize.value.copy(r),MC(o,s,i),this.usingBoxProjectedEnvMap=!0,s}setIBLRadiance(e,n){this._scene.traverse(r=>{if(r.material){var i;const s=(i=n.properties.get(r.material))==null?void 0:i.uniforms;s&&"disableIBLRadiance"in s&&(s.disableIBLRadiance.value=e)}})}deleteBoxProjectedEnvMapFallback(){const e=this.reflectionsPass.fullscreenMaterial;e.uniforms.envMap.value=null,e.fragmentShader=e.fragmentShader.replace("worldPos = ","vec3 worldPos = "),delete e.defines.BOX_PROJECTED_ENV_MAP,e.needsUpdate=!0,this.usingBoxProjectedEnvMap=!1}dispose(){super.dispose(),this.reflectionsPass.dispose(),this.temporalResolvePass.dispose()}update(e,n){if(!this.usingBoxProjectedEnvMap&&this._scene.environment){const a=this.reflectionsPass.fullscreenMaterial;let l=null;if(this._scene.traverse(u=>{if(!l&&u.material&&!u.material.envMap){const c=e.properties.get(u.material);"envMap"in c&&c.envMap instanceof bn&&(l=c.envMap)}}),l){const u=this._scene.environment.image.height;MC(a,l,u)}}this.haltonIndex=(this.haltonIndex+1)%this.haltonSequence.length;const[r,i]=this.haltonSequence[this.haltonIndex],{width:s,height:o}=this.lastSize;this.temporalResolvePass.velocityPass.render(e),this._camera.setViewOffset&&this._camera.setViewOffset(s,o,r,i,s,o),this.reflectionsPass.render(e,n),this.temporalResolvePass.render(e),this._camera.clearViewOffset()}static patchDirectEnvIntensity(e=0){e===0?bt.envmap_physical_pars_fragment=bt.envmap_physical_pars_fragment.replace("vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {","vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) { return vec3(0.0);"):bt.envmap_physical_pars_fragment=bt.envmap_physical_pars_fragment.replace("vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );","vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness ) * "+e.toFixed(5)+";")}}H.forwardRef(function({ENABLE_BLUR:e=!0,USE_MRT:n=!0,...r},i){const{invalidate:s}=en(),{scene:o,camera:a}=H.useContext(qa),l=H.useMemo(()=>new zoe(o,a,{ENABLE_BLUR:e,USE_MRT:n,...r}),[o,a,e,n,r]),u=H.useContext(dw);return H.useEffect(()=>{var c;if(u&&u.enabled&&(c=u.selected)!=null&&c.length)return l.selection.set(u.selected),s(),()=>{l.selection.clear(),s()}},[u]),Ne("primitive",{ref:i,object:l,...r})});const c3=new Vt;c3.setAttribute("position",new ln(new Float32Array([-1,-1,3,-1,-1,3]),2));c3.setAttribute("uv",new ln(new Float32Array([0,0,2,0,0,2]),2));c3.boundingSphere=new Cs;c3.computeBoundingSphere=function(){};const Goe=new xo;class jd{constructor(e){this._mesh=new Un(c3,e),this._mesh.frustumCulled=!1}render(e){e.render(this._mesh,Goe)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}dispose(){this._mesh.material.dispose(),this._mesh.geometry.dispose()}}const Hoe={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},sceneNormal:{value:null},projMat:{value:new ht},viewMat:{value:new ht},projViewMat:{value:new ht},projectionMatrixInv:{value:new ht},viewMatrixInv:{value:new ht},cameraPos:{value:new K},resolution:{value:new ve},time:{value:0},samples:{value:[]},samplesR:{value:[]},bluenoise:{value:null},distanceFalloff:{value:1},radius:{value:5},near:{value:.1},far:{value:1e3},logDepth:{value:!1},ortho:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 1);
}`,fragmentShader:`
    #define SAMPLES 16
    #define FSAMPLES 16.0
uniform sampler2D sceneDiffuse;
uniform highp sampler2D sceneNormal;
uniform highp sampler2D sceneDepth;
uniform mat4 projectionMatrixInv;
uniform mat4 viewMatrixInv;
uniform mat4 projMat;
uniform mat4 viewMat;
uniform mat4 projViewMat;
uniform vec3 cameraPos;
uniform vec2 resolution;
uniform float time;
uniform vec3[SAMPLES] samples;
uniform float[SAMPLES] samplesR;
uniform float radius;
uniform float distanceFalloff;
uniform float near;
uniform float far;
uniform bool logDepth;
uniform bool ortho;
uniform bool screenSpaceRadius;
uniform sampler2D bluenoise;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }

    vec3 getWorldPosLog(vec3 posS) {
      vec2 uv = posS.xy;
      float z = posS.z;
      float nearZ =near;
      float farZ = far;
      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
      vec4 wpos = projectionMatrixInv * clipVec;
      return wpos.xyz / wpos.w;
    }
    vec3 getWorldPos(float depth, vec2 coord) {
      #ifdef LOGDEPTH
        return getWorldPosLog(vec3(coord, depth));
      #endif
      float z = depth * 2.0 - 1.0;
      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
      // Perspective division
     vec4 worldSpacePosition = viewSpacePosition;
     worldSpacePosition.xyz /= worldSpacePosition.w;
      return worldSpacePosition.xyz;
  }

  vec3 computeNormal(vec3 worldPos, vec2 vUv) {
    ivec2 p = ivec2(vUv * resolution);
    float c0 = texelFetch(sceneDepth, p, 0).x;
    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;

    float dl = abs((2.0 * l1 - l2) - c0);
    float dr = abs((2.0 * r1 - r2) - c0);
    float db = abs((2.0 * b1 - b2) - c0);
    float dt = abs((2.0 * t1 - t2) - c0);

    vec3 ce = getWorldPos(c0, vUv).xyz;

    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;

    return normalize(cross(dpdx, dpdy));
}

void main() {
      vec4 diffuse = texture2D(sceneDiffuse, vUv);
      float depth = texture2D(sceneDepth, vUv).x;
      if (depth == 1.0) {
        gl_FragColor = vec4(vec3(1.0), 1.0);
        return;
      }
      vec3 worldPos = getWorldPos(depth, vUv);
    //  vec3 normal = texture2D(sceneNormal, vUv).rgb;//computeNormal(worldPos, vUv);
      #ifdef HALFRES
        vec3 normal = texture2D(sceneNormal, vUv).rgb;
      #else
        vec3 normal = computeNormal(worldPos, vUv);
      #endif
      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);
      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);
      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));
      vec3 bitangent = cross(normal, tangent);
      mat3 tbn = mat3(tangent, bitangent, normal);
      float occluded = 0.0;
      float totalWeight = 0.0;
     /* float radiusScreen = distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(48.0, 0.0) / resolution)
      );/*vUv.x < 0.5 ? radius : min(distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(100.0, 0.0) / resolution)
      ), radius);
      float distanceFalloffScreen = radiusScreen * 0.2;*/
      float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;
      for(float i = 0.0; i < FSAMPLES; i++) {
        vec3 sampleDirection = 
        tbn * 
        samples[int(i)];
        ;
        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];
        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;
        vec4 offset = projMat * vec4(samplePos, 1.0);
        offset.xyz /= offset.w;
        offset.xyz = offset.xyz * 0.5 + 0.5;
        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;
        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) 
         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/
        #ifdef LOGDEPTH
        float distSample = linearize_depth_log(sampleDepth, near, far);
        #else
        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);
        #endif
        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);
        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));
        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);
        float weight = dot(sampleDirection, normal);
          occluded += rangeCheck * weight * 
            (distSample + bias
               < distWorld ? 1.0 : 0.0) * (
          (dot(
            diff,
            diff
             
            ) < 1.0 || (sampleDepth == depth) || (
              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0
            ) ? 0.0 : 1.0)
          );
          totalWeight += weight;
      }
      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);
      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);
}`},Voe={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new ht},viewMat:{value:new ht},projectionMatrixInv:{value:new ht},viewMatrixInv:{value:new ht},cameraPos:{value:new K},resolution:{value:new ve},color:{value:new K(0,0,0)},blueNoise:{value:null},downsampledDepth:{value:null},time:{value:0},intensity:{value:10},renderMode:{value:0},gammaCorrection:{value:!1},logDepth:{value:!1},ortho:{value:!1},near:{value:.1},far:{value:1e3},screenSpaceRadius:{value:!1},radius:{value:0},distanceFalloff:{value:1},fog:{value:!1},fogExp:{value:!1},fogDensity:{value:0},fogNear:{value:1/0},fogFar:{value:1/0},colorMultiply:{value:!0}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform highp sampler2D downsampledDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform vec2 resolution;
    uniform vec3 color;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform float intensity;
    uniform float renderMode;
    uniform float near;
    uniform float far;
    uniform bool gammaCorrection;
    uniform bool logDepth;
    uniform bool ortho;
    uniform bool screenSpaceRadius;
    uniform bool fog;
    uniform bool fogExp;
    uniform bool colorMultiply;
    uniform float fogDensity;
    uniform float fogNear;
    uniform float fogFar;
    uniform float radius;
    uniform float distanceFalloff;
    uniform vec3 cameraPos;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
       // if (logDepth) {
        #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
        #endif
      //  }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }

    #include <common>
    #include <dithering_pars_fragment>
    void main() {
        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);
        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);
        float depth = texture2D(
            sceneDepth,
            vUv
        ).x;
        #ifdef HALFRES 
        vec4 texel;
        if (depth == 1.0) {
            texel = vec4(0.0, 0.0, 0.0, 1.0);
        } else {
        vec3 worldPos = getWorldPos(depth, vUv);
        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);
       // vec4 texel = texture2D(tDiffuse, vUv);
       // Find closest depth;
       float totalWeight = 0.0;
       float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
        for(float x = -1.0; x <= 1.0; x++) {
            for(float y = -1.0; y <= 1.0; y++) {
                vec2 offset = vec2(x, y);
                ivec2 p = ivec2(
                    (vUv * resolution * 0.5) + offset
                );
                vec2 pUv = vec2(p) / (resolution * 0.5);
                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;
                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);
                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;
                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);
                float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);
                float weight = rangeCheck;
                totalWeight += weight;
                texel += sampleInfo * weight;
            }
        }
        if (totalWeight == 0.0) {
            texel = texture2D(tDiffuse, vUv);
        } else {
            texel /= totalWeight;
        }
    }
        #else
        vec4 texel = texture2D(tDiffuse, vUv);
        #endif

     
        float finalAo = pow(texel.a, intensity);
        float fogFactor;
        float fogDepth = distance(
            cameraPos,
            getWorldPos(depth, vUv)
        );
        if (fog) {
            if (fogExp) {
                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
            } else {
                fogFactor = smoothstep( fogNear, fogFar, fogDepth );
            }
        }
        finalAo = mix(finalAo, 1.0, fogFactor);
        vec3 aoApplied = color * mix(vec3(1.0), sceneTexel.rgb, float(colorMultiply));
        if (renderMode == 0.0) {
            gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 1.0) {
            gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 2.0) {
            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
        } else if (renderMode == 3.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        } else if (renderMode == 4.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        }
        #include <dithering_fragment>
        if (gammaCorrection) {
            gl_FragColor = LinearTosRGB(gl_FragColor);
        }
    }
    `},Woe={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new ht},viewMat:{value:new ht},projectionMatrixInv:{value:new ht},viewMatrixInv:{value:new ht},cameraPos:{value:new K},resolution:{value:new ve},time:{value:0},r:{value:5},blueNoise:{value:null},radius:{value:12},worldRadius:{value:5},index:{value:0},poissonDisk:{value:[]},distanceFalloff:{value:1},near:{value:.1},far:{value:1e3},logDepth:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1.0);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform vec2 resolution;
    uniform float r;
    uniform float radius;
     uniform float worldRadius;
    uniform float index;
     uniform float near;
     uniform float far;
     uniform float distanceFalloff;
     uniform bool logDepth;
     uniform bool screenSpaceRadius;
    varying vec2 vUv;

    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        highp float z_n = 2.0 * d - 1.0;
        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     return linearize_depth(linDepth, nearZ, farZ);
   }
   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
     return nearZ + (farZ - nearZ) * d;
   }
   vec3 getWorldPosLog(vec3 posS) {
     vec2 uv = posS.xy;
     float z = posS.z;
     float nearZ =near;
     float farZ = far;
     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
     vec4 wpos = projectionMatrixInv * clipVec;
     return wpos.xyz / wpos.w;
   }
    vec3 getWorldPos(float depth, vec2 coord) {
     #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
     #endif
        
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
    #include <common>
    #define NUM_SAMPLES 16
    uniform vec2 poissonDisk[NUM_SAMPLES];
    void main() {
        const float pi = 3.14159;
        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);
        vec2 uv = vUv;
        vec4 data = texture2D(tDiffuse, vUv);
        float occlusion = data.a;
        float baseOcc = data.a;
        vec3 normal = data.rgb * 2.0 - 1.0;
        float count = 1.0;
        float d = texture2D(sceneDepth, vUv).x;
        if (d == 1.0) {
          gl_FragColor = data;
          return;
        }
        vec3 worldPos = getWorldPos(d, vUv);
        float size = radius;
        float angle;
        if (index == 0.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;
        } else if (index == 1.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;
        } else if (index == 2.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;
        } else {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;
        }

        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));
        float radiusToUse = screenSpaceRadius ? distance(
          worldPos,
          getWorldPos(d, vUv +
            vec2(worldRadius, 0.0) / resolution)
        ) : worldRadius;
        float distanceFalloffToUse =screenSpaceRadius ?
            radiusToUse * distanceFalloff
        : distanceFalloff;


        for(int i = 0; i < NUM_SAMPLES; i++) {
            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;
            vec4 dataSample = texture2D(tDiffuse, uv + offset);
            float occSample = dataSample.a;
            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;
            float dSample = texture2D(sceneDepth, uv + offset).x;
            vec3 worldPosSample = getWorldPos(dSample, uv + offset);
            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
            float rangeCheck = dSample == 1.0 ? 0.0 :exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));
            occlusion += occSample * rangeCheck;
            count += rangeCheck;
        }
        occlusion /= count;
        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);
    }
    `},joe={uniforms:{sceneDepth:{value:null},resolution:{value:new ve},near:{value:.1},far:{value:1e3},viewMatrixInv:{value:new ht},projectionMatrixInv:{value:new ht},logDepth:{value:!1}},vertexShader:`
    varying vec2 vUv;
    void main() {
        vUv = uv;
        gl_Position = vec4(position, 1);
    }`,fragmentShader:`
    uniform highp sampler2D sceneDepth;
    uniform vec2 resolution;
    uniform float near;
    uniform float far;
    uniform bool logDepth;
    uniform mat4 viewMatrixInv;
    uniform mat4 projectionMatrixInv;
    varying vec2 vUv;
    layout(location = 1) out vec4 gNormal;
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
        if (logDepth) {
          return getWorldPosLog(vec3(coord, depth));
        }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }
    void main() {
        vec2 uv = vUv - vec2(0.5) / resolution;
        vec2 pixelSize = vec2(1.0) / resolution;
        vec2[] uvSamples = vec2[4](
            uv,
            uv + vec2(pixelSize.x, 0.0),
            uv + vec2(0.0, pixelSize.y),
            uv + pixelSize
        );
        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;
        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;
        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;
        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;
        float minDepth = min(min(depth00, depth10), min(depth01, depth11));
        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));
        float targetDepth = minDepth;
        // Checkerboard pattern to avoid artifacts
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { 
            targetDepth = maxDepth;
        }
        int chosenIndex = 0;
        float[] samples = float[4](depth00, depth10, depth01, depth11);
        for(int i = 0; i < 4; ++i) {
            if (samples[i] == targetDepth) {
                chosenIndex = i;
                break;
            }
        }
        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]
        ), 0.0);
       /* float[] samples = float[4](depth00, depth10, depth01, depth11);
        float c = 0.25 * (depth00 + depth10 + depth01 + depth11);
        float[] distances = float[4](depth00, depth10, depth01, depth11);
        float maxDistance = max(max(distances[0], distances[1]), max(distances[2], distances[3]));

        int remaining[3];
        int rejected[3];
        int i, j, k;

        for(i = 0, j = 0, k = 0; i < 4; ++i) {
            if (distances[i] < maxDistance) {
                remaining[j++] = i;
            } else {
                rejected[k++] = i;
            }
        }
        for(;j < 3;++j) {
            remaining[j] = rejected[--k];
        }
        vec3 s = vec3(
            samples[remaining[0]],
            samples[remaining[1]],
            samples[remaining[2]]
        );
        c = (s.x + s.y + s.z) / 3.0;

        distances[0] = abs(c - s.x);
        distances[1] = abs(c - s.y);
        distances[2] = abs(c - s.z);

        float minDistance = min(min(distances[0], distances[1]), distances[2]);

        for(i = 0; i < 3; ++i) {
            if (distances[i] == minDistance) {
                break;
            }
        }*/
      /*  gl_FragColor = vec4(samples[remaining[i]], 0.0, 0.0, 0.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[remaining[i]], uvSamples[remaining[i]]), uvSamples[remaining[i]]
        ), 0.0);*/
    }`};var kL="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";const Xoe=Uint8Array.from(atob(kL),t=>t.charCodeAt(0));function UL(t,e,n){if(e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)){const s=e.getQueryParameter(t,e.QUERY_RESULT)/1e6;n.lastTime=s}else setTimeout(()=>{UL(t,e,n)},1)}class Joe extends Rr{constructor(e,n,r=512,i=512){super(),this.width=r,this.height=i,this.clear=!0,this.camera=n,this.scene=e,this.autosetGamma=!0,this.configuration=new Proxy({aoSamples:16,aoRadius:5,denoiseSamples:8,denoiseRadius:12,distanceFalloff:1,intensity:5,denoiseIterations:2,renderMode:0,color:new et(0,0,0),gammaCorrection:!0,logarithmicDepthBuffer:!1,screenSpaceRadius:!1,halfRes:!1,depthAwareUpsampling:!0,colorMultiply:!0},{set:(s,o,a)=>{const l=s[o];return s[o]=a,o==="aoSamples"&&l!==a&&this.configureAOPass(this.configuration.logarithmicDepthBuffer),o==="denoiseSamples"&&l!==a&&this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),o==="halfRes"&&l!==a&&(this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureHalfResTargets(),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.setSize(this.width,this.height)),o==="depthAwareUpsampling"&&l!==a&&this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),o==="gammaCorrection"&&(this.autosetGamma=!1),!0}}),this.samples=[],this.samplesR=[],this.samplesDenoise=[],this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.configureSampleDependentPasses(),this.configureHalfResTargets(),this.copyQuad=new jd(new Ht({uniforms:{tDiffuse:{value:null}},depthWrite:!1,vertexShader:`
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = vec4(position, 1);
            }
            `,fragmentShader:`
            uniform sampler2D tDiffuse;
            varying vec2 vUv;
            void main() {
                gl_FragColor = texture2D(tDiffuse, vUv);
            }
            `})),this.writeTargetInternal=new $t(this.width,this.height,{minFilter:gt,magFilter:gt,depthBuffer:!1}),this.readTargetInternal=new $t(this.width,this.height,{minFilter:gt,magFilter:gt,depthBuffer:!1}),this.outputTargetInternal=new $t(this.width,this.height,{minFilter:gt,magFilter:gt,depthBuffer:!1}),this.bluenoise=new qo(Xoe,128,128),this.bluenoise.colorSpace=eB,this.bluenoise.wrapS=xi,this.bluenoise.wrapT=xi,this.bluenoise.minFilter=Nt,this.bluenoise.magFilter=Nt,this.bluenoise.needsUpdate=!0,this.lastTime=0,this.needsDepthTexture=!0,this.needsSwap=!0,this._r=new ve,this._c=new et}configureHalfResTargets(){this.configuration.halfRes?(this.depthDownsampleTarget=new t7(this.width/2,this.height/2,2),this.depthDownsampleTarget.texture[0].format=k0,this.depthDownsampleTarget.texture[0].type=Pn,this.depthDownsampleTarget.texture[0].minFilter=Nt,this.depthDownsampleTarget.texture[0].magFilter=Nt,this.depthDownsampleTarget.texture[0].depthBuffer=!1,this.depthDownsampleTarget.texture[1].format=zn,this.depthDownsampleTarget.texture[1].type=Xn,this.depthDownsampleTarget.texture[1].minFilter=Nt,this.depthDownsampleTarget.texture[1].magFilter=Nt,this.depthDownsampleTarget.texture[1].depthBuffer=!1,this.depthDownsampleQuad=new jd(new Ht(joe))):(this.depthDownsampleTarget&&(this.depthDownsampleTarget.dispose(),this.depthDownsampleTarget=null),this.depthDownsampleQuad&&(this.depthDownsampleQuad.dispose(),this.depthDownsampleQuad=null))}configureSampleDependentPasses(){this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)}configureAOPass(e=!1){this.samples=this.generateHemisphereSamples(this.configuration.aoSamples),this.samplesR=this.generateHemisphereSamplesR(this.configuration.aoSamples);const n={...Hoe};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.aoSamples).replace("16.0",this.configuration.aoSamples+".0"),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectShaderQuad?(this.effectShaderQuad.material.dispose(),this.effectShaderQuad.material=new Ht(n)):this.effectShaderQuad=new jd(new Ht(n))}configureDenoisePass(e=!1){this.samplesDenoise=this.generateDenoiseSamples(this.configuration.denoiseSamples,11);const n={...Woe};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.denoiseSamples),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.poissonBlurQuad?(this.poissonBlurQuad.material.dispose(),this.poissonBlurQuad.material=new Ht(n)):this.poissonBlurQuad=new jd(new Ht(n))}configureEffectCompositer(e=!1){const n={...Voe};e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&this.configuration.depthAwareUpsampling&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectCompositerQuad?(this.effectCompositerQuad.material.dispose(),this.effectCompositerQuad.material=new Ht(n)):this.effectCompositerQuad=new jd(new Ht(n))}generateHemisphereSamples(e){const n=[];for(let r=0;r<e;r++){const i=2.399963*r,s=Math.sqrt(r+.5)/Math.sqrt(e),o=s*Math.cos(i),a=s*Math.sin(i),l=Math.sqrt(1-(o*o+a*a));n.push(new K(o,a,l))}return n}generateHemisphereSamplesR(e){let n=[];for(let r=0;r<e;r++)n.push((r+1)/e);return n}generateDenoiseSamples(e,n){const r=2*Math.PI*n/e,i=1/e,s=i,o=[];let a=i,l=0;for(let u=0;u<e;u++)o.push(new ve(Math.cos(l),Math.sin(l)).multiplyScalar(Math.pow(a,.75))),a+=s,l+=r;return o}setSize(e,n){this.width=e,this.height=n;const r=this.configuration.halfRes?.5:1;this.writeTargetInternal.setSize(e*r,n*r),this.readTargetInternal.setSize(e*r,n*r),this.configuration.halfRes&&this.depthDownsampleTarget.setSize(e*r,n*r),this.outputTargetInternal.setSize(e,n)}setDepthTexture(e){this.depthTexture=e}render(e,n,r){const i=e.xr.enabled;e.xr.enabled=!1,e.capabilities.logarithmicDepthBuffer!==this.configuration.logarithmicDepthBuffer&&(this.configuration.logarithmicDepthBuffer=e.capabilities.logarithmicDepthBuffer,this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer)),n.texture.type!==this.outputTargetInternal.texture.type&&(this.outputTargetInternal.texture.type=n.texture.type,this.outputTargetInternal.texture.needsUpdate=!0);let s,o,a;this.debugMode&&(s=e.getContext(),o=s.getExtension("EXT_disjoint_timer_query_webgl2"),o===null&&(console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."),this.debugMode=!1)),this.debugMode&&(a=s.createQuery(),s.beginQuery(o.TIME_ELAPSED_EXT,a)),this.camera.updateMatrixWorld(),this._r.set(this.width,this.height);let l=this.configuration.aoRadius;this.configuration.halfRes&&this.configuration.screenSpaceRadius&&(l*=.5),this.configuration.halfRes&&(e.setRenderTarget(this.depthDownsampleTarget),this.depthDownsampleQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.depthDownsampleQuad.material.uniforms.resolution.value=this._r,this.depthDownsampleQuad.material.uniforms.near.value=this.camera.near,this.depthDownsampleQuad.material.uniforms.far.value=this.camera.far,this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.depthDownsampleQuad.material.uniforms.logDepth.value=this.configuration.logarithmicDepthBuffer,this.depthDownsampleQuad.render(e)),this.effectShaderQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectShaderQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectShaderQuad.material.uniforms.sceneNormal.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[1]:null,this.effectShaderQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.effectShaderQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.effectShaderQuad.material.uniforms.projViewMat.value=this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()),this.effectShaderQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectShaderQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectShaderQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new K),this.effectShaderQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.effectShaderQuad.material.uniforms.time.value=performance.now()/1e3,this.effectShaderQuad.material.uniforms.samples.value=this.samples,this.effectShaderQuad.material.uniforms.samplesR.value=this.samplesR,this.effectShaderQuad.material.uniforms.bluenoise.value=this.bluenoise,this.effectShaderQuad.material.uniforms.radius.value=l,this.effectShaderQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectShaderQuad.material.uniforms.near.value=this.camera.near,this.effectShaderQuad.material.uniforms.far.value=this.camera.far,this.effectShaderQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectShaderQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectShaderQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.effectShaderQuad.render(e);for(let u=0;u<this.configuration.denoiseIterations;u++)[this.writeTargetInternal,this.readTargetInternal]=[this.readTargetInternal,this.writeTargetInternal],this.poissonBlurQuad.material.uniforms.tDiffuse.value=this.readTargetInternal.texture,this.poissonBlurQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.poissonBlurQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.poissonBlurQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.poissonBlurQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.poissonBlurQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new K),this.poissonBlurQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.poissonBlurQuad.material.uniforms.time.value=performance.now()/1e3,this.poissonBlurQuad.material.uniforms.blueNoise.value=this.bluenoise,this.poissonBlurQuad.material.uniforms.radius.value=this.configuration.denoiseRadius*(this.configuration.halfRes?.5:1),this.poissonBlurQuad.material.uniforms.worldRadius.value=l,this.poissonBlurQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.poissonBlurQuad.material.uniforms.index.value=u,this.poissonBlurQuad.material.uniforms.poissonDisk.value=this.samplesDenoise,this.poissonBlurQuad.material.uniforms.near.value=this.camera.near,this.poissonBlurQuad.material.uniforms.far.value=this.camera.far,this.poissonBlurQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.poissonBlurQuad.render(e);this.effectCompositerQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectCompositerQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.effectCompositerQuad.material.uniforms.near.value=this.camera.near,this.effectCompositerQuad.material.uniforms.far.value=this.camera.far,this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectCompositerQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectCompositerQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectCompositerQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectCompositerQuad.material.uniforms.downsampledDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectCompositerQuad.material.uniforms.resolution.value=this._r,this.effectCompositerQuad.material.uniforms.blueNoise.value=this.bluenoise,this.effectCompositerQuad.material.uniforms.intensity.value=this.configuration.intensity,this.effectCompositerQuad.material.uniforms.renderMode.value=this.configuration.renderMode,this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,this.effectCompositerQuad.material.uniforms.radius.value=l,this.effectCompositerQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectCompositerQuad.material.uniforms.gammaCorrection.value=this.autosetGamma?this.renderToScreen:this.configuration.gammaCorrection,this.effectCompositerQuad.material.uniforms.tDiffuse.value=this.writeTargetInternal.texture,this.effectCompositerQuad.material.uniforms.color.value=this._c.copy(this.configuration.color).convertSRGBToLinear(),this.effectCompositerQuad.material.uniforms.colorMultiply.value=this.configuration.colorMultiply,this.effectCompositerQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new K),this.effectCompositerQuad.material.uniforms.fog.value=!!this.scene.fog,this.scene.fog&&(this.scene.fog.isFog?(this.effectCompositerQuad.material.uniforms.fogExp.value=!1,this.effectCompositerQuad.material.uniforms.fogNear.value=this.scene.fog.near,this.effectCompositerQuad.material.uniforms.fogFar.value=this.scene.fog.far):this.scene.fog.isFogExp2?(this.effectCompositerQuad.material.uniforms.fogExp.value=!0,this.effectCompositerQuad.material.uniforms.fogDensity.value=this.scene.fog.density):console.error(`Unsupported fog type ${this.scene.fog.constructor.name} in SSAOPass.`)),e.setRenderTarget(this.outputTargetInternal),this.effectCompositerQuad.render(e),e.setRenderTarget(this.renderToScreen?null:r),this.copyQuad.material.uniforms.tDiffuse.value=this.outputTargetInternal.texture,this.copyQuad.render(e),this.debugMode&&(s.endQuery(o.TIME_ELAPSED_EXT),UL(a,s,this)),e.xr.enabled=i}enableDebugMode(){this.debugMode=!0}disableDebugMode(){this.debugMode=!1}setDisplayMode(e){this.configuration.renderMode=["Combined","AO","No AO","Split","Split AO"].indexOf(e)}setQualityMode(e){e==="Performance"?(this.configuration.aoSamples=8,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Low"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Medium"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=12):e==="High"?(this.configuration.aoSamples=64,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=6):e==="Ultra"&&(this.configuration.aoSamples=64,this.configuration.denoiseSamples=16,this.configuration.denoiseRadius=6)}}Uint8Array.from(atob(kL),t=>t.charCodeAt(0));H.forwardRef(({halfRes:t,screenSpaceRadius:e,quality:n,depthAwareUpsampling:r=!0,aoRadius:i=5,aoSamples:s=16,denoiseSamples:o=4,denoiseRadius:a=12,distanceFalloff:l=1,intensity:u=1,color:c,renderMode:f=0},d)=>{const{camera:m,scene:g}=en(),v=H.useMemo(()=>new Joe(g,m),[]);return H.useLayoutEffect(()=>{Ml(v.configuration,{color:c,aoRadius:i,distanceFalloff:l,intensity:u,aoSamples:s,denoiseSamples:o,denoiseRadius:a,screenSpaceRadius:e,renderMode:f,halfRes:t,depthAwareUpsampling:r})},[e,c,i,l,u,s,o,a,f,t,r]),H.useLayoutEffect(()=>{n&&v.setQualityMode(n.charAt(0).toUpperCase()+n.slice(1))},[n]),Ne("primitive",{ref:d,object:v})});const Yoe=()=>{const t=H.useMemo(()=>new H0(0,0,3,1.15,0,2*Math.PI,!1,0).getPoints(100),[]);return hn("group",{children:[Ne(p4,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3}),Ne(p4,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3,rotation:[0,0,1]}),Ne(p4,{worldUnits:!0,points:t,color:"#cae6f1",lineWidth:.3,rotation:[0,0,-1]}),Ne(pL,{args:[.55,64,64],children:Ne("meshBasicMaterial",{color:[6,.5,2],toneMapped:!1})})]})},Koe=()=>hn(Qf,{children:[Ne(Yoe,{}),Ne(eoe,{children:Ne(ooe,{mipmapBlur:!0,luminanceThreshold:1,radius:.7})})]}),Zoe=Ft.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  top: 200px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,Qoe=()=>hn(Qf,{children:[Ne(t3,{camera:{position:[0,0,10]},children:hn(H.Suspense,{fallback:null,children:[Ne(Koe,{}),Ne(a3,{enableZoom:!1,autoRotate:!0})]})}),Ne(Zoe,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]});function qoe({color:t,...e}){const{nodes:n,materials:r}=zh("/shoe.gltf");return hn("group",{...e,dispose:null,children:[Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe.geometry,material:r.laces,"material-envMapIntensity":.8}),Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_1.geometry,children:Ne("meshStandardMaterial",{color:"purple",aoMap:r.mesh.aoMap,normalMap:r.mesh.normalMap,"normalMap-encoding":To,roughnessMap:r.mesh.roughnessMap,metalnessMap:r.mesh.metalnessMap,envMapIntensity:.8})}),Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_2.geometry,material:r.caps,"material-envMapIntensity":.8}),Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_3.geometry,material:r.inner,"material-envMapIntensity":.8}),Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_4.geometry,material:r.sole,"material-envMapIntensity":.8}),Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_5.geometry,material:r.stripes,"material-envMapIntensity":.8}),Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_6.geometry,material:r.band,"material-envMapIntensity":.8}),Ne("mesh",{castShadow:!0,receiveShadow:!0,geometry:n.shoe_7.geometry,material:r.patch,"material-envMapIntensity":.8})]})}zh.preload("/shoe.gltf");const $oe=Ft.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  bottom: 200px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,eae=()=>hn(Qf,{children:[Ne(t3,{children:hn(H.Suspense,{fallback:null,children:[Ne(xL,{environment:"city",intensity:.6,children:Ne(qoe,{})}),Ne(a3,{enableZoom:!1,autoRotate:!0})]})}),Ne($oe,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]});function tae({...t}){const e=H.useRef(),{nodes:n,materials:r}=zh("/mac-draco.glb");return Ne("group",{ref:e,...t,dispose:null,children:hn("group",{position:[0,2.96,-.13],rotation:[Math.PI/2,0,0],children:[Ne("mesh",{material:r.aluminium,geometry:n.Cube008.geometry}),Ne("mesh",{material:r["matte.001"],geometry:n.Cube008_1.geometry}),Ne("mesh",{material:r["screen.001"],geometry:n.Cube008_2.geometry})]})})}const nae=Ft.div`
  width: 200px;
  height: 70px;
  padding: 20px;
  background-color: white;
  border-radius: 10px;
  position: absolute;
  top: 100px;
  right: 100px;

  @media only screen and (max-width: 768px) {
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
`,rae=()=>hn(Qf,{children:[Ne(t3,{children:hn(H.Suspense,{fallback:null,children:[Ne(xL,{environment:"city",intensity:.6,children:Ne(tae,{})}),Ne(a3,{enableZoom:!1,autoRotate:!0})]})}),Ne(nae,{children:"We design products with a strong focus on both world class design and ensuring your product is a market success."})]}),iae=["Web Design","Development","Illustration","Product Design","Social Media"],sae=Ft.div`
  height: 100vh;
  scroll-snap-align: center;
  display: flex;
  justify-content: center;
  position: relative;
  color: black;
  font-size: 14px;
  font-weight: 300;
`,oae=Ft.div`
  width: 1400px;
  display: flex;
  justify-content: space-between;

  @media only screen and (max-width: 768px) {
    width: 100%;
    flex-direction: column;
  }
`,aae=Ft.div`
  flex: 1;
  display: flex;
  align-items: center;

  @media only screen and (max-width: 768px) {
    padding: 20px;
    justify-content: center;
  }
`,lae=Ft.ul`
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 20px;
`,uae=Ft.li`
  font-size: 90px;
  font-weight: bold;
  cursor: pointer;
  color: transparent;
  -webkit-text-stroke: 1px white;
  position: relative;

  @media only screen and (max-width: 768px) {
    font-size: 24px;
    color: white;
    -webkit-text-stroke: 0px;
  }

  ::after {
    content: "${t=>t.text}";
    position: absolute;
    top: 0;
    left: 0;
    color: pink;
    width: 0px;
    overflow: hidden;
    white-space: nowrap;
  }

  &:hover {
    ::after {
      animation: moveText 0.5s linear both;

      @keyframes moveText {
        to {
          width: 100%;
        }
      }
    }
  }
`,cae=Ft.div`
  flex: 1;
`,fae=()=>{const[t,e]=H.useState("Web Design");return Ne(sae,{children:hn(oae,{children:[Ne(aae,{children:Ne(lae,{children:iae.map(n=>Ne(uae,{text:n,onClick:()=>e(n),children:n},n))})}),Ne(cae,{children:t==="Web Design"?Ne(rae,{}):t==="Development"?Ne(Qoe,{}):Ne(eae,{})})]})})},hae=Ft.div`
  height: 100vh;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  overflow-y: auto;
  scrollbar-width: none;
  color: white;
  background: url("./img/bg.jpeg");
  &::-webkit-scrollbar{
    display: none;
  }
`;function dae(){return hn(hae,{children:[Ne(fre,{}),Ne(Mre,{}),Ne(fae,{}),Ne(TW,{})]})}A4.createRoot(document.getElementById("root")).render(Ne(Rn.StrictMode,{children:Ne(BrowserRouter,{basename:"/3d-portfolio/",children:Ne(dae,{})})}));
